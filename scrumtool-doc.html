<head>
    <meta http-equiv='cache-control' content='no-cache'> 
    <meta http-equiv='expires' content='0'> 
    <meta http-equiv='pragma' content='no-cache'>
    <meta http-equiv="Permissions-Policy" content="interest-cohort=()">
    <link rel="stylesheet" href="scrumtool.css">
</head>
<style>
    .help {
        background-color: #ffd700;
        border: 1px solid black;
        padding: 5px;
        border-radius: 5px;
        margin-top: 5px;
        margin-bottom: 5px;
        display: inline-block;
    }
    .help.block {
        display: block;
    }
</style>
<div style="min-width: 900px;">
    <div>
        <div id="header" class="help text">Select the section of the editor</div>
    </div>
    <button id="backlog" class="topmenu" title="Edit project backlog">
        <img class="menuButton undraggable" src="img/backlog.svg"/>
    </button>
    <button id="settings" class="topmenu" title="Settings to edit project">
        <img class="menuButton undraggable" src="img/settings.svg"/>
    </button>
    <button id="schedule" class="topmenu" data-init="project.ui.refresh" title="Edit progress of work">
        <img class="menuButton undraggable" src="img/schedule.svg"/>
    </button>
    <button id="graphs" class="topmenu" title="See progress graphs">
        <img class="menuButton undraggable" src="img/graph.svg"/>
    </button>
    <button id="dordod" class="topmenu" title="Definition Of Ready / Done criteria">
        <img class="menuButton undraggable" src="img/checklists.svg"/>
    </button>
    <div id="savefile">
        <div class="help" style="display: inline-block;">Save project to local file</div>
    <button id="savefile" class="inlineButton" title="Save project to local file">
        <img class="menuButton undraggable" src="img/savefile.svg"/>
    </button></div>
</div>

<div id="backlogScreen" class="toolScreen">
    <div id="backlogDiv">
        <div style="display: inline-block; width: 100%;padding: 10px;">
            <div id="backlog" class="backlog tray" data-dropzone="requirements">
                <div><div class="help">Notes to capture project requirements</div></div>
                <div class="item task level1" title="Drag and drop requirement to board below. Colours just for display.">
                    <div style="background-color:#ffd700;" class="postIt" draggable="true">
                        <span style="float: left; padding: 3px;">
                            <img class="hand" src="img/dragable.svg" title="Drag this">
                        </span>
                    </div>
                </div>
                <div class="item task level2" title="Drag and drop requirement to board below. Colours just for display.">
                    <div style="background-color:#ff69b4;" class="postIt" draggable="true">
                        <span style="float: left; padding: 3px;">
                            <img class="hand" src="img/dragable.svg" title="Drag this">
                        </span>
                    </div>
                </div>
                <div class="item task level3" title="Drag and drop requirement to board below. Colours just for display.">
                    <div style="background-color: #8e67c2;" class="postIt" draggable="true">
                        <span style="float: left; padding: 3px;">
                            <img class="hand" src="img/dragable.svg" title="Drag this">
                        </span>
                    </div>
                </div>
                <div class="item task level4" title="Drag and drop requirement to board below. Colours just for display.">
                    <div style="background-color:#9bee9b;" class="postIt" draggable="true">
                        <span style="float: left; padding: 3px;">
                            <img class="hand" src="img/dragable.svg" title="Drag this">
                        </span>
                    </div>
                </div>
                <div class="item task level5" title="Drag and drop requirement to board below. Colours just for display.">
                    <div style="background-color: #847576;" class="postIt" draggable="true">
                        <span style="float: left; padding: 3px;">
                            <img class="hand" src="img/dragable.svg" title="Drag this">
                        </span>
                    </div>
                </div>
                <div><div class="help">Drag and drop to scrumboard below</div></div>
            </div>    
            <div id="views" style="height: 150px;">
                <div><div class="help" style="display: inline-block;">Requirement whiteboards</div></div>
                <div style="display: inline-block;">
                    <img class="undraggable" src="img/estimate.svg" data-tab="sizes"
                    title="Set size estimates for backlog in bulk"/>
                    <div class="help" style="display: block;">Estimates</div>
                </div>
                <div style="display: inline-block;">
                    <img class="undraggable" src="img/priority.svg" data-tab="priorities" title="Set priority for backlog in bulk"/>
                    <div class="help" style="display: block;">Priorities</div>
                </div>
                <div style="display: inline-block;">
                    <img class="undraggable selected" src="img/backlog.svg" data-tab="requirements" title="Edit backlog items" class="selected"/>
                    <div class="help" style="display: block;">Backlog</div>
                </div>
            </div>
        </div>
        <div id="requirements" class="dropzone backlog selected" title="Drop requirement notes above the box, and arrange them">
            <div id="scrumboard" class="help" style="margin-top: 20px; margin-left: 20px; display: inline-block;">Scrumboard to arrange requiremenst freeform</div>
            
            <div class="item taskbrief dropzone" id="requirements_1679976374445" draggable="true" style="background-color: rgb(142, 103, 194); position: absolute; left: 12px; top: 52px;">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Project Backlog</p></div>
                <div id="data">{"name":"Project Backlog","level":"level3","left":"12px","top":"52.8px","noteColor":"#8e67c2","textColor":"#000000","musthave":true,"boulder":true,"description":"Add requirements to project backlog"}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1679976374448" draggable="true" style="background-color: rgb(255, 215, 0); position: absolute; left: 212px; top: 52px;">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Sticky notes pallete</p></div>
                <div id="data">{"name":"Sticky notes pallete","shouldhave":true,"pebble":true,"level":"level1","left":"212px","top":"52.8px","noteColor":"#ffd700","textColor":"#000000","description":"Create pallete to allow user to chode the color of the note."}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978947" draggable="true" style="background-color: rgb(142, 103, 194); position: absolute; left: 412px; top: 52.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Add developer</p></div>
                <div id="data">{"name":"Add developer","pebble":true,"level":"level3","left":"412px","top":"52.8px","noteColor":"#8e67c2","textColor":"#000000","musthave":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978949" draggable="true" style="background-color: rgb(142, 103, 194); position: absolute; left: 612px; top: 52.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Add tech lead</p></div>
                <div id="data">{"name":"Add tech lead","level":"level3","left":"612px","top":"52.8px","noteColor":"#8e67c2","textColor":"#000000","musthave":true,"rock":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978952" draggable="true" style="background-color: rgb(255, 215, 0); position: absolute; left: 812px; top: 52.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Add tester</p></div>
                <div id="data">{"name":"Add tester","pebble":true,"level":"level1","left":"812px","top":"52.8px","noteColor":"#ffd700","textColor":"#000000","musthave":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978958" draggable="true" style="background-color: rgb(142, 103, 194); position: absolute; left: 1012px; top: 52.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Delete team member</p></div>
                <div id="data">{"name":"Delete team member","pebble":true,"level":"level3","left":"1012px","top":"52.8px","noteColor":"#8e67c2","textColor":"#000000","musthave":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978961" draggable="true" style="background-color: rgb(142, 103, 194); position: absolute; left: 1212px; top: 52.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Edit team member details</p></div>
                <div id="data">{"name":"Edit team member details","pebble":true,"level":"level3","left":"1212px","top":"52.8px","noteColor":"#8e67c2","textColor":"#000000","musthave":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978964" draggable="true" style="background-color: rgb(132, 117, 118); position: absolute; left: 12px; top: 252.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Add project name</p></div>
                <div id="data">{"name":"Add project name","pebble":true,"level":"level5","left":"12px","top":"252.8px","noteColor":"#847576","textColor":"#000000","musthave":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978967" draggable="true" style="background-color: rgb(132, 117, 118); position: absolute; left: 212px; top: 252.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Add development sprint</p></div>
                <div id="data">{"name":"Add development sprint","pebble":true,"level":"level5","left":"212px","top":"252.8px","noteColor":"#847576","textColor":"#000000","musthave":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978971" draggable="true" style="background-color: rgb(132, 117, 118); position: absolute; left: 412px; top: 252.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Add hardening sprint</p></div>
                <div id="data">{"name":"Add hardening sprint","shouldhave":true,"pebble":true,"level":"level5","left":"412px","top":"252.8px","noteColor":"#847576","textColor":"#000000","description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978975" draggable="true" style="background-color: rgb(142, 103, 194); position: absolute; left: 612px; top: 252.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Edit hardening sprint</p></div>
                <div id="data">{"name":"Edit hardening sprint","shouldhave":true,"level":"level3","left":"612px","top":"252.8px","noteColor":"#8e67c2","textColor":"#000000","rock":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978978" draggable="true" style="background-color: rgb(255, 215, 0); position: absolute; left: 812px; top: 252.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Edit project name</p></div>
                <div id="data">{"name":"Edit project name","shouldhave":true,"level":"level1","left":"812px","top":"252.8px","noteColor":"#ffd700","textColor":"#000000","dust":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978982" draggable="true" style="background-color: rgb(142, 103, 194); position: absolute; left: 1012px; top: 252.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Set project start date</p></div>
                <div id="data">{"name":"Set project start date","shouldhave":true,"level":"level3","left":"1012px","top":"252.8px","noteColor":"#8e67c2","textColor":"#000000","dust":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978985" draggable="true" style="background-color: rgb(255, 105, 180); position: absolute; left: 1212px; top: 252.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Delete sprint</p></div>
                <div id="data">{"name":"Delete sprint","shouldhave":true,"pebble":true,"level":"level2","left":"1212px","top":"252.8px","noteColor":"#ff69b4","textColor":"#000000","description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978989" draggable="true" style="background-color: rgb(155, 238, 155); position: absolute; left: 12px; top: 452.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Add holiday week</p></div>
                <div id="data">{"name":"Add holiday week","level":"level4","left":"12px","top":"452.8px","noteColor":"#9bee9b","textColor":"#000000","musthave":true,"boulder":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978993" draggable="true" style="background-color: rgb(255, 215, 0); position: absolute; left: 212px; top: 452.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Delete holiday week</p></div>
                <div id="data">{"name":"Delete holiday week","level":"level1","left":"212px","top":"452.8px","noteColor":"#ffd700","textColor":"#000000","musthave":true,"stone":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010978997" draggable="true" style="background-color: rgb(142, 103, 194); position: absolute; left: 412px; top: 452.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Set burndown recording days of week</p></div>
                <div id="data">{"name":"Set burndown recording days of week","pebble":true,"level":"level3","left":"412px","top":"452.8px","noteColor":"#8e67c2","textColor":"#000000","nicetohave":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979001" draggable="true" style="background-color: rgb(255, 215, 0); position: absolute; left: 612px; top: 452.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Set defult capacity</p></div>
                <div id="data">{"name":"Set defult capacity","level":"level1","left":"612px","top":"452.8px","noteColor":"#ffd700","textColor":"#000000","nicetohave":true,"grain":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979005" draggable="true" style="background-color: rgb(255, 215, 0); position: absolute; left: 812px; top: 452.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Set default estimates</p></div>
                <div id="data">{"name":"Set default estimates","level":"level1","left":"812px","top":"452.8px","noteColor":"#ffd700","textColor":"#000000","musthave":true,"boulder":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979011" draggable="true" style="background-color: rgb(142, 103, 194); position: absolute; left: 1012px; top: 452.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Set default time off per week</p></div>
                <div id="data">{"name":"Set default time off per week","level":"level3","left":"1012px","top":"452.8px","noteColor":"#8e67c2","textColor":"#000000","nicetohave":true,"rock":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979016" draggable="true" style="background-color: rgb(142, 103, 194); position: absolute; left: 1212px; top: 452.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Set default priority</p></div>
                <div id="data">{"name":"Set default priority","shouldhave":true,"level":"level3","left":"1212px","top":"452.8px","noteColor":"#8e67c2","textColor":"#000000","grain":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979022" draggable="true" style="background-color: rgb(255, 215, 0); position: absolute; left: 12px; top: 652.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Set default estimate</p></div>
                <div id="data">{"name":"Set default estimate","level":"level1","left":"12px","top":"652.8px","noteColor":"#ffd700","textColor":"#000000","nicetohave":true,"grain":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979027" draggable="true" style="background-color: rgb(255, 105, 180); position: absolute; left: 212px; top: 652.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Project editor view</p></div>
                <div id="data">{"name":"Project editor view","level":"level2","left":"212px","top":"652.8px","noteColor":"#ff69b4","textColor":"#000000","musthave":true,"stone":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979031" draggable="true" style="background-color: rgb(255, 105, 180); position: absolute; left: 412px; top: 652.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Sprint editor view</p></div>
                <div id="data">{"name":"Sprint editor view","shouldhave":true,"level":"level2","left":"412px","top":"652.8px","noteColor":"#ff69b4","textColor":"#000000","boulder":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979035" draggable="true" style="background-color: rgb(255, 105, 180); position: absolute; left: 612px; top: 652.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Assign requirements to sprints</p></div>
                <div id="data">{"name":"Assign requirements to sprints","pebble":true,"level":"level2","left":"612px","top":"652.8px","noteColor":"#ff69b4","textColor":"#000000","optional":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979041" draggable="true" style="background-color: rgb(255, 215, 0); position: absolute; left: 812px; top: 652.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Create new tasks for sprints</p></div>
                <div id="data">{"name":"Create new tasks for sprints","shouldhave":true,"level":"level1","left":"812px","top":"652.8px","noteColor":"#ffd700","textColor":"#000000","rock":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979045" draggable="true" style="background-color: rgb(132, 117, 118); position: absolute; left: 1012px; top: 652.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Add requirements in sprint editor</p></div>
                <div id="data">{"name":"Add requirements in sprint editor","level":"level5","left":"1012px","top":"652.8px","noteColor":"#847576","textColor":"#000000","nicetohave":true,"stone":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979049" draggable="true" style="background-color: rgb(255, 215, 0); position: absolute; left: 1212px; top: 652.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Developer view in sprint editor</p></div>
                <div id="data">{"name":"Developer view in sprint editor","pebble":true,"level":"level1","left":"1212px","top":"652.8px","noteColor":"#ffd700","textColor":"#000000","optional":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979053" draggable="true" style="background-color: rgb(255, 215, 0); position: absolute; left: 12px; top: 852.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Tester view in sprint editor</p></div>
                <div id="data">{"name":"Tester view in sprint editor","level":"level1","left":"12px","top":"852.8px","noteColor":"#ffd700","textColor":"#000000","musthave":true,"stone":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979057" draggable="true" style="background-color: rgb(132, 117, 118); position: absolute; left: 212px; top: 852.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Sprint burndown graph</p></div>
                <div id="data">{"name":"Sprint burndown graph","level":"level5","left":"212px","top":"852.8px","noteColor":"#847576","textColor":"#000000","musthave":true,"rock":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979061" draggable="true" style="background-color: rgb(155, 238, 155); position: absolute; left: 412px; top: 852.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Project burndown graph</p></div>
                <div id="data">{"name":"Project burndown graph","shouldhave":true,"pebble":true,"level":"level4","left":"412px","top":"852.8px","noteColor":"#9bee9b","textColor":"#000000","description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979065" draggable="true" style="background-color: rgb(132, 117, 118); position: absolute; left: 612px; top: 852.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Task allocation to developer</p></div>
                <div id="data">{"name":"Task allocation to developer","shouldhave":true,"pebble":true,"level":"level5","left":"612px","top":"852.8px","noteColor":"#847576","textColor":"#000000","description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979070" draggable="true" style="background-color: rgb(142, 103, 194); position: absolute; left: 812px; top: 852.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Task burndown view</p></div>
                <div id="data">{"name":"Task burndown view","level":"level3","left":"812px","top":"852.8px","noteColor":"#8e67c2","textColor":"#000000","nicetohave":true,"stone":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979074" draggable="true" style="background-color: rgb(255, 105, 180); position: absolute; left: 1012px; top: 852.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Project entry checklist</p></div>
                <div id="data">{"name":"Project entry checklist","level":"level2","left":"1012px","top":"852.8px","noteColor":"#ff69b4","textColor":"#000000","musthave":true,"mountain":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979078" draggable="true" style="background-color: rgb(142, 103, 194); position: absolute; left: 1212px; top: 852.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Project exit review checklist</p></div>
                <div id="data">{"name":"Project exit review checklist","pebble":true,"level":"level3","left":"1212px","top":"852.8px","noteColor":"#8e67c2","textColor":"#000000","nicetohave":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979083" draggable="true" style="background-color: rgb(255, 215, 0); position: absolute; left: 12px; top: 1052.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Click graph to edit object</p></div>
                <div id="data">{"name":"Click graph to edit object","level":"level1","left":"12px","top":"1052.8px","noteColor":"#ffd700","textColor":"#000000","musthave":true,"stone":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979088" draggable="true" style="background-color: rgb(155, 238, 155); position: absolute; left: 212px; top: 1052.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Graphical display for checklists</p></div>
                <div id="data">{"name":"Graphical display for checklists","level":"level4","left":"212px","top":"1052.8px","noteColor":"#9bee9b","textColor":"#000000","nicetohave":true,"rock":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979093" draggable="true" style="background-color: rgb(132, 117, 118); position: absolute; left: 412px; top: 1052.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Edit object from graph view</p></div>
                <div id="data">{"name":"Edit object from graph view","shouldhave":true,"pebble":true,"level":"level5","left":"412px","top":"1052.8px","noteColor":"#847576","textColor":"#000000","description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979098" draggable="true" style="background-color: rgb(132, 117, 118); position: absolute; left: 612px; top: 1052.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Switch project to sprint view</p></div>
                <div id="data">{"name":"Switch project to sprint view","level":"level5","left":"612px","top":"1052.8px","noteColor":"#847576","textColor":"#000000","musthave":true,"stone":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979102" draggable="true" style="background-color: rgb(155, 238, 155); position: absolute; left: 812px; top: 1052.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Switch dev to test view</p></div>
                <div id="data">{"name":"Switch dev to test view","pebble":true,"level":"level4","left":"812px","top":"1052.8px","noteColor":"#9bee9b","textColor":"#000000","optional":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979106" draggable="true" style="background-color: rgb(132, 117, 118); position: absolute; left: 1012px; top: 1052.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Syncronise task movement across statuses in project, dev sprint and test sprint screens</p></div>
                <div id="data">{"name":"Syncronise task movement across statuses in project, dev sprint and test sprint screens","pebble":true,"level":"level5","left":"1012px","top":"1052.8px","noteColor":"#847576","textColor":"#000000","optional":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979111" draggable="true" style="background-color: rgb(255, 105, 180); position: absolute; left: 1212px; top: 1052.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Save project as JSON</p></div>
                <div id="data">{"name":"Save project as JSON","pebble":true,"level":"level2","left":"1212px","top":"1052.8px","noteColor":"#ff69b4","textColor":"#000000","optional":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979115" draggable="true" style="background-color: rgb(142, 103, 194); position: absolute; left: 12px; top: 1252.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Color picker for sticky notes</p></div>
                <div id="data">{"name":"Color picker for sticky notes","shouldhave":true,"level":"level3","left":"12px","top":"1252.8px","noteColor":"#8e67c2","textColor":"#000000","stone":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979119" draggable="true" style="background-color: rgb(132, 117, 118); position: absolute; left: 212px; top: 1252.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Text color picker for sticky notes</p></div>
                <div id="data">{"name":"Text color picker for sticky notes","level":"level5","left":"212px","top":"1252.8px","noteColor":"#847576","textColor":"#000000","musthave":true,"stone":true,"description":""}</div>
            </div>

            <div class="item taskbrief dropzone" id="requirements_1680010979124" draggable="true" style="background-color: rgb(132, 117, 118); position: absolute; left: 412px; top: 1252.8px; color: rgb(0, 0, 0);">
                <div id="controls" style="display: flow-root;">
                    <span style="float: left; padding: 3px;">
                        <img class="hand" src="img/dragable.svg" title="Drag this">
                    </span>
                    <span class="taskcontrols" style="float: right;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                    </span>
                </div>
                <div class="itemDescription"><p class="itemName" style="color: rgb(0, 0, 0);">Auto complete tasks dragged to done</p></div>
                <div id="data">{"name":"Auto complete tasks dragged to done","pebble":true,"level":"level5","left":"412px","top":"1252.8px","noteColor":"#847576","textColor":"#000000","optional":true,"description":""}</div>
            </div>

        </div>
        <div id="priorities" class="backlog" title="Arrange backlog priorities"></div>
        <div id="sizes" class="backlog" title="Arrange backlog sizes"></div>
    </div>
    <div id="requirementsForm" class="modal" style="display: none;">
        <div class="modal-container">
            <div class="container">
                <div onclick="document.getElementById('requirementsForm').style.display='none'" class="minbutton"></div>
                <div><input id="name" class="teamData" placeholder="Requirement"></div>
                <div>
                    <textarea id="description" class="teamData" placeholder="Details"></textarea>
                </div>
                <div id="priorities"></div>
                <div id="estimate"></div>
                <div id="notedisplay">
                    <div id="backgroundColor" class="select">Note color:<input id="noteColor" type="color"></div>
                    <div id="textColor" class="select">Text color:<input id="textColor" type="color"></div>
                </div>
                <button id="yes">Save</button>
                <button id="no">Discard</button>
            </div>
        </div>
    </div>

    <template id="backlogShort">
        <div class="reqt backlogitem" draggable="true"
            onmouseover="project.ui.schedule.highlight(this)"
            onmouseout="project.ui.schedule.lowlight(this)">
            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"/>
            <div class="summary"></div>
            <div id="data"></div>
        </div>
    </template>
</div>

<div id="settingsScreen" class="toolScreen" style="display: none;">
    <div class="help" style="margin-top: 15px; margin-left: 15px;">Configure staff, schedule and people information. Set data entry defaults.</div>
    <div id="projectInfo">
        <div style="display: inline-block;">
            <button id="loadfile" class="inlineButton" title="Load saved project file"><img class="menuButton undraggable" src="img/readfile.svg"/></button>
            <div class="help" style="display: block;">Read saved project</div>
        </div>
        <div style="display: inline-block;">
            <label for="projectName">Project name:</label>
            <input type="text" id="projectName" name="projectName" title="Name of project - used while saving"
            value="Amadeus">
            <div class="help" style="display: block;">Enter project name</div>
        </div>
        <div style="display: inline-block;">
            <label for="startDate" style="margin-left: 20px;">Start:</label>
            <input type="date" id="startDate" class="monday" name="startDate" title="Start date of project - use a Monday" onchange="project.ui.sprint.syncTabs()">
            <div class="help" style="display: block;">Set start date</div>
        </div>
    </div>

    <div id="teamDiv">
        <div id="people" class="projectComponent">
            <div id="developer" class="item person" draggable="true" title="Drag to box below to add a developer to the team">
                <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                <img class="menuicon" src="img/developer.svg" draggable="false"/>
            </div>
            <div id="lead" class="item person" draggable="true" title="Drag to box below to add a tech lead to the team">
                <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                <img class="menuicon" src="img/lead.svg" draggable="false"/>
            </div>
            <div id="tester" class="item person" draggable="true" title="Drag to box below to add a tester to the team">
                <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                <img class="menuicon" src="img/tester.svg" draggable="false"/>
            </div>
            <div class="help">Drag leads, developers and testers to the box below</div>
        </div>
        <div id="team" class="dropzone droplist people" title="Drag team members here from above">
            <div class="item dropzone teamMember lead" id="team_1680012489916" draggable="true">
                <div class="icons">
                    <div id="itemImage" class="control"><div id="lead" class="item person" draggable="false" title="">
                    <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                    <img class="menuicon" src="img/lead.svg" draggable="false">
                </div></div>
                    <div class="controls">
                        <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                        <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                    </div>
                    <div class="itemName">Amar</div>
                </div>
                <div id="data">{"name":"Amar","role":"lead"}</div>
            </div>
            <div class="item dropzone teamMember developer" id="team_1680012596146" draggable="true">
                <div class="icons">
                    <div id="itemImage" class="control"><div id="developer" class="item person" draggable="false" title="">
                    <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                    <img class="menuicon" src="img/developer.svg" draggable="false">
                </div></div>
                    <div class="controls">
                        <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                        <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                    </div>
                    <div class="itemName">Asha</div>
                </div>
                <div id="data">{"name":"Asha","role":"developer"}</div>
            </div>
            <div class="item dropzone teamMember developer" id="team_1680012596146" draggable="true">
                <div class="icons">
                    <div id="itemImage" class="control"><div id="developer" class="item person" draggable="false" title="">
                    <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                    <img class="menuicon" src="img/developer.svg" draggable="false">
                </div></div>
                    <div class="controls">
                        <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                        <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                    </div>
                    <div class="itemName">Asha</div>
                </div>
                <div id="data">{"name":"Asha","role":"developer"}</div>
            </div>
            <div class="item dropzone teamMember developer" id="team_1680012596149" draggable="true">
                <div class="icons">
                    <div id="itemImage" class="control"><div id="developer" class="item person" draggable="false" title="">
                    <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                    <img class="menuicon" src="img/developer.svg" draggable="false">
                </div></div>
                    <div class="controls">
                        <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                        <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                    </div>
                    <div class="itemName">Charles</div>
                </div>
                <div id="data">{"name":"Charles","role":"developer"}</div>
            </div>
            <div class="item dropzone teamMember developer" id="team_1680012596151" draggable="true">
                <div class="icons">
                    <div id="itemImage" class="control"><div id="developer" class="item person" draggable="false" title="">
                    <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                    <img class="menuicon" src="img/developer.svg" draggable="false">
                </div></div>
                    <div class="controls">
                        <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                        <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                    </div>
                    <div class="itemName">Dinesh</div>
                </div>
                <div id="data">{"name":"Dinesh","role":"developer"}</div>
            </div>
            <div class="item dropzone teamMember developer" id="team_1680012596154" draggable="true">
                <div class="icons">
                    <div id="itemImage" class="control"><div id="developer" class="item person" draggable="false" title="">
                    <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                    <img class="menuicon" src="img/developer.svg" draggable="false">
                </div></div>
                    <div class="controls">
                        <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                        <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                    </div>
                    <div class="itemName">Eshan</div>
                </div>
                <div id="data">{"name":"Eshan","role":"developer"}</div>
            </div>
            <div class="item dropzone teamMember tester" id="team_1680012596163" draggable="true">
                <div class="icons">
                    <div id="itemImage" class="control"><div id="tester" class="item person" draggable="false" title="">
                    <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                    <img class="menuicon" src="img/tester.svg" draggable="false">
                </div></div>
                    <div class="controls">
                        <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                        <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                    </div>
                    <div class="itemName">Aalia</div>
                </div>
                <div id="data">{"name":"Aalia","role":"tester"}</div>
            </div>
            <div class="item dropzone teamMember tester" id="team_1680012596165" draggable="true">
                <div class="icons">
                    <div id="itemImage" class="control"><div id="tester" class="item person" draggable="false" title="">
                    <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                    <img class="menuicon" src="img/tester.svg" draggable="false">
                </div></div>
                    <div class="controls">
                        <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                        <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                    </div>
                    <div class="itemName">Bharat</div>
                </div>
                <div id="data">{"name":"Bharat","role":"tester"}</div>
            </div>
            <div class="item dropzone teamMember tester" id="team_1680012596167" draggable="true">
                <div class="icons">
                    <div id="itemImage" class="control"><div id="tester" class="item person" draggable="false" title="">
                    <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                    <img class="menuicon" src="img/tester.svg" draggable="false">
                </div></div>
                    <div class="controls">
                        <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                        <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                    </div>
                    <div class="itemName">Chand</div>
                </div>
                <div id="data">{"name":"Chand","role":"tester"}</div>
            </div>
            <div class="item dropzone teamMember tester" id="team_1680012596169" draggable="true">
                <div class="icons">
                    <div id="itemImage" class="control"><div id="tester" class="item person" draggable="false" title="">
                    <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                    <img class="menuicon" src="img/tester.svg" draggable="false">
                </div></div>
                    <div class="controls">
                        <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                        <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                    </div>
                    <div class="itemName">Dilip</div>
                </div>
                <div id="data">{"name":"Dilip","role":"tester"}</div>
            </div>
        </div>
    </div>

    <div id="scheduleDiv">
        <div class="leftDiv">
            <div id="msTypes" class="projectComponent">
                <div id="development" class="item newSprint" draggable="true" title="Drag to box below to add a development sprint. (Order according to time)">
                    <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                    <img class="menuicon" src="img/devsprint.svg" draggable="false"/>
                </div>
                <div id="testing" class="item newSprint" draggable="true" title="Drag to box below to add a non-burndown sprint (testing, investigation, ... Order according to time)">
                    <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                    <img class="menuicon" src="img/qasprint.svg" draggable="false"/>
                </div>
                <div class="help">Drag development and testing sprints to the box below</div>
            </div>
            <div id="sprints" class="dropzone droplist schedule" title="Drag sprints here from above">
                <div class="item dropzone sprint development" id="sprints_1680012596198" draggable="true">
                    <div class="icons">
                        <div id="itemImage" class="control"><div id="development" class="item newSprint" draggable="false" title="">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <img class="menuicon" src="img/devsprint.svg" draggable="false">
                        </div></div>
                        <div class="controls">
                            <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                            <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                        </div>
                        <div class="itemName">Alpha</div>
                    </div>
                    <div id="data">{"name":"Alpha","type":"development","weeks":"2","team_1680012596138":"40","vac_team_1680012596138":"1","team_1680012596146":"80","vac_team_1680012596146":"1","team_1680012596148":"80","vac_team_1680012596148":"1","team_1680012596149":"80","vac_team_1680012596149":"1","team_1680012596151":"80","vac_team_1680012596151":"1","team_1680012596154":"80","vac_team_1680012596154":"1"}</div>
                </div>
                <div class="item dropzone sprint development" id="sprints_1680012596213" draggable="true">
                    <div class="icons">
                        <div id="itemImage" class="control"><div id="development" class="item newSprint" draggable="false" title="">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <img class="menuicon" src="img/devsprint.svg" draggable="false">
                        </div></div>
                        <div class="controls">
                            <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                            <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                        </div>
                        <div class="itemName">Bravo</div>
                    </div>
                    <div id="data">{"name":"Bravo","type":"development","weeks":"2","team_1680012596138":"40","vac_team_1680012596138":"1","team_1680012596146":"80","vac_team_1680012596146":"1","team_1680012596148":"80","vac_team_1680012596148":"1","team_1680012596149":"80","vac_team_1680012596149":"1","team_1680012596151":"80","vac_team_1680012596151":"1","team_1680012596154":"80","vac_team_1680012596154":"1"}</div>
                </div>
                <div class="item dropzone sprint development" id="sprints_1680012596226" draggable="true">
                    <div class="icons">
                        <div id="itemImage" class="control"><div id="development" class="item newSprint" draggable="false" title="">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <img class="menuicon" src="img/devsprint.svg" draggable="false">
                        </div></div>
                        <div class="controls">
                            <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                            <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                        </div>
                        <div class="itemName">Charlie</div>
                    </div>
                    <div id="data">{"name":"Charlie","type":"development","weeks":"2","team_1680012596138":"40","vac_team_1680012596138":"1","team_1680012596146":"80","vac_team_1680012596146":"1","team_1680012596148":"80","vac_team_1680012596148":"1","team_1680012596149":"80","vac_team_1680012596149":"1","team_1680012596151":"80","vac_team_1680012596151":"1","team_1680012596154":"80","vac_team_1680012596154":"1"}</div>
                </div>
                <div class="item dropzone sprint development" id="sprints_1680012596235" draggable="true">
                    <div class="icons">
                        <div id="itemImage" class="control"><div id="development" class="item newSprint" draggable="false" title="">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <img class="menuicon" src="img/devsprint.svg" draggable="false">
                        </div></div>
                        <div class="controls">
                            <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                            <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                        </div>
                        <div class="itemName">Delta</div>
                    </div>
                    <div id="data">{"name":"Delta","type":"development","weeks":"2","team_1680012596138":"40","vac_team_1680012596138":"1","team_1680012596146":"80","vac_team_1680012596146":"1","team_1680012596148":"80","vac_team_1680012596148":"1","team_1680012596149":"80","vac_team_1680012596149":"1","team_1680012596151":"80","vac_team_1680012596151":"1","team_1680012596154":"80","vac_team_1680012596154":"1"}</div>
                </div>
                <div class="item dropzone sprint development" id="sprints_1680012596248" draggable="true">
                    <div class="icons">
                        <div id="itemImage" class="control"><div id="development" class="item newSprint" draggable="false" title="">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <img class="menuicon" src="img/devsprint.svg" draggable="false">
                        </div></div>
                        <div class="controls">
                            <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                            <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                        </div>
                        <div class="itemName">Echo</div>
                    </div>
                    <div id="data">{"name":"Echo","type":"development","weeks":"2","team_1680012596138":"40","vac_team_1680012596138":"1","team_1680012596146":"80","vac_team_1680012596146":"1","team_1680012596148":"80","vac_team_1680012596148":"1","team_1680012596149":"80","vac_team_1680012596149":"1","team_1680012596151":"80","vac_team_1680012596151":"1","team_1680012596154":"80","vac_team_1680012596154":"1"}</div>
                </div>
                <div class="item dropzone sprint development" id="sprints_1680012596260" draggable="true">
                    <div class="icons">
                        <div id="itemImage" class="control"><div id="development" class="item newSprint" draggable="false" title="">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <img class="menuicon" src="img/devsprint.svg" draggable="false">
                        </div></div>
                        <div class="controls">
                            <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                            <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                        </div>
                        <div class="itemName">Foxtrot</div>
                    </div>
                    <div id="data">{"name":"Foxtrot","type":"development","weeks":"2","team_1680012596138":"40","vac_team_1680012596138":"1","team_1680012596146":"80","vac_team_1680012596146":"1","team_1680012596148":"80","vac_team_1680012596148":"1","team_1680012596149":"80","vac_team_1680012596149":"1","team_1680012596151":"80","vac_team_1680012596151":"1","team_1680012596154":"80","vac_team_1680012596154":"1"}</div>
                </div>
                <div class="item dropzone sprint development" id="sprints_1680012596271" draggable="true">
                    <div class="icons">
                        <div id="itemImage" class="control"><div id="development" class="item newSprint" draggable="false" title="">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <img class="menuicon" src="img/devsprint.svg" draggable="false">
                        </div></div>
                        <div class="controls">
                            <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                            <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                        </div>
                        <div class="itemName">Golf</div>
                    </div>
                    <div id="data">{"name":"Golf","type":"development","weeks":"2","team_1680012596138":"40","vac_team_1680012596138":"1","team_1680012596146":"80","vac_team_1680012596146":"1","team_1680012596148":"80","vac_team_1680012596148":"1","team_1680012596149":"80","vac_team_1680012596149":"1","team_1680012596151":"80","vac_team_1680012596151":"1","team_1680012596154":"80","vac_team_1680012596154":"1"}</div>
                </div>
                <div class="item dropzone sprint testing" id="sprints_1680013396229" draggable="true">
                    <div class="icons">
                        <div id="itemImage" class="control"><div id="testing" class="item newSprint" draggable="false" title="">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <img class="menuicon" src="img/qasprint.svg" draggable="false">
                        </div></div>
                        <div class="controls">
                            <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                            <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                        </div>
                        <div class="itemName">Acceptence</div>
                    </div>
                    <div id="data">{"name":"Acceptence","type":"testing","weeks":"2","vac_team_1680012596163":"1","vac_team_1680012596165":"1","vac_team_1680012596167":"1","vac_team_1680012596169":"1"}</div>
                </div>
                <div class="item dropzone sprint testing" id="sprints_1680013397861" draggable="true">
                    <div class="icons">
                        <div id="itemImage" class="control"><div id="testing" class="item newSprint" draggable="false" title="">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <img class="menuicon" src="img/qasprint.svg" draggable="false">
                        </div></div>
                        <div class="controls">
                            <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                            <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                        </div>
                        <div class="itemName">Alpha</div>
                    </div>
                    <div id="data">{"name":"Alpha","type":"testing","weeks":"2","vac_team_1680012596163":"1","vac_team_1680012596165":"1","vac_team_1680012596167":"1","vac_team_1680012596169":"1"}</div>
                </div>
                <div class="item dropzone sprint testing" id="sprints_1680013400033" draggable="true">
                    <div class="icons">
                        <div id="itemImage" class="control"><div id="testing" class="item newSprint" draggable="false" title="">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <img class="menuicon" src="img/qasprint.svg" draggable="false">
                        </div></div>
                        <div class="controls">
                            <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                            <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                        </div>
                        <div class="itemName">Regression</div>
                    </div>
                    <div id="data">{"name":"Regression","type":"testing","weeks":"2","vac_team_1680012596163":"1","vac_team_1680012596165":"1","vac_team_1680012596167":"1","vac_team_1680012596169":"1"}</div>
                </div>
            </div>
        </div>

        <div class="rightDiv">
            <div id="blackouts" class="projectComponent"
            title="Drag below to add weeks where no burndown is likely (Diwali, Christmas, company events, training...)"
            style="grid-template-columns: repeat(3, 1fr)">
                <div id="blackoutImg" class="item blackout" draggable="true">
                    <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                    <img class="menuicon" src="img/blackout.svg" draggable="false"/>
                </div>
                <div class="help">Drag weeks where no burndown is expected to the box below</div>
            </div>
            <div id="holidayWeeks" class="dropzone droplist holidayWeeks" title="Drag black out weeks here from above">
                <div class="item dropzone holidayWeek" id="holidayWeeks_1680012948078" draggable="true">
                    <div class="icons">
                        <div id="itemImage" class="control"><div id="blackoutImg" class="item blackout" draggable="false" title="">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <img class="menuicon" src="img/blackout.svg" draggable="false">
                        </div></div>
                        <div class="controls">
                            <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                            <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                        </div>
                        <div class="itemName">Training</div>
                    </div>
                    <div id="data">{"name":"Training","holidayStart":"2023-W15"}</div>
                </div>
                <div class="item dropzone holidayWeek" id="holidayWeeks_1680012954345" draggable="true">
                    <div class="icons">
                        <div id="itemImage" class="control"><div id="blackoutImg" class="item blackout" draggable="false" title="">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <img class="menuicon" src="img/blackout.svg" draggable="false">
                        </div></div>
                        <div class="controls">
                            <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                            <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                        </div>
                        <div class="itemName">CEO Visit</div>
                    </div>
                    <div id="data">{"name":"CEO Visit","holidayStart":"2023-W18"}</div>
                </div>
            </div>
        </div>
    </div>

    <div id="defaultsDiv">
        <div id="weekDiv" class="leftDiv">
            <div class="weeksetup">
                <div id="daytypes" class="projectComponent" style="height: 64px">
                    <div id="workday" class="item daytype workday" draggable="true" title="Drag below to set weekly project tracking days">
                        <img class="hand" src="img/dragable.svg" draggable="false">
                        <img class="menuicon" src="img/workday.svg" draggable="false"/>
                    </div>
                    <div class="help">Drag day to track burndown</div>
                    <div id="holiday" class="item daytype holiday" draggable="true" title="Drag below to set weekly day off">
                        <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                        <img class="menuicon" src="img/holiday.svg" draggable="false"/>
                    </div>
                    <div class="help">Drag weekly holidays</div>
                </div>
                <div id="week" class="dropzone weekdays">
                    <table style="width: 100%; table-layout: fixed; min-height: 106px;"><tr>
                        <td id="d1" class="weekday" data-value="1"><div class="dow">Mon</div></td>
                        <td id="d2" class="weekday" data-value="2"><div class="dow">Tue</div></td>
                        <td id="d3" class="weekday" data-value="3"><div class="dow">Wed</div></td>
                        <td id="d4" class="weekday" data-value="4"><div class="dow">Thu</div></td>
                        <td id="d5" class="weekday" data-value="5"><div class="dow">Fri</div></td>
                        <td id="d6" class="weekday" data-value="6"><div class="dow">Sat</div></td>
                        <td id="d0" class="weekday" data-value="0"><div class="dow">Sun</div></td>
                    </tr></table>
                </div>
            </div>
        </div>

        <div class="rightDiv">
            <div id="blackouts" class="projectComponent" style="height: 64px">
                <div class="item" title="Project defaults">
                    <img class="menuIcon undraggable" src="img/edit.svg"
                        style="height: 40px; margin-bottom: 10px; margin-top: 10px;"
                        title="Edit dates"/>
                </div>
            </div>    
            <div id="defaults">
                <table style="width: 100%; border-collapse: collapse; border: 2px solid #666;">
                    <tr class="parameters">
                        <td class="capacitySetting" colspan="2"
                            style="border-bottom: 3px solid #666; border-right: 3px solid #666;">
                            <table>
                                <tr>
                                    <td style="vertical-align: top;">
                                        <img class="rowLabel undraggable" src="img/capacity.svg"
                                        title="Default capacity for development"/>
                                    </td>
                                    <td class="capacitySetting" title="Team member in lead role">
                                        <img class="undraggable rowLabel" src="img/lead.svg" style="background-color: unset;"/>
                                        <input id="lead" class="default" value="40"
                                            style="text-align: right; width: 4ch;"
                                            data-path="defaults.capacity.lead"
                                            title="Default capacity for a lead">%
                                            <div class="help">Default effort available for a lead</div>
                                    </td>
                                    <td class="capacitySetting" title="Team member in developer role">
                                        <img class="undraggable rowLabel" src="img/developer.svg" style="background-color: unset;"/>
                                        <input id="developer" class="default" value="80"
                                            style="text-align: right; width: 4ch;"
                                            data-path="defaults.capacity.developer"
                                            title="Default capacity for a developer">%
                                        <div class="help">Default effort available for a developer</div>
                                    </td>        
                                </tr>
                            </table>
                        </td>
                        <td class="capacitySetting" style="border-bottom: 3px solid #666;">
                            <img src="img/estimate.svg" class="rowLabel undraggable" style="margin: 2px;" title="Default estimate"/>
                            <div id="sizeSettings" class="item" onclick="project.ui.defaultSizes()" style="display: inline;">
                                <img src="img/spanner.svg" style="height: 45px; width: 75px;"
                                    title="Defaut time estimate in days for chosen size">
                                <div id="data"></div>
                            </div>
                            <div class="help">Conversion of estimates to days</div>
                        </td>
                    </tr>
                    <tr class="capacity">
                        <td class="capacitySetting" style="border-right: 3px solid #666;">
                            <img class="rowLabel undraggable" style="margin: 2px;"
                                src="img/holiday.svg" title="Time off per sprint">
                            <input id="vacation" class="default" value="1"
                                style="text-align: right; width: 5ch;"
                                data-path="defaults.capacity.vacation"
                                title="Unavailable days per sprint">&nbsp;/&nbsp;<img src="img/devsprint.svg" style="width: 50px;">
                                <div class="help">Default days off per sprint</div>
                            </td>
                        <td class="capacitySetting" style="border-right: 3px solid #666;">
                            <img class="rowLabel undraggable" style="margin: 2px;"
                                src="img/priority.svg" title="Default story priority">
                            <select name="priority" id="priority" class="default" onchange="defaults.setPriority()"></select>
                            <div class="help">Default priority for a new task</div>
                        </td>
                        <td class="capacitySetting">
                            <img class="rowLabel undraggable" style="margin: 2px;"
                                src="img/measure.svg" title="Default story size in days">
                            <select name="size" id="size" class="default" onchange="defaults.setSize()"></select>
                            <div class="help">Default estimate for a new task</div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div id="teamForm" class="modal" style="display: none;">
        <div class="modal-container">
            <div class="container">
                <div onclick="document.getElementById('teamForm').style.display='none'" class="minbutton"></div>
                <div class="formDescription">Role:</div>
                <div class="field">
                    <span>Name</span>
                    <input id="name" class="teamData" placeholder="Name">
                </div>
                <button id="yes">Save</button>
                <button id="no">Discard</button>
            </div>
        </div>
    </div>

    <div id="sprintsForm" class="modal" style="display: none;">
        <div class="modal-container">
            <div class="container">
                <div onclick="document.getElementById('sprintsForm').style.display='none'" class="minbutton"></div>
                <div id="sprintinfo">
                    <label for="name">Sprint name:</label>
                    <input id="name" class="teamData" placeholder="Sprint name">
                    <label for="weeks">Weeks:</label>
                    <input id="weeks" class="teamData" style="width: 4ch;">
                </div>
                <div id="msdates"></div>
                <div id="capacitydata">
                    <table id="capacitytable"><tbody></tbody></table>
                </div>
                <button id="yes">Save</button>
                <button id="no">Discard</button>
            </div>
        </div>
        <template id="capacityrow">
            <tr id="names">
                <td class="rowlabel">Name</td>
                <td class="data"><div class="itemName"></div></td>
                <td class="data"><div class="itemName"></div></td>
                <td class="data"><div class="itemName"></div></td>
                <td class="data"><div class="itemName"></div></td>
                <td class="data"><div class="itemName"></div></td>
                <td class="data"><div class="itemName"></div></td>
            </tr>
            <tr id="capacity"><td class="rowlabel">Capacity</td></tr>
            <tr id="vacation"><td class="rowlabel">Leave</td></tr>
        </template>
    </div>
    
    <div id="holidayWeeksForm" class="modal" style="display: none;">
        <div class="modal-container">
            <div class="container">
                <div onclick="document.getElementById('holidayWeeksForm').style.display='none'" class="minbutton"></div>
                <br/>
                <div>
                    <label for="name">Blackout week:</label>
                    <input id="name" class="teamData" placeholder="Holiday name">
                </div>
                <div>
                    <label for="holidayStart">Week:</label>
                    <input type="week" id="holidayStart" class="monday" name="holidayStart">
                </div>
                <br/>
                <button id="yes">Save</button>
                <button id="no">Discard</button>
            </div>
        </div>
    </div>

    <div id="sizeSettingsForm" class="modal" style="display: none;">
        <div class="modal-container">
            <center>
                <div class="container">
                    <div onclick="document.getElementById('sizeSettingsForm').style.display='none'" class="minbutton"></div>
                    <table><thead><tr><th>Unit</th><th>Days</th></tr></thead><tbody id="sizes"></tbody></table>
                    <button id="yes">Save</button>
                    <button id="no">Discard</button>
                </div>
            </center>
        </div>
    </div>

    <div id="loadfileForm" class="modal" style="display: none;">
        <div class="modal-container">
            <div class="container">
                <div onclick="document.getElementById('loadfileForm').style.display='none'" class="minbutton"></div>
                <h1>Load Project File</h1>
                <div id="filename" class=""help">Select a saved project file from your computer</div>
                <button id="filename">Choose file</button><div style="display: inline;">No file chosen</div>
                <div style="padding-top: 20px;">
                    <div class="help" style="display: block;">Load the selected file, or exit without loading</div>
                    <button id="yes">Load</button>
                    <button id="no">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <template id="itemTemplate">
        <div class="item dropzone">
            <div class="icons">
                <div id="itemImage" class="control"></div>
                <div class="controls">
                    <img class="edit" src="img/edit.svg" style="width: 100%" draggable="false" title="Edit details">
                    <img class="delete" src="img/delete.svg" style="width: 100%" draggable="false" title="Delete">
                </div>
                <div class="itemName"></div>
            </div>
            <div id="data">{"name":"[Not Set]"}</div>
        </div>
    </template>
</div>

<div id="scheduleScreen" class="toolScreen" style="display: none;">
    <div class="help" style="margin: 15px 15px 15px;">
        Schedule backlog for execution.
    </div>
    <div id="scheduleEditor" style="display: flex; width: 100%">
        <span id="backlogsummary" style="display: none;">
            <div id="backlogicon" class="divheader">
                <div class="divheader">
                    <div onclick="project.ui.backlog.list.show()" class="minbutton">[]</div>
                </div>
            </div>
            <img id="show" class="reqtIcon" src="img/backlog.svg">
        </span>
        <div style="display: inline-block; max-width: 25%;">
            <div class="help">Drag backlog items to schedule table</div>
            <span id="backlog" title="Hide / Show unscheduled backlog" style="border: none;">
                <div id="backlogDiv" style="border: 3px solid #666;">
                    <div class="divheader">
                        <div onclick="project.ui.backlog.list.hide()" class="minbutton">X<div class="help block">Hide</div></div>
                        <div id="filterButton" class="minbutton"
                            onclick="project.ui.backlog.toggle()">
                            <img id="filter" src="img/filter.svg">
                            <div class="help block">Filter</div>
                        </div>
                        <b>Backlog</b>
                    </div>
                    <div id="filters">
                        <div class="help">Filter tasks displayed</div>
                        <div id="scheduling" class="group">
                            <input type="radio" name="scheduled" class="reqtPlan" id="all" checked/>
                            <label for="all" id="all">All</label>
                            <input type="radio" name="scheduled" class="reqtPlan" id="unscheduled"/>
                            <label for="unscheduled" id="unscheduled">Unscheduled</label>
                        </div>
                        <div id="priorities" class="group"></div>
                        <button style="width: 60px;" title="Apply filter to displayed backlog"
                            onclick="project.ui.backlog.applyFilter()">Apply</button>
                        <button style="width: 60px;" title="Do not apply these filters"
                            onclick="project.ui.backlog.hideOptions()">Cancel</button>
                    </div>
                    <div id="list" class="reqtlist" title="Drag requirement to sprint row">
                        <div class="help" style="margin: 10px 5px 10px;">Backlog created in first tab. Drag to the table on the right.</div>
                        <div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595430" style="background-color: rgb(132, 117, 118); color: rgb(0, 0, 0);" data-old-background-color="#847576" data-old-color="#000000">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Project Backlog</div>
                            <div id="data">{"name":"Project Backlog","level":"level5","left":"12px","top":"52.8px","noteColor":"#847576","textColor":"#000000","musthave":true,"boulder":true,"description":"Add requirements to project backlog"}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595434" style="background-color: rgb(255, 215, 0); color: rgb(0, 0, 0);" data-old-background-color="#ffd700" data-old-color="#000000">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Sticky notes pallete</div>
                            <div id="data">{"name":"Sticky notes pallete","shouldhave":true,"pebble":true,"level":"level1","left":"212px","top":"52.8px","noteColor":"#ffd700","textColor":"#000000","description":"Create pallete to allow user to chode the color of the note."}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595437" style="background-color: rgb(255, 215, 0); color: rgb(0, 0, 0);" data-old-background-color="#ffd700" data-old-color="#000000">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Add developer</div>
                            <div id="data">{"name":"Add developer","pebble":true,"level":"level1","left":"412px","top":"52.8px","noteColor":"#ffd700","textColor":"#000000","musthave":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595440" style="background-color: rgb(255, 105, 180); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Add tech lead</div>
                            <div id="data">{"name":"Add tech lead","level":"level2","left":"612px","top":"52.8px","noteColor":"#ff69b4","textColor":"#000000","musthave":true,"rock":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595443" style="background-color: rgb(142, 103, 194); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Add tester</div>
                            <div id="data">{"name":"Add tester","pebble":true,"level":"level3","left":"812px","top":"52.8px","noteColor":"#8e67c2","textColor":"#000000","musthave":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595445" style="background-color: rgb(132, 117, 118); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Delete team member</div>
                            <div id="data">{"name":"Delete team member","pebble":true,"level":"level5","left":"1012px","top":"52.8px","noteColor":"#847576","textColor":"#000000","musthave":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595448" style="background-color: rgb(155, 238, 155); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Edit team member details</div>
                            <div id="data">{"name":"Edit team member details","pebble":true,"level":"level4","left":"1212px","top":"52.8px","noteColor":"#9bee9b","textColor":"#000000","musthave":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595451" style="background-color: rgb(132, 117, 118); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Add project name</div>
                            <div id="data">{"name":"Add project name","pebble":true,"level":"level5","left":"12px","top":"252.8px","noteColor":"#847576","textColor":"#000000","musthave":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595454" style="background-color: rgb(142, 103, 194); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Add development sprint</div>
                            <div id="data">{"name":"Add development sprint","pebble":true,"level":"level3","left":"212px","top":"252.8px","noteColor":"#8e67c2","textColor":"#000000","musthave":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595457" style="background-color: rgb(255, 215, 0); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Add hardening sprint</div>
                            <div id="data">{"name":"Add hardening sprint","shouldhave":true,"pebble":true,"level":"level1","left":"412px","top":"252.8px","noteColor":"#ffd700","textColor":"#000000","description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595460" style="background-color: rgb(255, 105, 180); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Edit hardening sprint</div>
                            <div id="data">{"name":"Edit hardening sprint","shouldhave":true,"level":"level2","left":"612px","top":"252.8px","noteColor":"#ff69b4","textColor":"#000000","rock":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595463" style="background-color: rgb(132, 117, 118); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Edit project name</div>
                            <div id="data">{"name":"Edit project name","shouldhave":true,"level":"level5","left":"812px","top":"252.8px","noteColor":"#847576","textColor":"#000000","dust":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595466" style="background-color: rgb(155, 238, 155); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Set project start date</div>
                            <div id="data">{"name":"Set project start date","shouldhave":true,"level":"level4","left":"1012px","top":"252.8px","noteColor":"#9bee9b","textColor":"#000000","dust":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595470" style="background-color: rgb(132, 117, 118); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Delete sprint</div>
                            <div id="data">{"name":"Delete sprint","shouldhave":true,"pebble":true,"level":"level5","left":"1212px","top":"252.8px","noteColor":"#847576","textColor":"#000000","description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595473" style="background-color: rgb(155, 238, 155); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Add holiday week</div>
                            <div id="data">{"name":"Add holiday week","level":"level4","left":"12px","top":"452.8px","noteColor":"#9bee9b","textColor":"#000000","musthave":true,"boulder":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595479" style="background-color: rgb(255, 215, 0); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Delete holiday week</div>
                            <div id="data">{"name":"Delete holiday week","level":"level1","left":"212px","top":"452.8px","noteColor":"#ffd700","textColor":"#000000","musthave":true,"stone":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595483" style="background-color: rgb(255, 105, 180); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Set burndown recording days of week</div>
                            <div id="data">{"name":"Set burndown recording days of week","pebble":true,"level":"level2","left":"412px","top":"452.8px","noteColor":"#ff69b4","textColor":"#000000","nicetohave":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595488" style="background-color: rgb(155, 238, 155); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Set defult capacity</div>
                            <div id="data">{"name":"Set defult capacity","level":"level4","left":"612px","top":"452.8px","noteColor":"#9bee9b","textColor":"#000000","nicetohave":true,"grain":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595491" style="background-color: rgb(132, 117, 118); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Set default estimates</div>
                            <div id="data">{"name":"Set default estimates","level":"level5","left":"812px","top":"452.8px","noteColor":"#847576","textColor":"#000000","musthave":true,"boulder":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595494" style="background-color: rgb(255, 105, 180); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Set default time off per week</div>
                            <div id="data">{"name":"Set default time off per week","level":"level2","left":"1012px","top":"452.8px","noteColor":"#ff69b4","textColor":"#000000","nicetohave":true,"rock":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595498" style="background-color: rgb(255, 215, 0); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Set default priority</div>
                            <div id="data">{"name":"Set default priority","shouldhave":true,"level":"level1","left":"1212px","top":"452.8px","noteColor":"#ffd700","textColor":"#000000","grain":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595501" style="background-color: rgb(255, 215, 0); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Set default estimate</div>
                            <div id="data">{"name":"Set default estimate","level":"level1","left":"12px","top":"652.8px","noteColor":"#ffd700","textColor":"#000000","nicetohave":true,"grain":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595504" style="background-color: rgb(155, 238, 155); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Project editor view</div>
                            <div id="data">{"name":"Project editor view","level":"level4","left":"212px","top":"652.8px","noteColor":"#9bee9b","textColor":"#000000","musthave":true,"stone":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595507" style="background-color: rgb(142, 103, 194); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Sprint editor view</div>
                            <div id="data">{"name":"Sprint editor view","shouldhave":true,"level":"level3","left":"412px","top":"652.8px","noteColor":"#8e67c2","textColor":"#000000","boulder":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595509" style="background-color: rgb(255, 105, 180); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Assign requirements to sprints</div>
                            <div id="data">{"name":"Assign requirements to sprints","pebble":true,"level":"level2","left":"612px","top":"652.8px","noteColor":"#ff69b4","textColor":"#000000","optional":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595512" style="background-color: rgb(132, 117, 118); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Create new tasks for sprints</div>
                            <div id="data">{"name":"Create new tasks for sprints","shouldhave":true,"level":"level5","left":"812px","top":"652.8px","noteColor":"#847576","textColor":"#000000","rock":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595515" style="background-color: rgb(255, 215, 0); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Add requirements in sprint editor</div>
                            <div id="data">{"name":"Add requirements in sprint editor","level":"level1","left":"1012px","top":"652.8px","noteColor":"#ffd700","textColor":"#000000","nicetohave":true,"stone":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595517" style="background-color: rgb(142, 103, 194); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Developer view in sprint editor</div>
                            <div id="data">{"name":"Developer view in sprint editor","pebble":true,"level":"level3","left":"1212px","top":"652.8px","noteColor":"#8e67c2","textColor":"#000000","optional":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595520" style="background-color: rgb(255, 215, 0); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Tester view in sprint editor</div>
                            <div id="data">{"name":"Tester view in sprint editor","level":"level1","left":"12px","top":"852.8px","noteColor":"#ffd700","textColor":"#000000","musthave":true,"stone":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595523" style="background-color: rgb(142, 103, 194); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Sprint burndown graph</div>
                            <div id="data">{"name":"Sprint burndown graph","level":"level3","left":"212px","top":"852.8px","noteColor":"#8e67c2","textColor":"#000000","musthave":true,"rock":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595526" style="background-color: rgb(155, 238, 155); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Project burndown graph</div>
                            <div id="data">{"name":"Project burndown graph","shouldhave":true,"pebble":true,"level":"level4","left":"412px","top":"852.8px","noteColor":"#9bee9b","textColor":"#000000","description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595529" style="background-color: rgb(142, 103, 194); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Task allocation to developer</div>
                            <div id="data">{"name":"Task allocation to developer","shouldhave":true,"pebble":true,"level":"level3","left":"612px","top":"852.8px","noteColor":"#8e67c2","textColor":"#000000","description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595532" style="background-color: rgb(255, 105, 180); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Task burndown view</div>
                            <div id="data">{"name":"Task burndown view","level":"level2","left":"812px","top":"852.8px","noteColor":"#ff69b4","textColor":"#000000","nicetohave":true,"stone":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595534" style="background-color: rgb(255, 215, 0); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Project entry checklist</div>
                            <div id="data">{"name":"Project entry checklist","level":"level1","left":"1012px","top":"852.8px","noteColor":"#ffd700","textColor":"#000000","musthave":true,"mountain":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595539" style="background-color: rgb(142, 103, 194); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Project exit review checklist</div>
                            <div id="data">{"name":"Project exit review checklist","pebble":true,"level":"level3","left":"1212px","top":"852.8px","noteColor":"#8e67c2","textColor":"#000000","nicetohave":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595541" style="background-color: rgb(155, 238, 155); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Click graph to edit object</div>
                            <div id="data">{"name":"Click graph to edit object","level":"level4","left":"12px","top":"1052.8px","noteColor":"#9bee9b","textColor":"#000000","musthave":true,"stone":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595544" style="background-color: rgb(155, 238, 155); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Graphical display for checklists</div>
                            <div id="data">{"name":"Graphical display for checklists","level":"level4","left":"212px","top":"1052.8px","noteColor":"#9bee9b","textColor":"#000000","nicetohave":true,"rock":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595547" style="background-color: rgb(132, 117, 118); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Edit object from graph view</div>
                            <div id="data">{"name":"Edit object from graph view","shouldhave":true,"pebble":true,"level":"level5","left":"412px","top":"1052.8px","noteColor":"#847576","textColor":"#000000","description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595550" style="background-color: rgb(155, 238, 155); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Switch project to sprint view</div>
                            <div id="data">{"name":"Switch project to sprint view","level":"level4","left":"612px","top":"1052.8px","noteColor":"#9bee9b","textColor":"#000000","musthave":true,"stone":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595554" style="background-color: rgb(132, 117, 118); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Switch dev to test view</div>
                            <div id="data">{"name":"Switch dev to test view","pebble":true,"level":"level5","left":"812px","top":"1052.8px","noteColor":"#847576","textColor":"#000000","optional":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595559" style="background-color: rgb(255, 105, 180); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Syncronise task movement across statuses in project, dev sprint and test sprint screens</div>
                            <div id="data">{"name":"Syncronise task movement across statuses in project, dev sprint and test sprint screens","pebble":true,"level":"level2","left":"1012px","top":"1052.8px","noteColor":"#ff69b4","textColor":"#000000","optional":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595563" style="background-color: rgb(255, 215, 0); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Save project as JSON</div>
                            <div id="data">{"name":"Save project as JSON","pebble":true,"level":"level1","left":"1212px","top":"1052.8px","noteColor":"#ffd700","textColor":"#000000","optional":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595567" style="background-color: rgb(255, 215, 0); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Color picker for sticky notes</div>
                            <div id="data">{"name":"Color picker for sticky notes","shouldhave":true,"level":"level1","left":"12px","top":"1252.8px","noteColor":"#ffd700","textColor":"#000000","stone":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595571" style="background-color: rgb(255, 215, 0); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Text color picker for sticky notes</div>
                            <div id="data">{"name":"Text color picker for sticky notes","level":"level1","left":"212px","top":"1252.8px","noteColor":"#ffd700","textColor":"#000000","musthave":true,"stone":true,"description":""}</div>
                        </div><div class="reqt backlogitem" draggable="true" onmouseover="project.ui.schedule.highlight(this)" onmouseout="project.ui.schedule.lowlight(this)" id="requirements_1680012595574" style="background-color: rgb(255, 105, 180); color: rgb(0, 0, 0);">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <div class="summary" style="color: rgb(0, 0, 0);">Auto complete tasks dragged to done</div>
                            <div id="data">{"name":"Auto complete tasks dragged to done","pebble":true,"level":"level2","left":"412px","top":"1252.8px","noteColor":"#ff69b4","textColor":"#000000","optional":true,"description":""}</div>
                        </div>

                    </div>
                </div>
            </span>
        </div>
        <div style="display: inline-block;">
            <div class="help" style="margin-left: 10px;">Project schedule. Drag tasks to sprint from backlog or create new task not in the backlog.</div>
            <table id="mslist" class="mslayout tasktable">
                <colgroup>
                    <col span="1">
                    <col span="4">
                </colgroup>
                <thead>
                    <tr class="toprow">
                        <th>
                            <div class="help">Add task not in backlog</div>
                            <div id="development" class="newtask" draggable="true" title="Drag new task to sprint row below">
                                <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                                <img class="menuicon" src="img/requirement.svg" draggable="false">
                            </div>
                        </th>
                        <th class="boardtitle" title="Stories not yet started">
                            <div class="help block">Tasks not yet in development</div>
                            Stories</th>
                        <th class="boardtitle" title="Stories being burned down">
                            <div class="help block">Tasks being worked upon</div>
                            In Progress</th>
                        <th class="boardtitle" title="Stories in testing">
                            <div class="help block">Tasks ready for testing</div>
                            In Test</th>
                        <th class="boardtitle" title="Stories completed">
                            <div class="help block">Completed tasks</div>
                            Complete</th>
                    </tr>
                </thead>
                <tbody id="sprints">
                    <tr class="msrequirements" id="sprints_1680012596198">
                        <td style="min-width: 100px; padding: 3px; border: 3px solid #666;">
                            <div class="minholder" style="width: 100%; display: inline-block;">
                                <span class="description"></span>
                                <div class="help" style="float: right;">Collapse / Expand row</div>
                                <img class="togglerow displayed" src="img/arrowright.svg" onclick="project.ui.sprint.show(event.target)" style="display: none;" title="Inflate row">
                                <img class="togglerow hidden" src="img/arrowdown.svg" onclick="project.ui.sprint.hide(event.target)" title="Collapse row">
                            </div>
                            <div class="msicon" onclick="project.ui.sprint.edit(event.target.closest('.sprint'))">
                                <div class="help" style="margin-top: 15px;">Switch to sprint editor</div>
                                <div class="item dropzone sprint development" id="sprints_1680012596198" draggable="false">
                            <div class="icons">
                                <div id="itemImage" class="control"><div id="development" class="item newSprint" draggable="false" title="Click to edit this sprint">
                                    
                                    <img class="menuicon" src="img/devsprint.svg" draggable="false">
                                </div></div>
                                <div class="itemName">Alpha</div>
                            </div>
                            <div id="data">{"name":"Alpha","type":"development","weeks":"2","team_1680012596138":"40","vac_team_1680012596138":"1","team_1680012596146":"80","vac_team_1680012596146":"1","team_1680012596148":"80","vac_team_1680012596148":"1","team_1680012596149":"80","vac_team_1680012596149":"1","team_1680012596151":"80","vac_team_1680012596151":"1","team_1680012596154":"80","vac_team_1680012596154":"1"}</div>
                        </div></div>
                            <div id="schedule">16 Jan - 29 Jan</div>
                        </td>
                        <td id="task" class="status task dropzone">
                            <div class="help">Drag tasks for development in this sprint here.</div>
                        </td>
                        <td id="task" class="status inprogress dropzone">
                            <div class="help">Drag task being worked upon here.</div>
                        </td>
                        <td id="task" class="status totest dropzone">
                            <div class="help">Drag tasks ready for testing here.</div>
                        </td>
                        <td id="task" class="status done dropzone">
                            <div class="help">Drag completed tasks here.</div>
                            <div class="item taskbrief dropzone newTask" id="task_1680012596393" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(132, 117, 118);" data-old-background-color="undefined" data-old-color="undefined">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Project Backlog</p></div>
                            <div id="data">{"name":"Project Backlog","boulder":true,"musthave":true,"reference":"requirements_1680012595430","developer":"team_1680012596138","tester":"team_1680012596163","dt_20230116":"5","dt_20230118":"3","dt_20230120":"1","dt_20230123":"0","dt_20230125":"","dt_20230127":"","dt_20230129":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012596428" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 215, 0);" data-old-background-color="undefined" data-old-color="undefined">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Sticky notes pallete</p></div>
                            <div id="data">{"name":"Sticky notes pallete","pebble":true,"shouldhave":true,"reference":"requirements_1680012595434","developer":"team_1680012596146","tester":"team_1680012596165","dt_20230116":"5","dt_20230118":"3","dt_20230120":"1","dt_20230123":"0","dt_20230125":"","dt_20230127":"","dt_20230129":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012596468" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 215, 0);" data-old-background-color="undefined" data-old-color="undefined">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Add developer</p></div>
                            <div id="data">{"name":"Add developer","pebble":true,"musthave":true,"reference":"requirements_1680012595437","developer":"team_1680012596148","tester":"team_1680012596167","dt_20230116":"6","dt_20230118":"4","dt_20230120":"2","dt_20230123":"1","dt_20230125":"0","dt_20230127":"","dt_20230129":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012596513" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 105, 180);" data-old-background-color="undefined" data-old-color="undefined">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Add tech lead</p></div>
                            <div id="data">{"name":"Add tech lead","rock":true,"musthave":true,"reference":"requirements_1680012595440","developer":"team_1680012596149","tester":"team_1680012596169","dt_20230116":"5","dt_20230118":"3","dt_20230120":"1","dt_20230123":"0","dt_20230125":"","dt_20230127":"","dt_20230129":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012596552" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(142, 103, 194);" data-old-background-color="undefined" data-old-color="undefined">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Add tester</p></div>
                            <div id="data">{"name":"Add tester","pebble":true,"musthave":true,"reference":"requirements_1680012595443","developer":"team_1680012596151","tester":"team_1680012596163","dt_20230116":"4","dt_20230118":"2","dt_20230120":"0","dt_20230123":"","dt_20230125":"","dt_20230127":"","dt_20230129":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012596598" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(132, 117, 118);" data-old-background-color="undefined" data-old-color="undefined">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Delete team member</p></div>
                            <div id="data">{"name":"Delete team member","pebble":true,"musthave":true,"reference":"requirements_1680012595445","developer":"team_1680012596154","tester":"team_1680012596165","dt_20230116":"","dt_20230118":"","dt_20230120":"3","dt_20230123":"1","dt_20230125":"0","dt_20230127":"","dt_20230129":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012596644" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(155, 238, 155);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Edit team member details</p></div>
                            <div id="data">{"name":"Edit team member details","pebble":true,"musthave":true,"reference":"requirements_1680012595448","developer":"team_1680012596138","tester":"team_1680012596167","dt_20230116":"","dt_20230118":"","dt_20230120":"","dt_20230123":"3","dt_20230125":"1","dt_20230127":"0","dt_20230129":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012596693" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(132, 117, 118);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Add project name</p></div>
                            <div id="data">{"name":"Add project name","pebble":true,"musthave":true,"reference":"requirements_1680012595451","developer":"team_1680012596146","tester":"team_1680012596169","dt_20230116":"5","dt_20230118":"3","dt_20230120":"1","dt_20230123":"0","dt_20230125":"","dt_20230127":"","dt_20230129":"0"}</div>
                        </div>
                    </div></td>
                    </tr>
                
                    <tr class="msrequirements" id="sprints_1680012596213">
                        <td style="min-width: 100px; padding: 3px; border: 3px solid #666;">
                            <div class="minholder" style="width: 100%; display: inline-block;">
                                <span class="description"></span>
                                <img class="togglerow displayed" src="img/arrowright.svg" onclick="project.ui.sprint.show(event.target)" style="display: none;" title="Inflate row">
                                <img class="togglerow hidden" src="img/arrowdown.svg" onclick="project.ui.sprint.hide(event.target)" title="Collapse row">
                            </div>
                            <div class="msicon"><div class="item dropzone sprint development" id="sprints_1680012596213" draggable="false">
                            <div class="icons">
                                <div id="itemImage" class="control"><div id="development" class="item newSprint" draggable="false" title="Click to edit this sprint">
                                    
                                    <img class="menuicon" src="img/devsprint.svg" draggable="false">
                                </div></div>
                                
                                <div class="itemName">Bravo</div>
                            </div>
                            <div id="data">{"name":"Bravo","type":"development","weeks":"2","team_1680012596138":"40","vac_team_1680012596138":"1","team_1680012596146":"80","vac_team_1680012596146":"1","team_1680012596148":"80","vac_team_1680012596148":"1","team_1680012596149":"80","vac_team_1680012596149":"1","team_1680012596151":"80","vac_team_1680012596151":"1","team_1680012596154":"80","vac_team_1680012596154":"1"}</div>
                        </div></div>
                            <div id="schedule">30 Jan - 12 Feb</div>
                        </td>
                        <td id="task" class="status task dropzone">
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                </td>
                        <td id="task" class="status inprogress dropzone"></td>
                        <td id="task" class="status totest dropzone"></td>
                        <td id="task" class="status done dropzone"><div class="item taskbrief dropzone newTask" id="task_1680012596743" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(142, 103, 194);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Add development sprint</p></div>
                            <div id="data">{"name":"Add development sprint","pebble":true,"musthave":true,"reference":"requirements_1680012595454","developer":"team_1680012596138","tester":"team_1680012596163","dt_20230130":"7","dt_20230201":"5","dt_20230203":"3","dt_20230206":"2","dt_20230208":"0","dt_20230210":"","dt_20230212":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012596776" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 215, 0);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Add hardening sprint</p></div>
                            <div id="data">{"name":"Add hardening sprint","pebble":true,"shouldhave":true,"reference":"requirements_1680012595457","developer":"team_1680012596146","tester":"team_1680012596165","dt_20230130":"8","dt_20230201":"6","dt_20230203":"4","dt_20230206":"3","dt_20230208":"1","dt_20230210":"0","dt_20230212":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012596815" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 105, 180);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Edit hardening sprint</p></div>
                            <div id="data">{"name":"Edit hardening sprint","rock":true,"shouldhave":true,"reference":"requirements_1680012595460","developer":"team_1680012596148","tester":"team_1680012596167","dt_20230130":"6","dt_20230201":"5","dt_20230203":"3","dt_20230206":"1","dt_20230208":"0","dt_20230210":"","dt_20230212":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012596857" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(132, 117, 118);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Edit project name</p></div>
                            <div id="data">{"name":"Edit project name","dust":true,"shouldhave":true,"reference":"requirements_1680012595463","developer":"team_1680012596149","tester":"team_1680012596169","dt_20230130":"4","dt_20230201":"3","dt_20230203":"1","dt_20230206":"0","dt_20230208":"","dt_20230210":"","dt_20230212":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012596899" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(155, 238, 155);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Set project start date</p></div>
                            <div id="data">{"name":"Set project start date","dust":true,"shouldhave":true,"reference":"requirements_1680012595466","developer":"team_1680012596151","tester":"team_1680012596163","dt_20230130":"8","dt_20230201":"6","dt_20230203":"4","dt_20230206":"3","dt_20230208":"1","dt_20230210":"0","dt_20230212":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012596950" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(132, 117, 118);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Delete sprint</p></div>
                            <div id="data">{"name":"Delete sprint","pebble":true,"shouldhave":true,"reference":"requirements_1680012595470","developer":"team_1680012596154","tester":"team_1680012596165","dt_20230130":"","dt_20230201":"","dt_20230203":"","dt_20230206":"3","dt_20230208":"1","dt_20230210":"0","dt_20230212":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597009" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(155, 238, 155);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Add holiday week</p></div>
                            <div id="data">{"name":"Add holiday week","boulder":true,"musthave":true,"reference":"requirements_1680012595473","developer":"team_1680012596138","tester":"team_1680012596167","dt_20230130":"3","dt_20230201":"1","dt_20230203":"0","dt_20230206":"","dt_20230208":"","dt_20230210":"","dt_20230212":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597060" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 215, 0);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Delete holiday week</p></div>
                            <div id="data">{"name":"Delete holiday week","stone":true,"musthave":true,"reference":"requirements_1680012595479","developer":"team_1680012596146","tester":"team_1680012596169","dt_20230130":"5","dt_20230201":"3","dt_20230203":"1","dt_20230206":"0","dt_20230208":"","dt_20230210":"","dt_20230212":"0"}</div>
                        </div>
                    </div></td>
                    </tr>
                
                    <tr class="msrequirements" id="sprints_1680012596226">
                        <td style="min-width: 100px; padding: 3px; border: 3px solid #666;">
                            <div class="minholder" style="width: 100%; display: inline-block;">
                                <span class="description"></span>
                                <img class="togglerow displayed" src="img/arrowright.svg" onclick="project.ui.sprint.show(event.target)" style="display: none;" title="Inflate row">
                                <img class="togglerow hidden" src="img/arrowdown.svg" onclick="project.ui.sprint.hide(event.target)" title="Collapse row">
                            </div>
                            <div class="msicon" onclick="project.ui.sprint.edit(event.target.closest('.sprint'))"><div class="item dropzone sprint development" id="sprints_1680012596226" draggable="false">
                            <div class="icons">
                                <div id="itemImage" class="control"><div id="development" class="item newSprint" draggable="false" title="Click to edit this sprint">
                                    
                                    <img class="menuicon" src="img/devsprint.svg" draggable="false">
                                </div></div>
                                
                                <div class="itemName">Charlie</div>
                            </div>
                            <div id="data">{"name":"Charlie","type":"development","weeks":"2","team_1680012596138":"40","vac_team_1680012596138":"1","team_1680012596146":"80","vac_team_1680012596146":"1","team_1680012596148":"80","vac_team_1680012596148":"1","team_1680012596149":"80","vac_team_1680012596149":"1","team_1680012596151":"80","vac_team_1680012596151":"1","team_1680012596154":"80","vac_team_1680012596154":"1"}</div>
                        </div></div>
                            <div id="schedule">13 Feb - 26 Feb</div>
                        </td>
                        <td id="task" class="status task dropzone">
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                </td>
                        <td id="task" class="status inprogress dropzone"></td>
                        <td id="task" class="status totest dropzone"></td>
                        <td id="task" class="status done dropzone"><div class="item taskbrief dropzone newTask" id="task_1680012597117" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 105, 180);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Set burndown recording days of week</p></div>
                            <div id="data">{"name":"Set burndown recording days of week","pebble":true,"nicetohave":true,"reference":"requirements_1680012595483","developer":"team_1680012596138","tester":"team_1680012596163","dt_20230213":"4","dt_20230215":"2","dt_20230217":"0","dt_20230220":"","dt_20230222":"","dt_20230224":"","dt_20230226":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597167" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(155, 238, 155);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Set defult capacity</p></div>
                            <div id="data">{"name":"Set defult capacity","grain":true,"nicetohave":true,"reference":"requirements_1680012595488","developer":"team_1680012596146","tester":"team_1680012596165","dt_20230213":"5","dt_20230215":"3","dt_20230217":"1","dt_20230220":"0","dt_20230222":"","dt_20230224":"","dt_20230226":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597212" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(132, 117, 118);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Set default estimates</p></div>
                            <div id="data">{"name":"Set default estimates","boulder":true,"musthave":true,"reference":"requirements_1680012595491","developer":"team_1680012596148","tester":"team_1680012596167","dt_20230213":"9","dt_20230215":"7","dt_20230217":"5","dt_20230220":"4","dt_20230222":"2","dt_20230224":"0","dt_20230226":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597259" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 105, 180);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Set default time off per week</p></div>
                            <div id="data">{"name":"Set default time off per week","rock":true,"nicetohave":true,"reference":"requirements_1680012595494","developer":"team_1680012596149","tester":"team_1680012596169","dt_20230213":"7","dt_20230215":"5","dt_20230217":"3","dt_20230220":"1","dt_20230222":"0","dt_20230224":"","dt_20230226":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597303" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 215, 0);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Set default priority</p></div>
                            <div id="data">{"name":"Set default priority","grain":true,"shouldhave":true,"reference":"requirements_1680012595498","developer":"team_1680012596151","tester":"team_1680012596163","dt_20230213":"3","dt_20230215":"1","dt_20230217":"0","dt_20230220":"","dt_20230222":"","dt_20230224":"","dt_20230226":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597347" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 215, 0);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Set default estimate</p></div>
                            <div id="data">{"name":"Set default estimate","grain":true,"nicetohave":true,"reference":"requirements_1680012595501","developer":"team_1680012596154","tester":"team_1680012596165","dt_20230213":"3","dt_20230215":"2","dt_20230217":"1","dt_20230220":"0","dt_20230222":"","dt_20230224":"","dt_20230226":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597395" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(155, 238, 155);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Project editor view</p></div>
                            <div id="data">{"name":"Project editor view","stone":true,"musthave":true,"reference":"requirements_1680012595504","developer":"team_1680012596138","tester":"team_1680012596167","dt_20230213":"5","dt_20230215":"3","dt_20230217":"1","dt_20230220":"0","dt_20230222":"","dt_20230224":"","dt_20230226":"0"}</div>
                        </div>
                    </div></td>
                    </tr>
                
                    <tr class="msrequirements" id="sprints_1680012596235">
                        <td style="min-width: 100px; padding: 3px; border: 3px solid #666;">
                            <div class="minholder" style="width: 100%; display: inline-block;">
                                <span class="description"></span>
                                <img class="togglerow displayed" src="img/arrowright.svg" onclick="project.ui.sprint.show(event.target)" style="display: none;" title="Inflate row">
                                <img class="togglerow hidden" src="img/arrowdown.svg" onclick="project.ui.sprint.hide(event.target)" title="Collapse row">
                            </div>
                            <div class="msicon" onclick="project.ui.sprint.edit(event.target.closest('.sprint'))"><div class="item dropzone sprint development" id="sprints_1680012596235" draggable="false">
                            <div class="icons">
                                <div id="itemImage" class="control"><div id="development" class="item newSprint" draggable="false" title="Click to edit this sprint">
                                    
                                    <img class="menuicon" src="img/devsprint.svg" draggable="false">
                                </div></div>
                                
                                <div class="itemName">Delta</div>
                            </div>
                            <div id="data">{"name":"Delta","type":"development","weeks":"2","team_1680012596138":"40","vac_team_1680012596138":"1","team_1680012596146":"80","vac_team_1680012596146":"1","team_1680012596148":"80","vac_team_1680012596148":"1","team_1680012596149":"80","vac_team_1680012596149":"1","team_1680012596151":"80","vac_team_1680012596151":"1","team_1680012596154":"80","vac_team_1680012596154":"1"}</div>
                        </div></div>
                            <div id="schedule">27 Feb - 12 Mar</div>
                        </td>
                        <td id="task" class="status task dropzone">
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                </td>
                        <td id="task" class="status inprogress dropzone"></td>
                        <td id="task" class="status totest dropzone"></td>
                        <td id="task" class="status done dropzone"><div class="item taskbrief dropzone newTask" id="task_1680012597463" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(142, 103, 194);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Sprint editor view</p></div>
                            <div id="data">{"name":"Sprint editor view","boulder":true,"shouldhave":true,"reference":"requirements_1680012595507","developer":"team_1680012596138","tester":"team_1680012596163","dt_20230227":"4","dt_20230301":"2","dt_20230303":"0","dt_20230306":"","dt_20230308":"","dt_20230310":"","dt_20230312":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597482" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 105, 180);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Assign requirements to sprints</p></div>
                            <div id="data">{"name":"Assign requirements to sprints","pebble":true,"optional":true,"reference":"requirements_1680012595509","developer":"team_1680012596146","tester":"team_1680012596165","dt_20230227":"5","dt_20230301":"3","dt_20230303":"1","dt_20230306":"1","dt_20230308":"0","dt_20230310":"","dt_20230312":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597500" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(132, 117, 118);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Create new tasks for sprints</p></div>
                            <div id="data">{"name":"Create new tasks for sprints","rock":true,"shouldhave":true,"reference":"requirements_1680012595512","developer":"team_1680012596148","tester":"team_1680012596167","dt_20230227":"3","dt_20230301":"1","dt_20230303":"0","dt_20230306":"","dt_20230308":"","dt_20230310":"","dt_20230312":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597519" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 215, 0);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Add requirements in sprint editor</p></div>
                            <div id="data">{"name":"Add requirements in sprint editor","stone":true,"nicetohave":true,"reference":"requirements_1680012595515","developer":"team_1680012596149","tester":"team_1680012596169","dt_20230227":"5","dt_20230301":"3","dt_20230303":"1","dt_20230306":"0","dt_20230308":"","dt_20230310":"","dt_20230312":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597543" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(142, 103, 194);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Developer view in sprint editor</p></div>
                            <div id="data">{"name":"Developer view in sprint editor","pebble":true,"optional":true,"reference":"requirements_1680012595517","developer":"team_1680012596151","tester":"team_1680012596163","dt_20230227":"8","dt_20230301":"6","dt_20230303":"4","dt_20230306":"3","dt_20230308":"1","dt_20230310":"0","dt_20230312":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597566" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 215, 0);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Tester view in sprint editor</p></div>
                            <div id="data">{"name":"Tester view in sprint editor","stone":true,"musthave":true,"reference":"requirements_1680012595520","developer":"team_1680012596154","tester":"team_1680012596165","dt_20230227":"6","dt_20230301":"4","dt_20230303":"3","dt_20230306":"2","dt_20230308":"1","dt_20230310":"0","dt_20230312":"0"}</div>
                        </div>
                    </div></td>
                    </tr>
                
                    <tr class="msrequirements" id="sprints_1680012596248">
                        <td style="min-width: 100px; padding: 3px; border: 3px solid #666;">
                            <div class="minholder" style="width: 100%; display: inline-block;">
                                <span class="description"></span>
                                <img class="togglerow displayed" src="img/arrowright.svg" onclick="project.ui.sprint.show(event.target)" style="display: none;" title="Inflate row">
                                <img class="togglerow hidden" src="img/arrowdown.svg" onclick="project.ui.sprint.hide(event.target)" title="Collapse row">
                            </div>
                            <div class="msicon" onclick="project.ui.sprint.edit(event.target.closest('.sprint'))"><div class="item dropzone sprint development" id="sprints_1680012596248" draggable="false">
                            <div class="icons">
                                <div id="itemImage" class="control"><div id="development" class="item newSprint" draggable="false" title="Click to edit this sprint">
                                    
                                    <img class="menuicon" src="img/devsprint.svg" draggable="false">
                                </div></div>
                                
                                <div class="itemName">Echo</div>
                            </div>
                            <div id="data">{"name":"Echo","type":"development","weeks":"2","team_1680012596138":"40","vac_team_1680012596138":"1","team_1680012596146":"80","vac_team_1680012596146":"1","team_1680012596148":"80","vac_team_1680012596148":"1","team_1680012596149":"80","vac_team_1680012596149":"1","team_1680012596151":"80","vac_team_1680012596151":"1","team_1680012596154":"80","vac_team_1680012596154":"1"}</div>
                        </div></div>
                            <div id="schedule">13 Mar - 26 Mar</div>
                        </td>
                        <td id="task" class="status task dropzone">
                    
                
                    
                
                    
                
                    
                </td>
                        <td id="task" class="status inprogress dropzone"></td>
                        <td id="task" class="status totest dropzone"></td>
                        <td id="task" class="status done dropzone"><div class="item taskbrief dropzone newTask" id="task_1680012597592" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(142, 103, 194);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Sprint burndown graph</p></div>
                            <div id="data">{"name":"Sprint burndown graph","rock":true,"musthave":true,"reference":"requirements_1680012595523","developer":"team_1680012596138","tester":"team_1680012596163","dt_20230313":"2","dt_20230315":"1","dt_20230317":"0","dt_20230320":"","dt_20230322":"","dt_20230324":"","dt_20230326":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597610" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(155, 238, 155);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Project burndown graph</p></div>
                            <div id="data">{"name":"Project burndown graph","pebble":true,"shouldhave":true,"reference":"requirements_1680012595526","developer":"team_1680012596146","tester":"team_1680012596165","dt_20230313":"9","dt_20230315":"7","dt_20230317":"5","dt_20230320":"3","dt_20230322":"1","dt_20230324":"0","dt_20230326":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597632" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(142, 103, 194);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Task allocation to developer</p></div>
                            <div id="data">{"name":"Task allocation to developer","pebble":true,"shouldhave":true,"reference":"requirements_1680012595529","developer":"team_1680012596148","tester":"team_1680012596167","dt_20230313":"","dt_20230315":"","dt_20230317":"","dt_20230320":"3","dt_20230322":"1","dt_20230324":"0","dt_20230326":"0"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597660" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 105, 180);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Task burndown view</p></div>
                            <div id="data">{"name":"Task burndown view","stone":true,"nicetohave":true,"reference":"requirements_1680012595532","developer":"team_1680012596149","tester":"team_1680012596169","dt_20230313":"","dt_20230315":"","dt_20230317":"","dt_20230320":"3","dt_20230322":"1","dt_20230324":"0","dt_20230326":"0"}</div>
                        </div>
                    </div></td>
                    </tr>
                
                    <tr class="msrequirements current" id="sprints_1680012596260">
                        <td style="min-width: 100px; padding: 3px; border: 3px solid #666;">
                            <div class="minholder" style="width: 100%; display: inline-block;">
                                <span class="description"></span>
                                <img class="togglerow displayed" src="img/arrowright.svg" onclick="project.ui.sprint.show(event.target)" style="display: none;" title="Inflate row">
                                <img class="togglerow hidden" src="img/arrowdown.svg" onclick="project.ui.sprint.hide(event.target)" title="Collapse row">
                            </div>
                            <div class="msicon" onclick="project.ui.sprint.edit(event.target.closest('.sprint'))"><div class="item dropzone sprint development" id="sprints_1680012596260" draggable="false">
                            <div class="icons">
                                <div id="itemImage" class="control"><div id="development" class="item newSprint" draggable="false" title="Click to edit this sprint">
                                    
                                    <img class="menuicon" src="img/devsprint.svg" draggable="false">
                                </div></div>
                                
                                <div class="itemName">Foxtrot</div>
                            </div>
                            <div id="data">{"name":"Foxtrot","type":"development","weeks":"2","team_1680012596138":"40","vac_team_1680012596138":"1","team_1680012596146":"80","vac_team_1680012596146":"1","team_1680012596148":"80","vac_team_1680012596148":"1","team_1680012596149":"80","vac_team_1680012596149":"1","team_1680012596151":"80","vac_team_1680012596151":"1","team_1680012596154":"80","vac_team_1680012596154":"1"}</div>
                        </div></div>
                            <div id="schedule">27 Mar - 9 Apr</div>
                        </td>
                        <td id="task" class="status task dropzone">
                    
                
                    
                
                    
                
                    
                <div class="item taskbrief dropzone newTask" id="task_1680012597693" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 215, 0);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Project entry checklist</p></div>
                            <div id="data">{"name":"Project entry checklist","mountain":true,"musthave":true,"reference":"requirements_1680012595534","developer":"team_1680012596138","tester":"team_1680012596163","dt_20230327":"","dt_20230329":"","dt_20230331":"","dt_20230403":"","dt_20230405":"","dt_20230407":""}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597770" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(155, 238, 155);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Graphical display for checklists</p></div>
                            <div id="data">{"name":"Graphical display for checklists","rock":true,"nicetohave":true,"reference":"requirements_1680012595544","developer":"team_1680012596149","tester":"team_1680012596169","dt_20230327":"7","dt_20230329":"","dt_20230331":"","dt_20230403":"","dt_20230405":"","dt_20230407":""}</div>
                        </div>
                    </div></td>
                        <td id="task" class="status inprogress dropzone"><div class="item taskbrief dropzone newTask" id="task_1680012597718" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(142, 103, 194);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Project exit review checklist</p></div>
                            <div id="data">{"name":"Project exit review checklist","pebble":true,"nicetohave":true,"reference":"requirements_1680012595539","developer":"team_1680012596146","tester":"team_1680012596165","dt_20230327":"","dt_20230329":"","dt_20230331":"","dt_20230403":"","dt_20230405":"","dt_20230407":""}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597743" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(155, 238, 155);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Click graph to edit object</p></div>
                            <div id="data">{"name":"Click graph to edit object","stone":true,"musthave":true,"reference":"requirements_1680012595541","developer":"team_1680012596148","tester":"team_1680012596167","dt_20230327":"5","dt_20230329":"","dt_20230331":"","dt_20230403":"","dt_20230405":"","dt_20230407":""}</div>
                        </div>
                    </div></td>
                        <td id="task" class="status totest dropzone"></td>
                        <td id="task" class="status done dropzone"></td>
                    </tr>
                
                    <tr class="msrequirements" id="sprints_1680012596271">
                        <td style="min-width: 100px; padding: 3px; border: 3px solid #666;">
                            <div class="minholder" style="width: 100%; display: inline-block;">
                                <span class="description"></span>
                                <img class="togglerow displayed" src="img/arrowright.svg" onclick="project.ui.sprint.show(event.target)" style="display: none;" title="Inflate row">
                                <img class="togglerow hidden" src="img/arrowdown.svg" onclick="project.ui.sprint.hide(event.target)" title="Collapse row">
                            </div>
                            <div class="msicon" onclick="project.ui.sprint.edit(event.target.closest('.sprint'))"><div class="item dropzone sprint development" id="sprints_1680012596271" draggable="false">
                            <div class="icons">
                                <div id="itemImage" class="control"><div id="development" class="item newSprint" draggable="false" title="Click to edit this sprint">
                                    
                                    <img class="menuicon" src="img/devsprint.svg" draggable="false">
                                </div></div>
                                
                                <div class="itemName">Golf</div>
                            </div>
                            <div id="data">{"name":"Golf","type":"development","weeks":"2","team_1680012596138":"40","vac_team_1680012596138":"1","team_1680012596146":"80","vac_team_1680012596146":"1","team_1680012596148":"80","vac_team_1680012596148":"1","team_1680012596149":"80","vac_team_1680012596149":"1","team_1680012596151":"80","vac_team_1680012596151":"1","team_1680012596154":"80","vac_team_1680012596154":"1"}</div>
                        </div></div>
                            <div id="schedule">10 Apr - 23 Apr</div>
                        </td>
                        <td id="task" class="status task dropzone">
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                <div class="item taskbrief dropzone newTask" id="task_1680012597810" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(132, 117, 118);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Edit object from graph view</p></div>
                            <div id="data">{"name":"Edit object from graph view","pebble":true,"shouldhave":true,"reference":"requirements_1680012595547","developer":"team_1680012596138","tester":"team_1680012596163"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597827" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(155, 238, 155);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Switch project to sprint view</p></div>
                            <div id="data">{"name":"Switch project to sprint view","stone":true,"musthave":true,"reference":"requirements_1680012595550","developer":"team_1680012596146","tester":"team_1680012596165"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597846" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(132, 117, 118);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Switch dev to test view</p></div>
                            <div id="data">{"name":"Switch dev to test view","pebble":true,"optional":true,"reference":"requirements_1680012595554","developer":"team_1680012596148","tester":"team_1680012596167"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597868" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 105, 180);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Syncronise task movement across statuses in project, dev sprint and test sprint screens</p></div>
                            <div id="data">{"name":"Syncronise task movement across statuses in project, dev sprint and test sprint screens","pebble":true,"optional":true,"reference":"requirements_1680012595559","developer":"team_1680012596149","tester":"team_1680012596169"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597889" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 215, 0);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Save project as JSON</p></div>
                            <div id="data">{"name":"Save project as JSON","pebble":true,"optional":true,"reference":"requirements_1680012595563","developer":"team_1680012596151","tester":"team_1680012596163"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597912" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 215, 0);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Color picker for sticky notes</p></div>
                            <div id="data">{"name":"Color picker for sticky notes","stone":true,"shouldhave":true,"reference":"requirements_1680012595567","developer":"team_1680012596154","tester":"team_1680012596165"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597936" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 215, 0);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Text color picker for sticky notes</p></div>
                            <div id="data">{"name":"Text color picker for sticky notes","stone":true,"musthave":true,"reference":"requirements_1680012595571","developer":"team_1680012596138","tester":"team_1680012596167"}</div>
                        </div>
                    </div><div class="item taskbrief dropzone newTask" id="task_1680012597962" draggable="true" style="color: rgb(0, 0, 0); background-color: rgb(255, 105, 180);">
                        <div style="display: flow-root;">
                            <table style="width: 100%;">
                                <tbody><tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                                    <td style="width: 100%;">
                                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                                    </td></tr>
                                
                            </tbody></table>
                            <div class="itemDescription"><p class="itemName">Auto complete tasks dragged to done</p></div>
                            <div id="data">{"name":"Auto complete tasks dragged to done","pebble":true,"optional":true,"reference":"requirements_1680012595574","developer":"team_1680012596146","tester":"team_1680012596169"}</div>
                        </div>
                    </div></td>
                        <td id="task" class="status inprogress dropzone"></td>
                        <td id="task" class="status totest dropzone"></td>
                        <td id="task" class="status done dropzone"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div id="sprintEditor" style="display: none; width: 100%;">
        <div class="help">Workfor this sprint</div>
        <div style="width: 100%;">
            <div class="return" style="float: right;" onclick="project.ui.schedule.edit()">
                <img class="undraggable" style="width: 170px;" src="img/sprints.svg" title="Switch to project editor"/>
                <div class="help block">Swicth to project editor</div>
            </div>
            <span id="msicon" style="display: table-cell;"></span>
            <span id="msicon" style="display: table-cell; width: 100px; padding-left: 50px;">
                <img id="developer" class="menuicon person undraggable selected" src="img/developer.svg"
                    onclick="project.ui.developerView()"
                    title="Stories assigned to developers">
                <div class="help">Developer assignment</div>
            </span>
            <span id="msicon" style="display: table-cell; margin-left: 5px;">
                <img id="tester" class="menuicon person undraggable" src="img/tester.svg"
                    onclick="project.ui.testerView()"
                    title="Stories assigned to testers">
                <div class="help">Tester assignment</div>
            </span>
            <span id="header" style="display: table-cell; width: 100%;"></span>
        </div>
        <table id="devtasklist" class="mslayout tasktable">
            <thead>
                <tr class="toprow">
                    <th style="width: 100px;">
                        <div class="help block">Add task not in backlog</div>
                        <div id="development" class="newtask" draggable="true" title="Drag new task to team member row below">
                            <img class="hand" src="img/dragable.svg" draggable="false" title="Drag this">
                            <img class="menuicon" src="img/requirement.svg" draggable="false">
                        </div>
                    </th>
                    <th class="boardtitle" title="Stories not yet started">
                        <div class="help block">Tasks not yet in development</div>
                        Stories</th>
                    <th class="boardtitle" title="Stories being burned down">
                        <div class="help block">Tasks being worked upon</div>
                        In Progress</th>
                    <th class="boardtitle" title="Stories in testing">
                        <div class="help block">Tasks ready for testing</div>
                        In Test</th>
                    <th class="boardtitle" title="Stories completed">
                        <div class="help block">Completed tasks</div>
                        Complete</th>
                </tr>
            </thead>
            <tbody id="developer"></tbody>
            <tbody id="tester" style="display: none;"></tbody>
        </table>
        <table id="msbacklog" class="mslayout">
            <colgroup>
                <col span="1">
                <col span="4">
            </colgroup>
            <tbody></tbody>
         </table>
         <table id="qabacklog" class="mslayout" style="display: none;">
            <colgroup>
                <col span="1">
                <col span="4">
            </colgroup>
            <tbody></tbody>
         </table>
    </div>    

    <div id="taskForm" class="modal" style="display: none;">
        <div class="modal-container">
            <div class="container">
                <div onclick="document.getElementById('taskForm').style.display='none'" class="minbutton"></div>
                <div>
                    <input id="name" class="teamData" placeholder="Label" style="width: 450px; margin-top: 35px;"/>
                    <img id="editBurndown" src="img/flame.svg" style="height: 20px;" draggable="false" title="Edit burndown"/>
                </div>
                <div><textarea id="details" class="teamData" placeholder="Details"
                    style="width: 450px; margin: 5px 0 0 0;"/></textarea></div>
                <div id="priorities"></div>
                <div id="estimate"></div>
                <button id="yes">Save</button>
                <button id="no">Discard</button>
            </div>
        </div>
    </div>
</div>

<div id="graphsScreen" class="toolScreen" style="display: none;">
    <div class="help" style="margin: 10px;">Progress graphs for sprint and project</div>
    <div class="help">Choose project start, end or sprint information</div>
    <div>
        <button id="sprint"    class="graphType graphType-selected">Sprint</button>
        <button id="project"   class="graphType">Project</button>
        <button id="details"   class="graphType">Feature/Developer</button>
    </div>
    <div id="msChoice">
        <text>Sprint:
        <select id="selectMS"></select>
        </text>
    </div>
    <div id="graph"></div>
</div>

<div id="dordodScreen" class="toolScreen" style="display: none;">
    <div class="help" style="margin: 10px;">Metrics and execution status</div>
    <div>
        <div class="help">Select project start, end or sprint. Defaults to current sprint.</div>
    </div>
    <table id="sections">
        <td id="start" onclick="project.checklists.show('#startDD')">
            <div id="start" class="clSelector">
                <div class="imgHolder">
                    <img class="menuButton undraggable" src="img/start.svg" title="Project start checklist"/>
                </div>
                <div class="name">Start</div>
                <div id="data"></div>
            </div>
        </td>
        <td id="sprints"></td>
        <td id="stop" onclick="project.checklists.show('#stopDD')">
            <div id="stop" class="clSelector">
                <div class="imgHolder">
                    <img class="menuButton undraggable" src="img/stop.svg" title="Project finish checklist"/>
                </div>
                <div class="name">Finish</div>
                <div id="data"></div>
            </div>
        </td>
    </table>
    <div><div class="help">Information and metrics of selection.</div></div>
    <div id="checklist" class="dordodlist project"></div>
    <div id="tooltip" class="tooltip" style="opacity: 0;"></div>

    <template id="dordod">
        <div class="holder">
            <fieldset class="checklist">
                <legend id="title"></legend>
                <div class="items"><table><tbody id="list"></tbody></table></div>
            </fieldset>
        </div>
    </template>

    <template id="dordodWarning">
        <div class='warning'>
            <img src='img/warning.svg' style="vertical-align: middle;">
            <div id="message"></div>
            <img class="fix" src='img/spanner.svg' style="float: right;"
                onclick="project.checklists.fix(this)">
        </div>
    </template>

    <template id="sprintCell">
        <div class="clSelector">
            <div class="imgHolder"><img class="undraggable" src="img/devsprint.svg"/></div>
            <div class="name"></div>
            <div id="data"></div>
        </div>
    </template>

    <template id="clItem">
        <span id="items">
            <input id="result" type="checkbox">
            <input id="description" placeholder="Optional text or URL" onchange="project.checklists.change()">
            <a id="link" target="_blank" style="display: none;">link</a>
        </span>
    </template>

    <template id="checklistGraph">
        <div id="graphDiv">
            <svg id="plotArea">
                <g id="graph">
                    <g id="plot"></g>
                    <g id="yAxis"></g>
                    <g id="xAxis"></g>
                </g>
            </svg>
        </div>
    </template>
</div>

<div id="savefileForm" class="modal" style="display: none;">
    <div class="modal-container">
        <div class="container">
            <div onclick="document.getElementById('savefileForm').style.display='none'" class="minbutton"></div>
            <h1>Save Project File</h1>
            <div class="help">The name of the file to save the project. The ".json" suffix is added.</div>
            <input id="filename" style="width: 65ch;"/>
            <div class="help">Save the project as a JSON file, or continue editing.</div>
            <div>
                <button id="yes">Save</button>
                <button id="no">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div id="confirmDelete" class="modal" style="display: none;">
    <div class="modal-container">
        <div class="container">
            <div id="message">Really delete this?</div>
            <button id="yes">Yes</button>
            <button id="no">No</button>
        </div>
    </div>
</div>

<div id="burndownForm" class="modal" style="display: none;">
    <div class="modal-container">
        <div class="container">
            <div class="form">
                <div onclick="document.getElementById('burndownForm').style.display='none'" class="minbutton"></div>
                <div>
                    <span style="display: block; padding-top: 20px; padding-bottom: 10px;">
                        <b style="display: inline-block; width: 10ch;">Sprint:</b><span class="sprints"></span>
                    </span>
                    <div>
                        <span style="display: inline-block; width: 10ch;">
                            <b>Feature:</b></span><span id="taskbrief">
                        </span>
                        <img id="editTask" src="img/edit.svg" style="height: 20px;" draggable="false" title="Edit details"/>
                    </div>
                    <div><span style="display: inline-block; width: 10ch;"><b>Estimate:</b></span><span id="estimate"></span></div>
                    <div id="daterange"></div>
                    <table>
                        <thead>
                            <tr>
                                <th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th>
                                <th style="background-color: #9ac3c5;">Sat</th>
                                <th style="background-color: #9ac3c5;">Sun</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
                <button id="yes">Save</button>
                <button id="no">Discard</button>
            </div>
            <div class="message" style="display: none;">
                <p></p><button id="exit">Close</button>
            </div>
        </div>
    </div>
</div>

<div id="snackbar">Text to be replaces by message.</div>

<template id="msTemplate">
    <tr class="msrequirements">
        <td style="min-width: 100px; padding: 3px; border: 3px solid #666;">
            <div class="minholder" style="width: 100%; display: inline-block;">
                <span class="description"></span>
                <img class="togglerow displayed" src="img/arrowright.svg"
                    onclick="project.ui.sprint.show(event.target)" style="display: none;"
                    title="Inflate row"/>
                <img class="togglerow hidden" src="img/arrowdown.svg"
                    onclick="project.ui.sprint.hide(event.target)"
                    title="Collapse row"/>
            </div>
            <div class="msicon"></div>
            <div id="schedule"></div>
        </td>
        <td id="task" class="status task dropzone"></td>
        <td id="task" class="status inprogress dropzone"></td>
        <td id="task" class="status totest dropzone"></td>
        <td id="task" class="status done dropzone"></td>
    </tr>
</template>

<template id="reqtTemplate">
    <div class="item taskbrief dropzone">
        <div id="controls" style="display: flow-root;">
            <span style="float: left; padding: 3px;">
                <img class="hand" src="img/dragable.svg" title="Drag this">
            </span>
            <span class="taskcontrols" style="float: right;">
                <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
            </span>
        </div>
        <div class="itemDescription"><p class="itemName"></p></div>
        <div id="data">{"name":"[Not Set]"}</div>
    </div>
</template>

<template id="taskTemplate">
    <div class="item taskbrief dropzone">
        <div style="display: flow-root;">
            <table style="width: 100%;">
                <tr class="taskcontrols" style="display: inline-block; width: 100%; height: 30px;">
                    <td><img class="hand" src="img/dragable.svg" draggable="false" title="Drag this"></td>
                    <td style="width: 100%;">
                        <img class="delete" src="img/delete.svg" draggable="false" title="Delete">
                        <img class="edit" src="img/edit.svg" draggable="false" title="Edit task">
                        <img class="burndown" src="img/flame.svg" draggable="false" title="Edit burndown">
                    </tr>
                </tr>
            </table>
            <div class="itemDescription"><p class="itemName"></p></div>
            <div id="data">{"name":"[Not Set]"}</div>
        </div>
    </div>
</template>s

<template id="estimateTemplate">
    <input type="radio" name="size" class="teamData" value="1" id="dust"/>
    <label for="dust" id="dust">Dust</label>
    <input type="radio" name="size" class="teamData" value="2" id="grain"/>
    <label for="grain" id="grain">Grain</label>
    <input type="radio" name="size" class="teamData" value="3" id="pebble"/>
    <label for="pebble" id="pebble">Pebble</label>
    <input type="radio" name="size" class="teamData" value="5" id="stone"/>
    <label for="stone" id="stone" checked>Stone</label>
    <input type="radio" name="size" class="teamData" value="8" id="rock"/>
    <label for="rock" id="rock">Rock</label>
    <input type="radio" name="size" class="teamData" value="13" id="boulder"/>
    <label for="boulder" id="boulder">Boulder</label>
    <input type="radio" name="size" class="teamData" value="21" id="mountain"/>
    <label for="mountain" id="mountain">Mountain</label>
</template>

<template id="priorityTemplate">
    <input type="radio" name="priority" class="teamData" id="musthave"/>
    <label for="musthave" id="musthave">Must have</label>
    <input type="radio" name="priority" class="teamData" id="shouldhave"/>
    <label for="shouldhave" id="shouldhave">Should have</label>
    <input type="radio" name="priority" class="teamData" id="nicetohave"/>
    <label for="nicetohave" id="nicetohave">Nice to have</label>
    <input type="radio" name="priority" class="teamData" id="optional"/>
    <label for="option" id="optional">Optional</label>
</template>

<script src="https://d3js.org/d3.v6.min.js"></script>

<script>
    const statuses = [
            { label: "Task", value: "task" },
            { label: "In Progress", value: "inprogress" },
            { label: "To Test", value:  "totest" },
            { label: "Done", value: "done" }
    ];
    var defaults = {
        capacity: {
            get developer() {
                return parseInt(document.querySelector(".capacitySetting #developer").value);
            },
            get lead() {
                return parseInt(document.querySelector(".capacitySetting #lead").value);
            },
            get vacation() {
                return parseInt(document.querySelector(".capacitySetting #vacation").value);
            }
        },
        get estimate() {
            var _size = this.size;
            return +document.querySelector("input#" + _size).value;
        },
        _priority: "shouldhave",
        get priority() {
            var pr = document.querySelector("#defaultsDiv select#priority option:checked");
            return pr ? pr.id : "shouldhave";
        },
        setPriority: function() {
            this._size = document.querySelector("#defaultsDiv select#priority option:checked").id;
        },
        _size: "pebble",
        get size() {
            var sz = document.querySelector("#defaultsDiv select#size option:checked");
            return sz ? sz.id : "pebble";
        },
        get sizes() {
            return [...document.querySelector("#estimateTemplate").content.querySelectorAll("input")]
                .map(input => { return { id: input.id, value: +input.value }; });
        },
        setSize: function() {
            this._size = document.querySelector("#defaultsDiv select#size option:checked").id;
        },
        get sprintLenth() {
            return 2;
        },
        burndownDays: [1, 3, 5],
        weeklyHolidays: [0, 6]
    };
    var dragdrop = {
        dragged: null, left: 0, top: 0,
        config: {
            // Droppin object class in bin or other item to create item or insert item in list
            "person": [
                { "target": "people", "handler": "dragdrop.add('teamMember', ev.target, ev)" },
                { "target": "teamMember", "handler": "dragdrop.insertArtifact('#team', dragdrop.dragged, dropzone, '.person', 'teamMember')" }
            ],
            "newSprint": [
                { "target": "schedule", "handler": "dragdrop.add('sprint', ev.target, ev)" },
                { "target": "sprint", "handler": "dragdrop.insertArtifact('#sprints', dragdrop.dragged, dropzone, '.newSprint', 'sprint')" }
            ],
            "blackout": [
                { "target": "holidayWeeks", "handler": "dragdrop.add('holidayWeek', ev.target, ev)" },
                { "target": "holidayWeek", "handler": "dragdrop.insertArtifact('#blackouts', dragdrop.dragged, dropzone, '.blackout', 'holidayWeek')" }
            ],
            "requirement": [
                { "target": "backlog", "handler": "dragdrop.add('workItem', ev.target, ev)" },
                { "target": "workItem", "handler": "dragdrop.insertArtifact('div#requirements', dragdrop.dragged, dropzone, '.requirement', 'workItem')" }
            ],
            "postIt": [
                { "target": "backlog", "handler": "dragdrop.add('workItem', ev.target, ev)" },
                { "target": "workItem", "handler": "dragdrop.insertArtifact('div#requirements', dragdrop.dragged, dropzone, '.requirement', 'workItem')" },
                { "target": "taskbrief", "handler": "dragdrop.add('workItem', ev.target, ev)" }
            ],
            "daytype": [
                { "target": "weekdays", "handler": "dragdrop.add('dayOfWeek', ev.target, ev)" },
                { "target": "dayOfWeek", "handler": "dragdrop.add('dayOfWeek', ev.target, ev)" }
            ],
            "newtask": [
                { "target": "status", "handler": "dragdrop.add('newTask', ev.target, ev)" },
                { "target": "taskbrief", "handler": "dragdrop.insertTask(dropzone, dropzone.closest('td'), ev)" }
            ],
            "backlogitem": [
                { "target": "status", "handler": "dragdrop.add('backlogitem', ev.target, ev)" },
                { "target": "taskbrief", "handler": "dragdrop.insertTask(dropzone, dropzone.closest('td'), ev)" },
                { "target": "priority", "handler": "project.ui.backlog.changePriority(dragdrop.dragged, ev.target)" },
                { "target": "estimate", "handler": "project.ui.backlog.changeEstimate(dragdrop.dragged, ev.target)" }
            ],
            // Droping item on another item in bin or at end of bin
            "teamMember": [
                { "target": "people", "handler": "dragdrop.moveChildToEnd(dragdrop.dragged, ev.target)" },
                { "target": "teamMember", "handler": "dragdrop.moveChildBefore(dragdrop.dragged, ev.target)" }
            ],
            "sprint": [
                { "target": "schedule", "handler": "dragdrop.moveChildToEnd(dragdrop.dragged, ev.target)" },
                { "target": "sprint", "handler": "dragdrop.moveChildBefore(dragdrop.dragged, ev.target)" }
            ],
            "holidayWeek": [
                { "target": "holidayWeeks", "handler": "dragdrop.moveChildToEnd(dragdrop.dragged, ev.target)" },
                { "target": "holidayWeek", "handler": "dragdrop.moveChildBefore(dragdrop.dragged, ev.target)" }
            ],
            "dayOfWeek": [
                { "target": "weekdays", "handler": "dragdrop.moveChildTo(dragdrop.dragged, ev.target)" },
                { "target": "dayOfWeek", "handler": "dragdrop.moveChildTo(dragdrop.dragged, ev.target)" }
            ],
            "workItem": [
                { "target": "backlog", "handler": "dragdrop.moveChildToEnd(dragdrop.dragged, ev.target)" },
                { "target": "workItem", "handler": "dragdrop.moveChildBefore(dragdrop.dragged, ev.target)" }
            ],
            "taskbrief": [
                { "target": "status", "handler": "dragdrop.appendDraggedTask(dragdrop.dragged, ev.target)" },
                { "target": "backlog", "handler": "dragdrop.moveTask(dragdrop.dragged, ev)" },
                { "target": "taskbrief", "handler": "dragdrop.moveTask(dragdrop.dragged, ev)" }
            ]
        },
        dragstart: function (ev) {
            this.dragged = ev.target;
            var rect = ev.target.getBoundingClientRect();
            this.left = ev.x - rect.x;
            this.top = ev.y - rect.y;
            const config = draggables.filter(f => dragdrop.dragged.classList.contains(f));
            if (config.length == 0) {
                console.log("Could not find configuration to handle",
                    this.dragged.tagName + "#" + this.dragged.id + "." + [...this.dragged.classList].join("."));
            }
            var dragged = config[0];
            dragdrop.config[dragged].map(e => e.target)
                .forEach(c => document.querySelectorAll("." + c)
                .forEach(e => e.classList.add("droptarget")));
        },
        drop: function (ev) {
            document.querySelectorAll(".droptarget").forEach(t => t.classList.remove("droptarget"));
            var dropzone = ev.target.closest(".dropzone");
            if (!dropzone) return;
            // Find config with entry matching class name of dragdrop.dragged item
            var callbackentry = draggables.filter(f => dragdrop.dragged.classList.contains(f));
            if (callbackentry.length != 1) {
                console.log("Drop handler configured error for #" + dragdrop.dragged.id + "."
                    + [...dragdrop.dragged.classList].join(".") + ":", callbackentry.length + " entries matched");
                if (callbackentry.length > 1) console.log("Matching entries:", callbackentry.join(", "))
                return; 
            }
            var callback = dragdrop.config[callbackentry[0]].filter(f => dropzone.classList.contains(f.target));
            if (!callback.length) {
                console.log("No rule to drop class [" + callbackentry[0] + "] on [" + dropzone.classList.toString() + "]");
                return;
            }
            console.log("\nDragged:\n\t"
                + dragdrop.dragged.tagName.toLocaleLowerCase()
                + "#" + dragdrop.dragged.id + "." + [...dragdrop.dragged.classList].join(".") + "\nDropped on:\n\t"
                + ev.target.tagName.toLocaleLowerCase() + "#"
                + ev.target.id + "." + [...ev.target.classList].join(".") + "\nClosets dropzone:\n\t"
                + dropzone.tagName.toLocaleLowerCase() + "#" + dropzone.id
                + "." + [...dropzone.classList].join(".") + "\nCallback handler:\n\t"
                + callback[0].handler
                + (callback.length > 1 ?
                    callback.length + " handlers found\n" : "\n")
                + "\tDragged [" + callbackentry
                + "] on [" + (callback[0].target ? callback[0].target : "<no target>")
                + "]\nHandler: " + (callback[0].handler ? callback[0].handler : "<no handler>")
                + "\n-----------\n");
            eval(callback[0].handler);
        },
        add: function (itemClass, target, ev) {
            var newInstance = dragdrop.new(target.id, instanceTemplates[itemClass]);
            var id = newInstance.firstElementChild.id;
            var item = newInstance.querySelector(".item");
            item.classList.add(itemClass);
            if (target.closest(".backlog")) target.closest(".backlog").appendChild(newInstance);
            else target.appendChild(newInstance);
            if (itemClass == "workItem") {
                item.classList.remove("workItem");
                item.style.backgroundColor = dragdrop.dragged.style.backgroundColor;
                item.style.position = "absolute";
                var rect = ev.target.getBoundingClientRect();
                if (target.closest(".dropzone").classList.contains("taskbrief"))
                    rect = document.querySelector("#backlogDiv #requirements").getBoundingClientRect();
                var x = ev.clientX - rect.left - this.left;
                var y = ev.clientY - rect.top - this.top + 150;
                if (x < 0) x = 0;
                if (y < 0) y = 0;
                item.style.left = x.toString();
                item.style.top = y.toString();
            }
            document.getElementById(id).draggable = true;
            callFunction("onadd_" + itemClass, document.getElementById(id));
            return document.getElementById(id);
        },
        new: function (artClass, instTemplate) {
            // New instance, like a developer or tester
            var itemTemplate = document.getElementById(instTemplate);
            var item = itemTemplate.content.cloneNode(true);
            var id = artClass + '_' + (+new Date());
            item.querySelector('.item').setAttribute('id', id);
            item.querySelector('.edit').onclick = form.edit;
            item.querySelector('.delete').onclick = deleteItem;
            var data = getJSONData(item);
            item.querySelector('.itemName').innerText = data["name"];
            // Add developer/tester icon
            var icon = dragdrop.dragged.cloneNode(true);
            icon.setAttribute('draggable', false);
            icon.setAttribute('title', '');
            var imageHolder = item.getElementById('itemImage');
            imageHolder && imageHolder.appendChild(icon);
            return item;
        },
        insertArtifact: function (box, droppedImg, droppedOn, imgSelector, artClass) {
            var bin = document.querySelector(box);
            // Back up to the box with the person
            while (droppedOn.parentElement && droppedOn.parentElement.id != bin.id)
                droppedOn = droppedOn.parentElement;
            if (!droppedOn || !droppedOn.parentElement) {
                console.log(droppedImg, "was not dropped in the bin", bin)
                return;
            }
            // Create node before the node on which it was dropped
            var newChild = dragdrop.new(bin.id, 'itemTemplate', event);
            var id = newChild.firstElementChild.id;
            newChild.querySelector(".item").classList.add(artClass);
            bin.insertBefore(newChild, droppedOn);
            var newInstance = document.querySelector("#" + id);
            // Replace image with dropped image
            var itemImage = newInstance.querySelector("#itemImage");
            itemImage.querySelector(imgSelector).draggable = false;
            document.getElementById(id).draggable = true;
            callFunction("oninsert_" + bin.id, document.getElementById(id));
        },
        insertTask: function (onTask, onCell, ev) {
            onTask = onTask.closest(".dropzone");
            var newChild = dragdrop.new("task", "taskTemplate", ev);
            var id = newChild.firstElementChild.id;
            newChild.querySelector(".item").classList = onTask.classList;
            onCell.insertBefore(newChild, onTask);
            document.getElementById(id).draggable = true;
            if (dragdrop.dragged.classList.contains('backlogitem')) {
                var newrequirement = document.getElementById(id);
                newrequirement.querySelector(".itemName").innerText = dragdrop.dragged.innerText;
                form.initData("#requirementsForm", newrequirement);
            }
            callFunction("oninsert_" + onCell.id, document.getElementById(id));
        },
        moveChildToEnd: function (child, list) {
            list.appendChild(child);
            var lastClass = child.classList.length - 1;
            callFunction("onmovetoend_" + child.classList[lastClass], { child: child, list: list });
        },
        moveChildBefore: function (child, droppedOn) {
            // Back up to the box with the person
            while (droppedOn.parentElement && droppedOn.parentElement.id != "team")
                droppedOn = droppedOn.parentElement;
            if (child.isSameNode(droppedOn) || (droppedOn.parentElement != "team")) return;
            droppedOn.parentElement.insertBefore(child, droppedOn);
            var lastClass = child.classList.length - 1;
            callFunction("onmovechildbefore_" + child.classList[lastClass], droppedOn);
        },
        moveChildTo: function (child, droppedOn) {
            if (child.closest(".weekday") == droppedOn.closest(".weekday")) return;
            var weekday = droppedOn.closest(".weekday");
            weekday.querySelectorAll(":not(.dow)").forEach(n => n.parentNode.removeChild(n));
            weekday.appendChild(child);
        },
        moveTask: function (task, ev) {
            if (ev.target.closest("#backlogScreen")) {
                var rect = ev.target.closest("#requirements").getBoundingClientRect();
                var x = ev.clientX - rect.left - this.left;
                if (x < 0) x = 0;
                var y = ev.clientY - rect.top - this.top;
                if (y < 0) y = 0;
                task.style.left = x.toString();
                task.style.top = y.toString();
                return;
            }
            var prevTask = ev.target.closest(".taskbrief");
            if (prevTask) {
                prevTask.parentNode.insertBefore(task, prevTask);
                project.ui.task(task.id).status = project.tasks.get(prevTask.id).status();
            }
            if (ev.target.closest("#task.status.done"))
                project.tasks.get(task.id).complete();
        },
        appendDraggedTask: function (task, cell) {
            var role = cell.closest("tbody").id;
            task.querySelector("#data").innerText = JSON.stringify(project.tasks.assign(task, cell, role));
            if (cell.classList.contains("done")) {
                // If date is after end of project, record as done date
            }
            // Delete task from old box, instern in new
            cell.appendChild(task);
            // Make the same change in both MS and schedule screens. Detect active screen using table ID
            var tableID = cell.closest("table").id;
            // If task was moved in MS editor screen, clone task to project editor screen
            if (tableID == "devtasklist" || tableID == "msbacklog" || tableID == "qabacklog") {
                var data = project.tasks.assign(task, cell, role);
                var taskCopy = task.cloneNode(true);
                taskCopy.querySelector(".burndown").onclick = project.burndown.edit;
                taskCopy.querySelector(".edit").onclick = form.edit;
                taskCopy.querySelector(".delete").onclick = deleteItem;
                var oldTask = document.querySelector("#mslist #" + task.id);
                if (oldTask) {
                    spRow = oldTask.closest("tr");
                    oldTask.remove();
                    spRow.querySelector("." + Array.from(cell.classList).join('.')).appendChild(taskCopy);
                    var status = statuses.map(s => s.value).filter(f => cell.classList.contains(f))[0];
                    document.querySelectorAll("#" + task.id).forEach(t => {
                        var destination = t.closest("tr").querySelector("." + status);
                        destination.appendChild(t);
                    });
                }
                project.tasks.get(task.id).setData(data);
            }
            if (tableID == "msbacklog") {
                var data = project.tasks.get(task.id).data();
                delete data.developer;
                project.tasks.task(task.id).setData(data);
            }
            if (tableID == "qabacklog") {
                var data = project.tasks.get(task.id).data();
                delete data.tester;
                project.tasks.task(task.id).setData(data);
            }
            if (cell.classList.contains("done"))
                project.tasks.get(task.id).complete();
        }
    }
    var draggables = Object.keys(dragdrop.config);
    var instanceTemplates = {
        "teamMember": "itemTemplate",
        "sprint": "itemTemplate",
        "holidayWeek": "itemTemplate",
        "dayOfWeek": "itemTemplate",
        "workItem": "reqtTemplate",
        "backlogitem": "taskTemplate",
        "newTask": "taskTemplate"
    };
    var project = {
        get name() {
            return document.querySelector("#projectName").value;
        },
        burndown: {
            capacity: function(...args) {
                var date = args.length ? args[0] : new Date();
                var capacity = project.sprints.getDev()
                    .map(m => project.sprints.get(m).capacity(date));
                return capacity.length ? capacity.reduce((a, b) => a + b) : 0;
            },
            get: function() {
                var tasks = project.tasks.getAll();
                var allBurndown = [];
                tasks.forEach(task => {
                    allBurndown.push({ id: task.id, burndown: project.tasks.get(task.id).projectBurndown()});
                });
                var dates = project.dates.trackingDates();
                var burndown = [];
                dates.forEach(d => {
                    dt = "dt_" + (d.toISOString().slice(0,10).replace(/-/g,""));
                    var allEfforts = allBurndown.map(b => b.burndown.filter(d => d.date == dt)[0].effort);
                    burndown.push({
                        date: dt,
                        effort: allEfforts.length ? allEfforts.reduce((a, b) => a + b) : 0
                    });
                });
                return burndown;
            },
            getTarget: function() {
                devsprints = project.sprints.getDev().map(s => {
                    var s = project.sprints.get(s);
                    return {
                        id: s.id,
                        capacity: s.capacity(),
                        start: s.startDate(),
                        end: s.endDate()
                    }
                });
                capacity = [];
                project.dates.trackingDates().forEach(d => {
                    var sprint = devsprints.filter(s => s.start <= d && s.end >= d)[0];
                    var remaining = project.sprints.get(sprint).capacity(d);
                    var sprintRemaining = devsprints.filter(s => s.start > d).map(s => s.capacity).reduce((a, b) => a + b, 0);
                    capacity.push({
                        date: "dt_" + (d.toISOString().slice(0,10).replace(/-/g,"")),
                        effort: remaining + sprintRemaining
                    });
                })
                return capacity;
            },
            error: function (form, message) {
                form.querySelector(".form").style.display = "none";
                form.querySelector(".message").style.display = "";
                form.querySelector(".message p").innerHTML = message;
                form.querySelector("#exit").onclick = function (event) {
                    form.style.display = 'none';
                    form.querySelector(".form").style.display = "";
                    form.querySelector(".message").style.display = "none";
                };
                form.style.display = 'block';
            },
            edit: function(event) {
                var bdForm = document.querySelector("#burndownForm");
                var startDate = document.querySelector("#projectInfo #startDate").value;
                if (startDate == '') return project.burndown.error(bdForm, "Start date for project not set.");
                var item = event.target.closest(".item");
                var id = item.id;
                var data = getJSONData(item);
                if (event.target.closest("table.tasktable").id == "mslist")
                    sprint = event.target.closest("tr.msrequirements");
                if (event.target.closest("table.tasktable").id == "devtasklist")
                    sprint = document.querySelector("#sprintEditor .sprint");
                bdForm.style.display = 'block';
                bdForm.querySelector("#taskbrief").innerHTML = data.name;
                bdForm.querySelector("#estimate").innerHTML = project.tasks.get(id).size() + " ("
                    + project.tasks.get(id).estimate() + ")";
                bdForm.querySelector(".sprints").id = sprint.id;
                bdForm.querySelector(".sprints").innerHTML = project.sprints.get(sprint).data().name;
                var mserrors = [];
                if (mserrors.length)
                    return project.burndown.error(bdForm, "Set sprint length:<br/>" + mserrors.join("<br/>"));
                project.burndown.show(item, bdForm);
                bdForm.querySelector("#editTask").onclick = function (e) {
                    bdForm.style.display = "none";
                    this.closest(".container").querySelector("#yes").click();
                    form.edit({ target: sprint.querySelector("#" + id) });
                } 
                bdForm.querySelector("#yes").onclick = function (event) {
                    document.querySelectorAll("#" + id).forEach(i => form.saveData(i, bdForm));
                    form.clearData(bdForm);
                    document.querySelector(".graphType-selected").click();
                };
                bdForm.querySelector("#no").onclick = function (event) {
                    bdForm.style.display = 'none';
                };
            },
            show: function(requirement, form) {
                var id = form.querySelector(".sprints").id;
                var msid = document.querySelector(".sprints#" + id);
                var msStartDate = project.sprints.get(msid).startDate();
                var msWeeks = +project.sprints.get(msid).dataValue("weeks");
                var msEndDate = project.sprints.get(msid).endDate();
                document.querySelector("#daterange").innerText = msStartDate
                    .toLocaleString("default", { month: "short", day: "numeric"}) + " - "
                    + msEndDate.toLocaleString("default", { month: "short", day: "numeric", year: "numeric" });
                var weeks = project.sprints.get(msid).dataValue("weeks");
                var tbody = document.querySelector("#burndownForm table tbody");
                tbody.innerHTML = "";
                var data = getJSONData(requirement);
                for(var week = 0, msdate = project.sprints.get(msid).startDate(); week < weeks; week++) {
                    var tr = document.createElement("tr");
                    for(var d = 0; d < 7; d++) {
                        var td = document.createElement("td");
                        td.innerText = msdate.getDate();
                        msdate.setDate(msdate.getDate() + 1);
                        tr.appendChild(td);
                    }
                    for(var d = 0; d < project.dates.burndownDays().length; d++) {
                        var day = project.dates.burndownDays()[d];
                        var bdDate = new Date(msStartDate);
                        bdDate.setDate(bdDate.getDate() + (week * 7) + day - 1);
                        var id = "dt_" + (bdDate.toISOString().slice(0,10).replace(/-/g,""));
                        input = '<input id="' + id + '" class="bdData">';
                        tr.querySelector(":nth-child(" + day + ")").innerHTML += input;
                        if (Object.keys(data).filter(key => key == id).length > 0)
                        tr.querySelector(":nth-child(" + day + ") input").value = data[id];
                    }
                    tbody.appendChild(tr);
                }
            }
        },
        backlog: { // Requirements defined but not yet added to a Sprint
            getAll: function() {
                return Array.from(document.querySelectorAll("#backlogDiv #requirements .item.taskbrief"));
            },
            get: function(reqtId) {
                return {
                    id: reqtId,
                    data: function() {
                        return getJSONData(document.querySelector("#" + this.id));
                    },
                    priority: function() {
                        var data = this.data();
                        var priorities = project.ui.priorities().filter(d => data[d]);
                        if (priorities.length == 0) return defaults.priority;
                        return priorities[priorities.length - 1];
                    },
                    size: function() {
                        var data = this.data();
                        var sizes = project.ui.sizes().filter(d => data[d]);
                        if (sizes.length == 0) return defaults.size;
                        return sizes[sizes.length - 1];
                    },
                    estimate: function() {
                        var effort = +document.querySelector("#estimateTemplate").content
                            .querySelector("input#" + this.size()).value;
                        if (!effort) effort = defaults.estimate;
                        return effort;
                    },
                    get tasks() {
                        return project.tasks.getAll().filter(t => {
                            var data = getJSONData(t);
                            return data.reference == this.id;
                        });
                    }
                }
            },
            scheduled: function() {
                var taskdata = project.tasks.getAll()
                    .filter(t => {
                        var data = getJSONData(t);
                        return data.reference;
                    })
                    .map(t => {
                        return { id: t.id, data: getJSONData(t) };
                    });
                return this.getAll().filter(r =>
                    taskdata.filter(t => t.data.reference == r.id).length
                );
            },
            unscheduled: function() {
                var scheduled = this.scheduled();
                return this.getAll().filter(r => scheduled.filter(s => s.id == r.id).length == 0);
            }
        },
        sprints: {
            get: function(sprint) {
                return {
                    id: sprint.id,
                    startDate: function() {
                        var startDate = project.dates.start();
                        if (startDate == null) return null;
                        var sprints = Array.from(document.querySelectorAll("#settingsScreen .sprint"));
                        var sprint = sprints.filter(m => m.id == this.id)[0];
                        var weeks = 0;
                        for (var m = 0; m < sprints.length; m++) {
                            if (sprints[m].isSameNode(sprint)) break;
                            weeks += +getJSONData(sprints[m]).weeks;
                        }
                        var dt = new Date(startDate);
                        return new Date(dt.setDate(dt.getDate() + (weeks * 7)));
                    },
                    endDate: function() {
                        var dt = this.startDate();
                        if (dt == null) return null;
                        var duration = this.dataValue("weeks")
                        var returnDate = new Date(dt.setDate(dt.getDate() + (duration * 7) - 1));
                        returnDate.setHours(23);
                        returnDate.setMinutes(59);
                        returnDate.setSeconds(59);
                        returnDate.setMilliseconds(999);
                        return returnDate;
                    },
                    tasks: function() {
                        var selector = "#mslist #" + this.id + " .newTask";
                        return Array.from(document.querySelectorAll(selector));
                    },
                    unassignedDeveloper: function() {
                        return this.tasks().filter(t => {
                            developer = project.tasks.get(t.id).data().developer;
                            return developer == null || developer == ''; })
                    },
                    unassignedTester: function() {
                        return this.tasks().filter(t => {
                            tester = project.tasks.get(t.id).data().tester;
                            return tester == null || tester == ''; })
                    },
                    trackingDates: function() {
                        var date = new Date(this.startDate());
                        var endDate = this.endDate();
                        var burndownDays = project.dates.burndownDays();
                        var trackingDates = [];
                        while (date < endDate) {
                            burndownDays.forEach(d => {
                                var dt = new Date(date);
                                dt.setDate(dt.getDate() + d - 1);
                                trackingDates.push(new Date(dt));
                            });
                            date = new Date(date.setDate(date.getDate() + 7));
                        }
                        return trackingDates;
                    },
                    capacity: function(date) {
                        if (document.querySelector("#settingsScreen #" + this.id)
                            .classList.contains("testing")) return 0;
                        if (!date || date < this.startDate()) date = this.startDate();
                        if (date >= this.endDate()) return 0;
                        var endDate = this.endDate();
                        var data = this.data();
                        var capacity = 0;
                        project.team.developers.forEach(d => {
                            var burnRate = data[d] ?
                                parseInt(data[d]) / 100
                                : parseInt(defaults.capacity[project.team.member(d).data().role]) / 100;                            
                            var vacation = data["vac_" + d] ?
                                parseInt(data["vac_" + d])
                                : parseInt(defaults.capacity.vacation);
                            var devCapacity = 0;
                            for(var dt = new Date(date); dt < endDate; dt.setDate(dt.getDate() + 1)) {
                                if (!project.dates.isHoliday(dt)) devCapacity += 1;
                            }
                            devCapacity -= vacation;
                            devCapacity *= burnRate;
                            if (devCapacity < 0) devCapacity = 0;
                            capacity += devCapacity;
                        });
                        return capacity;
                    },
                    capacityConfig: function() {
                        if (document.querySelector("#settingsScreen #" + this.id)
                            .classList.contains("testing")) return null;
                        var data = this.data();
                        var capacity = [];
                        var developers = project.team.developers;
                        developers.forEach(d => {
                            var availability = data[d];
                            if (!availability) availability = defaults.capacity[project.team.member(d).data().role];
                            var vacation = data["vac_" + d] ? parseInt(data["vac_" + d]) :
                                defaults.capacity.vacation;
                            var devCapacity = 0;
                            capacity.push({
                                id: d,
                                developer: project.team.member(d).data().name,
                                availability: availability,
                                vacation: vacation
                            });
                        });
                        return capacity;
                    },
                    developerCapacity: function(developer, date) {
                        if (document.querySelector("#settingsScreen #" + this.id)
                            .classList.contains("testing")) return 0;
                        if (date >= this.endDate()) return 0;
                        var data = this.data();
                        if (!data[developer]) return 0;
                        if (!date || date < this.startDate()) date = this.startDate();
                        var workingDays = this.workingDays();
                        var vacation = parseInt(data["vac_" + developer]); 
                        var burnTotal = (parseInt(data[developer]) / 100) * (workingDays.length - vacation);
                        var burnRate = burnTotal / workingDays.length;
                        if (burnRate < 0) burnRate = 0;
                        var endDate = this.endDate();
                        var capacity = 0;
                        for(var dt = new Date(date); dt < endDate; dt.setDate(dt.getDate() + 1)) {
                            if (!project.dates.isHoliday(dt)) capacity += burnRate;
                        }
                        capacity -= vacation;
                        if (capacity < 0) capacity = 0;
                        return capacity;
                    },
                    targetBurndown: function() {
                        var burndown = [];
                        var trackingDates = this.trackingDates();
                        trackingDates.forEach(d => {
                            var dt = "dt_" + (d.toISOString().slice(0,10).replace(/-/g,""));
                            burndown.push({ date: dt, effort: this.capacity(d) });
                        });
                        return burndown;
                    },
                    burndown: function() {
                        var tasks = this.tasks();
                        var allBurndown = [];
                        tasks.forEach(t => {
                            allBurndown.push({
                                id: t.id,
                                burndown: project.tasks.get(t.id).projectBurndown()
                            });
                        });
                        var dates = this.trackingDates();
                        var burndown = [];
                        dates.forEach(d => {
                            var dt = "dt_" + (d.toISOString().slice(0,10).replace(/-/g,""));
                            var allEfforts = allBurndown.map(b => b.burndown.filter(b => b.date == dt)[0].effort);
                            burndown.push({
                                date: dt,
                                effort: allEfforts.length ? allEfforts.reduce((a, b) => a + b) : 0
                            });
                        });
                        return burndown;
                    },
                    workingDays: function() {
                        var workingDays = [];
                        var endDate = this.endDate();
                        for (var date = this.startDate(); date < endDate; date.setDate(date.getDate() + 1)) {
                            if (!project.dates.isHoliday(date)) workingDays.push(new Date(date));
                        }
                        return workingDays;
                    },
                    data: function() {
                        var selector = "#settingsScreen #" + this.id;
                        return getJSONData(document.querySelector(selector));
                    },
                    dataValue: function(attribute) {
                        return this.data()[attribute];
                    }
                }
            },
            getAll: function() {
                return document.querySelectorAll("#settingsScreen .sprint");
            },
            getDev: function() {
                return [...document.querySelectorAll("#settingsScreen #sprints #development")]
                    .map(d => d.closest(".sprint"));
            },
            getTest: function() {
                return [...document.querySelectorAll("#settingsScreen #sprints #testing")]
                    .map(d => d.closest(".sprint"));
            },
            getCurrent: function() {
                var sprints = [...this.getAll()];
                var today = new Date();
                for (m in sprints) {
                    var ms = project.sprints.get(sprints[m]);
                    if (today >= ms.startDate() && today <= ms.endDate())
                        return ms;
                }
                return null;
            }
        },
        tasks: { // Requirements scheduled for execution in a Sprint
            get: function(taskid) {
                return {
                    id: taskid,
                    complete: function() {
                        var sprint = [...project.sprints.getAll()]
                            .filter(s => 
                                project.sprints.get(s).tasks().filter(t =>
                                    t.id == this.id).length)[0];
                        var endDate = project.sprints.get(sprint).endDate();
                        var today = new Date();
                        if (today < endDate) endDate = today;
                        var dt = "dt_" + (endDate.toISOString().slice(0,10).replace(/-/g,""));
                        var data = this.data();
                        data[dt] = "0";
                        document.querySelectorAll("#" + this.id).forEach(task =>
                            task.querySelector("#data").innerText = JSON.stringify(data));
                    },
                    data: function() {
                        return getJSONData(document.querySelector("#" + this.id));
                    },
                    priority: function() {
                        const data = this.data();
                        return project.ui.priorities().filter(p => data[p])[0];
                    },
                    size: function() {
                        var data = this.data();
                        var sizes = project.ui.sizes().filter(d => data[d]);
                        if (sizes.length == 0) return defaults.size;
                        return sizes[sizes.length - 1];
                    },
                    estimate: function() {
                        var sizes = project.ui.sizes();
                        var effort = defaults.sizes.filter(s => s.id == this.size())[0].value;
                        if (!effort) effort = defaults.estimate;
                        return effort;
                    },
                    projectBurndown: function() {
                        var startDate = project.dates.start();
                        if (!startDate) return [];
                        var endDate = project.dates.end();
                        var remainingEffort = this.estimate();
                        var task = document.querySelector("#" + this.id);
                        var data = getJSONData(task);
                        var allDays = {};
                        for (var d = startDate; d < endDate; d.setDate(d.getDate() + 1)) {
                            var dt = "dt_" + (d.toISOString().slice(0,10).replace(/-/g,""));
                            if (data[dt] && data[dt] != '') remainingEffort = parseInt(data[dt]);
                            allDays[dt] = remainingEffort;
                        }
                        var burndown = [];
                        var trackingDates = project.dates.trackingDates();
                        trackingDates.forEach(d => {
                            var dt = "dt_" + (d.toISOString().slice(0,10).replace(/-/g,""));
                            burndown.push({ date: dt, effort: allDays[dt] });
                        });
                        return burndown;
                    },
                    msBurndown: function(msid) {
                        var  taskBurndown = this.projectBurndown();
                        var dates = project.sprints.get(msid).trackingDates();
                        burndown = [];
                        dates.forEach(d => {
                            var dt = "dt_" + (d.toISOString().slice(0,10).replace(/-/g,""));
                            burndown.push({
                                date: dt,
                                effort: taskBurndown.filter(b => b.date == dt)[0].effort
                            });
                        })
                        return burndown;
                    },
                    remaimingEffort: function () {
                        var burndown = this.projectBurndown();
                        var dates = [...Object.keys(burndown)];
                        return burndown[dates[dates.length - 1]];
                    },
                    msRemaimingEffort: function (msid) {
                        var msburndown = this.msBurndown(msid);
                        var dates = [...Object.keys(msburndown)];
                        return msburndown[msburndown.length - 1];
                    },
                    setData: function(data) {
                        document.querySelectorAll("#" + this.id)
                            .forEach(t => t.querySelector("#data").innerText = JSON.stringify(data));
                    },
                    sprint: function() {
                        var msrow = document.querySelector("#scheduleEditor #" + this.id);
                        return msrow.closest("tr").id;
                    },
                    status: function() {
                        var selector = "#scheduleEditor #mslist #" + this.id;
                        var cell = document.querySelector(selector).closest("#task.status");
                        return statuses.map(s => s.value).filter(s => cell.classList.contains(s))[0];
                    }
                }
            },
            getAll: function() {
                return Array.from(document.querySelectorAll("#mslist div.newTask.item"));
            },
            assign: function(task, cell, role) { // "role" is "developer" or "tester" or ""
                // Set the name of the developer of the task
                var data = getJSONData(task);
                var assignee = "";
                var closestTable = cell.closest("table");
                if (closestTable.id == "mslist") {
                    assignee = data[role];
                    if (assignee && assignee.length > 0) assignee = assignee[0][assignee];
                }
                if (closestTable.id == "devtasklist") {
                    assignee = cell.closest("tr").querySelector("td .teamMember").id;
                }
                if (closestTable.id == "msbacklog" || closestTable.id == "qabacklog") {
                    assignee = "";
                }
                data[role] = assignee;
                return data;
            }
        },
        team: {
            member: function(id) {
                return {
                    id: id,
                    data: function() {
                        return getJSONData(document.querySelector("#settingsScreen #" + this.id));
                    },
                    tasks: function() {
                        return project.tasks.getAll().filter(task => {
                            var data = project.tasks.get(task.id).data();
                            return data.developer ? data.developer == this.id : false;
                        });
                    },
                    getTasksForMS: function(sprintId) {
                        return this.tasks().filter(t => t.closest("tr").id == sprintId);
                    }
                }
            },
            get developers() {
                return Array.from(document.querySelectorAll("#settingsScreen #team .lead"))
                    .concat(Array.from(document.querySelectorAll("#settingsScreen #team .developer")))
                    .map(d => d.id);
            },
            get QAs()  {
                return Array.from(document.querySelectorAll("#settingsScreen #team .tester")).map(d => d.id);
            },
            get all() {
                return Array.from(document.querySelectorAll("#settingsScreen #team .teammember")).map(d => d.id);
            }
        },
        checklists: {
            get entry() { return [
                { prompt: "Project name",  value: "this.echeck.projectName()", style: "" },
                { prompt: "Schedule",  value: "this.echeck.schedule()", style: "" },
                { prompt: "Sprint plan",  value: "this.echeck.sprintPlan()", style: "" },
                { prompt: "Scope",  value: "this.echeck.scope()", style: "" },
                { prompt: "Tasks",  value: "this.echeck.tasks()", style: "" },
                { prompt: "Team",  value: "this.echeck.staff('lead')", style: "" },
                { prompt: "Capacity",  value: "this.echeck.capacity()", style: "" }
            ]},
            get exit() { return [
                { prompt: "Backlog completion",  value: "this.xcheck.backlog()", style: "" },
                { prompt: "Task completion",  value: "this.xcheck.tasks()", style: "" },
                { prompt: "Team Deliver",  value: "this.xcheck.team()", style: "" },
                { prompt: "Velocity",  value: "this.xcheck.velocity()", style: "" },
                { prompt: "Regression testing",  value: "", style: "", id: "regression" },
                { prompt: "Performance testing",  value: "", style: "", id: "performance" },
                { prompt: "Stress testing",  value: "", style: "", id: "stress" },
                { prompt: "Security review",  value: "", style: "", id: "security" },
                { prompt: "Patent review",  value: "", style: "", id: "patent" }
            ]},
            get sprint() { return {
                get entry() { return [
                    { prompt: "Schedule",  value: "this.scheck.schedule(sprint)", style: "" },
                    { prompt: "Payload",  value: "this.scheck.payload(sprint)", style: "" },
                    { prompt: "Requirement Estimate",  value: "this.scheck.estimate(sprint)", style: "" },
                    { prompt: "Team Capacity",  value: "this.scheck.developerCapacity(sprint)", style: "" },
                    { prompt: "Tasks assignment",  value: "this.scheck.assignment(sprint)", style: "" }
                ]},
                get exit() { return [
                    { prompt: "Payload",  value: "this.scheck.payload(sprint)", style: "" },
                    { prompt: "Completion",  value: "this.scheck.completion(sprint)", style: "" }                    
                ]}
            }},
            show: function(selector) {
                var list = document.querySelector("#dordodScreen #checklist");
                list.innerText = "";
                switch(selector) {
                    case "#startDD":
                        var checklist = project.checklists.entry;
                        list.appendChild(project.checklists.make("Project Start", checklist));
                        list.querySelector(".holder").id = "start";
                        this.restore();
                        project.checklists.echeck.refreshGraphs();
                        break;
                    case "#stopDD":
                        var checklist = project.checklists.exit;
                        list.appendChild(project.checklists.make("Project Exit", checklist));
                        list.querySelector(".holder").id = "stop";
                        this.restore();
                        project.checklists.xcheck.refreshGraphs();
                        break;
                    default:
                        document.querySelector("#dordodScreen " + selector).click();
                        this.restore();
                }
            },
            make: function(title, list, sprint) {
                var checklist = document.querySelector("template#dordod").content.cloneNode(true);
                checklist.querySelector("#title").innerHTML = title;
                var items = checklist.querySelector("#list");
                var sprintID = sprint && sprint.id;
                list.forEach(l => {
                    var row = document.createElement("tr");
                    var cell = document.createElement("td");
                    cell.classList.add("label");
                    if (sprintID)
                        l.value = l.value.replace("sprint", `"${sprintID}"`);
                    cell.innerText = l.prompt;
                    row.appendChild(cell);
                    cell = document.createElement("td");
                    if (l.id) { // Checklist item with input data
                        cell.id = l.id;
                        cell.classList.add("userinput");
                        cell.addEventListener("change", (event) => {
                            var item = event.target.closest(".userinput");
                            var _list = item.closest(".holder");
                            var selector = document.querySelector("#dordodScreen #sections #" + _list.id);
                            var data = getJSONData(selector);
                            if (!data[item.id]) data[item.id] = {};
                            data[item.id][event.target.id] = event.target.value;
                            selector.querySelector("#data").innerText = JSON.stringify(data);
                        });
                    }
                    cell.appendChild(this.evaluate(l));
                    row.appendChild(cell);
                    items.appendChild(row);
                });
                return checklist;
            },
            evaluate: function(item) {
                if (item.value == "") {
                    var response = document.querySelector("template#clItem").content.cloneNode(true);
                    response.id = item.id;
                    return response;
                }
                var div = document.createElement("div");
                div.classList.add("checks");
                div.innerHTML = eval(item.value);
                return div;
            },
            fix: function(spanner) {
                var message = spanner.closest(".warning").querySelector("#message").innerText;
                const fixes = [
                    { key: "Project name not set", screen: "button#settings", field: "input#projectName",
                        message: "Enter a name for the project" },
                    { key: "No requirements in backlog", screen: "button#backlog", field: "#requirements",
                        message: "Drag requirements to the backlog" },
                    { key: "No tasks created", screen: "button#schedule", field: "img.menuicon",
                        message: "Add tasks from the backlog, or new tasks to the project" },
                    { key: "No tasks in sprint", screen: "button#schedule", field: "img.menuicon",
                        message: "Add tasks to all sprints" },
                    { key: "backlog items schedule", screen: "button#schedule", field: ".reqt.backlogitem",
                        message: "Add tasks to the backlog" },
                    { key: "No sprints added", screen: "button#settings", field: "img.menuicon",
                        message: "Add sprints to the project schedule" },
                    { key: "No development sprints added", screen: "button#settings", field: "img.menuicon",
                        message: "Add sprints to the project schedule" },
                    { key: "No hardening sprints added", screen: "button#settings", field: "img.menuicon",
                        message: "Add hardening sprints for activities like regression testing, non-functional reviews, etc." },
                    { key: "No development capacity", screen: "button#settings", field: "img.menuicon",
                        message: "Drag leds and/or developers to the project" },
                    { key: "No leads assigned", screen: "button#settings", field: "img.menuicon",
                        message: "Drag a technical lead to the project staff box" },
                    { key: "No developers assigned", screen: "button#settings", field: "img.menuicon",
                        message: "Drag developers to the project staff box" },
                    { key: "No testers assigned", screen: "button#settings", field: "img.menuicon",
                        message: "Drag testers to the project staff box" },
                    { key: "No blackout weeks between start and end dates", screen: "button#settings", field: "img.menuicon",
                        message: "Set date of blackout week" },
                    { key: "backlog requirements not competed", screen: "button#schedule", field: "img.menuicon",
                        message: "All tasks not yet moved to complete column" },
                    { key: "not assigned to a developer", screen: "button#schedule", field: "img",
                        message: "Assign task to a developer" },
                    { key: "Cannot evaluate, no sprints added", screen: "button#settings", field: "img",
                        message: "Add development sprints" }
                ];
                var action = fixes.filter(f => message.match(f.key));
                if (action.length == 0) {
                    console.log("No corrective action for '" + message + "'");
                    return;
                }
                var holder = spanner.closest(".holder");
                if (holder && holder.id.match("sprints_")) {
                    var tab = document.querySelector(action[0].screen);
                    tab.click();
                    action[0].screen = tab.querySelector("#mslist #" + holder.id);
                }
                document.querySelector(action[0].screen).click();
                document.querySelector(action[0].field).focus();
                var x = document.querySelector("#snackbar");
                x.innerText = action[0].message;
                x.className = "show";
                setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
            },
            restore: function() { // Restore previously stored data
                var data = getJSONData(document.querySelector("#dordodScreen #sections #" + checklist.id));
                Object.keys(data).filter(k => k != "id").forEach(k => {
                    Object.keys(data[k]).forEach(l => {
                        var input = checklist.querySelector(`#${k} #${l}`);
                        if (input.type == "checkbox") {
                            input.checked = data[k][l] == "on";
                            return;
                        }
                        input.value = data[k][l];
                    });
                });
            },
            fromJSON: function(checklists) { // Create checklists from saved JSON data
                dordodInit();
                checklists.forEach(list => {
                    var id = list.id;
                    var data = document.querySelector("#dordodScreen #sections #" + id + " #data");
                    data.innerText = JSON.stringify(list);
                });
            },
            toJSON: function() { // Save checklist data to JSON
                var checklists = [];
                document.querySelectorAll("#dordodScreen #sections #data").forEach(d => {
                    var _list = d.closest(".clSelector");
                    var data = getJSONData(_list);
                    data.id = _list.id;
                    checklists.push(data);
                });
                return checklists;
            },
            change: function() {
                var target = event.target;
                try {
                    new URL(target.value);
                    var link = target.parentNode.querySelector("#link");
                    link.style.display = "";
                    link.href = target.value;
                }
                catch (e) {
                    target.parentNode.querySelector("#link").style.display = "none";
                }
            },
            warning: function(message) {
                var warning = document.querySelector("template#dordodWarning").content.cloneNode(true);
                warning.querySelector("#message").innerText = message;
                return warning.querySelector("div").outerHTML;
            },
            message: function(s) { return "<div class='message'>" + s + "</div>"},
            echeck: { // Project start checklist
                projectName: function() {
                    var warning = project.checklists.warning;
                    var name = project.name;
                    if (!name || name.length == 0) name = warning("Project name not set");
                    return name;
                },
                scope: function() {
                    var messages = [];
                    var message = project.checklists.message;
                    var warning = project.checklists.warning;
                    var backlog = project.backlog.getAll();
                    var backlogCount = backlog.length;
                    var data = [];
                    if (backlogCount == 0) messages.push(warning("No requirements in backlog"));
                    if (backlogCount > 0) {
                        data = [
                            { type: "Tasks", count: project.tasks.getAll().length },
                            { type: "Backlog", count: project.backlog.getAll().length }
                        ];
                        var plannedReqts = backlog.filter(b => project.backlog.get(b.id).tasks.length > 0);
                        var plannedCount = plannedReqts.length;
                        data.push({ type: "Unscheduled", count: backlogCount - plannedCount });
                        if (plannedCount != backlogCount)
                            messages.push(warning(`${plannedCount} of ${backlogCount} backlog items scheduled`));
                        const graph1 = graph.project.bargraph({
                            title: "Scope", width: 100 }, data);
                        var data = [];
                        project.ui.priorities().forEach(p => data.push({ type: p, count: 0 }));
                        var backlog = project.backlog.getAll();
                        backlog.forEach(b => {
                            const priority = project.backlog.get(b.id).priority();
                            data.filter(d => d.type == priority)[0].count++;
                        });
                        const graph2 = backlog.length ?
                            graph.project.bargraph({
                                title: "Backlog Priority", width: 175 }, data) : "";
                        data = [];
                        project.ui.sizes().forEach(s => data.push({ type: s, count: 0 }));
                        backlog.forEach(b => {
                            const size = project.backlog.get(b.id).size();
                            data.filter(d => d.type == size)[0].count++;
                        });
                        const graph3 = backlog.length ?
                            graph.project.bargraph({ title: "Backlog Estimates" }, data) : "";
                        var graphDiv = "<div id='scopeGraphs'>" + graph1 + graph2 + graph3 + "</div>";
                        messages.unshift(graphDiv);
                    }
                    return messages.join("");
                },
                tasks: function() {
                    var messages = [];
                    var warning = project.checklists.warning;
                    var tasks = project.tasks.getAll();
                    var taskCount = tasks.length;
                    if (taskCount <= 0) messages.push(warning("No tasks created"));
                    else {
                        const graph1 = graph.project.stackbar({ title: "Priority Delivery" }, graph.project.taskPriorityData());
                        const graph2 = graph.project.stackbar({ title: "Size Delivery" }, graph.project.taskSizeData());
                        messages.unshift(`<div id="taskDist">${graph1}${graph2}</div>`);
                    }
                    return messages.join("");
                },
                schedule: function() {
                    var start = project.dates.start().toLocaleDateString();
                    var end = project.dates.end();
                    end = end != null ? end.toLocaleDateString() : "";
                    return `${start} - ${end}`;
                },
                staff: function() {
                    var messages = ["<div id='staff'>"];
                    var message = project.checklists.message;
                    var warning = project.checklists.warning;
                    var staff = [...document.querySelectorAll("#settingsScreen #team .teammember")];
                    ["lead", "developer", "tester"].forEach(r => {
                        var members = staff.filter(s => s.classList.contains(r));
                        if (members.length == 0) {
                            messages.push(warning(`No ${r}s assigned`));
                        }
                        else {
                            messages.push(`<div><img class="staff stats" src='img/${r}.svg'/>${members.length} ${r}(s)</div>`);
                        }
                    });
                    messages.push("</div>");
                    return messages.join("");
                },
                sprintPlan: function() {
                    var messages = [];
                    var warning = project.checklists.warning;
                    var message = project.checklists.message;
                    var sprints = project.sprints.getAll();
                    var devsprints = project.sprints.getDev();
                    if (sprints.length > 0) messages.push(graph.project.schedule());
                    messages.push(sprints.length == 0 ? warning("No sprints in plan")
                        : message("Sprints: " + sprints.length));
                    messages.push(devsprints.length == 0 ? warning("No development sprints")
                        : message("Development: " + devsprints.length));
                    messages.push(sprints.length == devsprints.length ? warning("No hardening sprints added")
                        : message("Hardening: " + (sprints.length - devsprints.length)));
                    messages.push("Blackouts: " + project.dates.blackoutWeeks().length)
                    return messages.join("");
                },
                capacity: function() {
                    var startDate = project.dates.start();
                    var capacity = project.burndown.capacity(startDate);
                    var message = project.checklists.message;
                    var warning = project.checklists.warning;
                    if (project.sprints.getDev().length == 0) return warning("Cannot evaluate, no sprints added");
                    if (capacity == 0) return warning("No development capacity");
                    var  messages = [message(`${capacity.toFixed(2)} days`)];
                    var data = [];
                    const sprints = project.sprints.getDev();
                    sprints.forEach(s => data.push({
                        type: project.sprints.get(s).data().name,
                        count: project.sprints.get(s).capacity()
                    }))
                    var graph1 = graph.project.bargraph({ title: "Sprint Capacity" }, data);
                    data = [];
                    sprints.forEach(s => data.push({
                        type: project.sprints.get(s).data().name,
                        count: project.sprints.get(s)
                            .capacityConfig()
                            .map(c => c.vacation)
                            .reduce((a, b) => a + b)
                    }))
                    var graph2 = graph.project.bargraph({ title: "Vacation Days" }, data);
                    var graphDiv = "<div id='capacityGraphs'>" + graph1 + graph2 + "</div>";
                    messages.push(graphDiv);
                    return messages.join("");
                },
                refreshGraphs: function() {
                    // Re-drawing graphs
                    [...document.querySelectorAll("g#plot > g")] // For all sprints in schedule graph
                        .forEach(t => {
                            t.querySelectorAll("rect").forEach(r => {
                                var data, interval;
                                const id = r.dataset.id;
                                if (id.startsWith("sprint")) {
                                    const sprint = project.sprints.get({id: id});
                                    data = sprint.data();
                                    interval = sprint.startDate().toDateString() + " - " +
                                        sprint.endDate().toDateString()
                                }
                                if (id.startsWith("holiday")) {
                                    data = project.dates.blackouts().filter(b => b.id == id)[0];
                                    var endDate = new Date(data.holidayStart);
                                    endDate.setDate(endDate.getDate() + 6);
                                    interval = data.holidayStart.toDateString() + " - " + endDate.toDateString();
                                }
                                var message = "<table><tr><td>Name:</td><td>" + data.name +
                                    "</td></tr><tr><td>Schedule:</td><td>" + interval + "</td></tr></table>";
                                project.ui.addMoveListeners(r, message);
                            });
                        });
                    [...document.querySelectorAll("#scopeGraphs .plot > rect, #capacityGraphs .plot > rect")] // for all bars in scope graphs
                        .forEach(r => {
                            const type = r.dataset.type;
                            const count = r.dataset.count;
                            message = `${type}: ${count}`;
                            project.ui.addMoveListeners(r, message);
                        });
                    if (project.tasks.getAll().length) {
                        var rects = [...[...document.querySelectorAll("#taskDist .plot")][0].querySelectorAll("rect")];
                        graph.project.stackedTooltips(graph.project.taskPriorityData(), rects);
                        rects = [...[...document.querySelectorAll("#taskDist .plot")][1].querySelectorAll("rect")];
                        graph.project.stackedTooltips(graph.project.taskSizeData(), rects);
                    }
                }
            },
            xcheck: { // Project exit checklist
                completedTasks: function() {
                    return project.tasks.getAll().map(t => {
                        var data = getJSONData(t);
                        return {
                            id: t.id,
                            status: project.tasks.get(t.id).status(),
                            size: project.tasks.get(t.id).size(),
                            priority: project.tasks.get(t.id).priority(),
                            developer: data.developer,
                            tester: data.tester
                        };
                    }).filter(t => t.status == "done");
                },
                backlog: function() {
                    var messages = [];
                    var message = project.checklists.message;
                    var warning = project.checklists.warning;
                    var backlog = project.backlog.getAll();
                    var tasks = project.tasks.getAll().map(t => { // tasks related to backlog
                        var data = getJSONData(t);
                        return {
                            id: t.id,
                            reference: data.reference,
                            status: project.tasks.get(t.id).status()
                        };
                    }).filter(t => t.reference);
                    var done = tasks.filter(t => t.status == "done");
                    if (backlog.length == 0) messages.push(warning("No requirements in backlog"));
                    var scheduled = backlog.filter(b => tasks.filter(t => t.reference == b.id).length > 0);
                    if (backlog.length) {
                        if (backlog.length == scheduled.length)
                            messages.push(message(`All ${backlog.length} backlog items in schedule`));
                        else
                            messages.push(warning(`${scheduled.length} of ${backlog.length} backlog items scheduled`));
                        if (done.length) {
                            if (done.length == tasks.length)
                                messages.push(message(`All ${done.length} related tasks completed`));
                            else {
                                var notDone = backlog.filter(b => project.backlog.get(b.id)
                                    .tasks.filter(t => project.tasks.get(t.id).status() != "done").length > 0);
                                var complete = scheduled.length - notDone.length;
                                messages.push(message(`${complete} backlog items of ${scheduled.length} of scheduled completed`));
                                messages.push(warning(`${notDone.length} backlog items of ${scheduled.length} of scheduled not completed`));
                            }
                        }
                        else {
                            if (scheduled.length > 0)
                                messages.push(warning(`${scheduled.length} backlog requirements not competed`));
                        }
                    }
                    var graphData = [
                        { type: "Backlog", count: backlog.length },
                        { type: "Scheduled", count: scheduled.length },
                        { type: "Related Tasks", count: tasks.length },
                    ];
                    const graph1 = backlog.length > 0 || scheduled.length > 0 || tasks.length > 0 ?
                        graph.project.bargraph({ title: "Backlog", width: 100 }, graphData) : "";
                    graphData = [];
                    project.ui.priorities().forEach(p => graphData.push({ type: p, count: 0 }));
                    done.forEach(b => {
                        const priority = project.backlog.get(b.reference).priority();
                        graphData.filter(d => d.type == priority)[0].count++;
                    });
                    const graph2 = done.length ?
                        graph.project.bargraph({ title: "Completion / Priority", width: 175 }, graphData) : "";
                    graphData = [];
                    project.ui.sizes().forEach(s => graphData.push({ type: s, count: 0 }));
                    done.forEach(b => {
                        const size = project.backlog.get(b.reference).size();
                        graphData.filter(d => d.type == size)[0].count++;
                    });
                    const graph3 = done.length ?
                        graph.project.bargraph({ title: "Completion / Size" }, graphData) : "";
                    var graphDiv = "<div id='scopeGraphs'>" + graph1 + graph2 + graph3 + "</div>";
                    messages.unshift(graphDiv);
                    return messages.join("");
                },
                tasks: function() {
                    var messages = [];
                    var message = project.checklists.message;
                    var warning = project.checklists.warning;
                    var taskIDs = project.tasks.getAll().map(t => t.id);
                    if (taskIDs.length == 0) messages.push(warning("No tasks created"));
                    else {
                        messages.push(message(`${taskIDs.length} tasks in project`));
                        var tasks = project.tasks.getAll().map(t => { // tasks related to backlog
                            var data = getJSONData(t);
                            return {
                                id: t.id,
                                reference: data.reference,
                                status: project.tasks.get(t.id).status(),
                                size: project.tasks.get(t.id).size(),
                                priority: project.tasks.get(t.id).priority()
                            };
                        }).filter(t => t.status == "done");
                        var data = [];
                        project.ui.sizes().forEach(s => data.push({ type: s, count: 0 }));
                        tasks.forEach(t => data.filter(d => d.type == t.size)[0].count++);
                        const graph1 = tasks.length ?
                            graph.project.bargraph({ title: "Done Tasks / Size" }, data) : "";
                        data = [];
                        project.ui.priorities().forEach(s => data.push({ type: s, count: 0 }));
                        tasks.forEach(t => data.filter(d => d.type == t.priority)[0].count++);
                        const graph2 = tasks.length ?
                            graph.project.bargraph({ title: "Done Tasks / Priority" }, data) : "";
                        messages.push("<div id='scopeGraphs'>" + graph2 + graph1 + "</div>");
                    }
                    return messages.join("");
                },
                team: function() {
                    const tasks = this.completedTasks();
                    if (tasks.length == 0) return project.checklists.warning("No tasks created");
                    const graph1 = graph.project.stackbar({ title: "Developer / Priority" }, graph.project.developerPriority(tasks));
                    const graph2 = graph.project.stackbar({ title: "Developer / Size" }, graph.project.developerSize(tasks));
                    const graph3 = graph.project.stackbar({ title: "Testing / Priority" }, graph.project.testerPriority(tasks));
                    const graph4 = graph.project.stackbar({ title: "Testing / Size" }, graph.project.testerSize(tasks));
                    return `<div id="taskDist">${graph1}${graph2}${graph3}${graph4}</div>`;
                },
                velocity: function() {},
                refreshGraphs: function() {
                    [...document.querySelectorAll("#scopeGraphs .plot > rect, #capacityGraphs .plot > rect")] // for all bars in scope graphs
                        .forEach(r => {
                            const type = r.dataset.type;
                            const count = r.dataset.count;
                            message = `${type}: ${count}`;
                            project.ui.addMoveListeners(r, message);
                        });
                    const tasks = this.completedTasks();
                    if (tasks.length) {
                        var rects = [...[...document.querySelectorAll("#taskDist .plot")][0].querySelectorAll("rect")];
                        graph.project.stackedTooltips(graph.project.developerPriority(tasks), rects);
                        rects = [...[...document.querySelectorAll("#taskDist .plot")][1].querySelectorAll("rect")];
                        graph.project.stackedTooltips(graph.project.developerSize(tasks), rects);
                        rects = [...[...document.querySelectorAll("#taskDist .plot")][2].querySelectorAll("rect")];
                        graph.project.stackedTooltips(graph.project.testerPriority(tasks), rects);
                        rects = [...[...document.querySelectorAll("#taskDist .plot")][3].querySelectorAll("rect")];
                        graph.project.stackedTooltips(graph.project.testerSize(tasks), rects);
                    }
                }
            },
            scheck: {
                schedule: function(sprintID) {
                    const sprint = project.sprints.get({ id: sprintID });
                    const startDate = sprint.startDate().toLocaleDateString();
                    const endDate = sprint.endDate().toLocaleDateString();
                    return project.checklists.message(`${startDate} - ${endDate}`);
                },
                estimate: function(sprintID) {
                    const sprint = project.sprints.get({ id: sprintID });
                    var tasks = sprint.tasks();
                    var effort = tasks.length == 0 ? 0 :
                        tasks.map(t => project.tasks.get(t.id).estimate()).reduce((a, b) => a + b);
                    return project.checklists.message(`${effort.toFixed(2)} days`);
                },
                developerCapacity: function(sprintID) {
                    const sprint = project.sprints.get({ id: sprintID });
                    var developerCapacity = sprint.capacity();
                    if (developerCapacity == 0)
                        return project.checklists.warning(`No development capacity`);
                    var tasks = sprint.tasks();
                    var estimate = tasks.length == 0 ? 0 :
                        tasks.map(t => project.tasks.get(t.id).estimate()).reduce((a, b) => a + b);
                    return developerCapacity < estimate ?
                        project.checklists.warning(`${developerCapacity.toFixed(2)} days - less than required estimate`)
                        : project.checklists.message(`${developerCapacity.toFixed(2)} days`);
                },
                assignment: function(sprintID) {
                    var messages = [];
                    var message = project.checklists.message;
                    var warning = project.checklists.warning;
                    const sprint = project.sprints.get({ id: sprintID });
                    var noDevs = sprint.unassignedDeveloper();
                    if (noDevs.length > 0) messages.push(warning(`${noDevs.length} tasks not assigned to a developer`));
                    var noTester = sprint.unassignedTester();
                    if (noTester.length) messages.push(warning(`${noTester.length} tasks not assigned to a tester`));
                    const tasks = graph.project.sprintData(sprint);
                    if (tasks.length) {
                        const graph1 = graph.project.stackbar({ title: "Size Distribution" },
                            graph.project.sizeDistribution(sprint, tasks));
                        const graph2 = graph.project.stackbar({ title: "Priority Distribution" },
                            graph.project.priorityDistribution(sprint,  tasks));
                        messages.push("<div id='taskLoad'>" + graph1 + graph2 + "</div>");
                    }
                    return messages.join("");
                },
                payload: function(sprintID) {
                    var messages = [];
                    var message = project.checklists.message;
                    var warning = project.checklists.warning;
                    const sprint = project.sprints.get({ id: sprintID });
                    var tasks = sprint.tasks();
                    var backlog = tasks.filter(t => getJSONData(t).reference);
                    var uniqueBacklog = backlog.map(b => getJSONData(b).reference)
                        .filter((value, index, self) => self.indexOf(value) === index);
                    if (tasks.length == 0) messages.push(warning("No tasks in sprint"));
                    else {
                        messages.push(message(`${tasks.length} tasks`));
                        messages.push(message(`${backlog.length} tasks related to ${uniqueBacklog.length} backlog items`));
                    }
                    return messages.join("");
                },
                completion: function(sprintID) {
                    var messages = [];
                    var message = project.checklists.message;
                    var warning = project.checklists.warning;
                    const sprint = project.sprints.get({ id: sprintID });
                    var tasks = sprint.tasks();
                    var taskIDs = tasks.map(t => t.id);
                    var backlog = tasks.filter(t => getJSONData(t).reference);
                    var uniqueBacklog = backlog.map(b => getJSONData(b).reference)
                        .filter((value, index, self) => self.indexOf(value) === index);
                    if (tasks.length == 0) messages.push(warning("No tasks in sprint"));
                    else {
                        messages.push("<table class='exit sprint'><th>Status</th><th>Backlog</th><th>Tasks</th><th>Total</th>");
                        statuses.forEach(s => {
                            var all = taskIDs.filter(t => project.tasks.get(t).status() == s.value);
                            var count = all.length;
                            var bcount = all.filter(t => project.tasks.get(t).data().reference).length;
                            var tcount = count - bcount;
                            messages.push(`<tr><td>${s.label}</td><td>${bcount}</td><td>${tcount}</td><td>${count}</td></tr>`);
                        });
                        messages.push("</table>");
                    }
                    return messages.join("");
                },
                refreshGraphs: function(sprint) {
                    const tasks = graph.project.sprintData(sprint);
                    if (tasks.length == 0) return;
                    var rects = [...[...document.querySelectorAll("#taskLoad .plot")][0].querySelectorAll("rect")];
                    graph.project.stackedTooltips(graph.project.sizeDistribution(sprint, tasks), rects);
                    rects = [...[...document.querySelectorAll("#taskLoad .plot")][1].querySelectorAll("rect")];
                    graph.project.stackedTooltips(graph.project.priorityDistribution(sprint, tasks), rects);
                }
            }
        },
        dates: {
            start: function() {
                return document.querySelector("#settingsScreen #startDate").value != '' ?
                    new Date(document.querySelector("#settingsScreen #startDate").value) : null;
            },
            end: function() {
                var sprints = project.sprints.getAll();
                var lastMS = sprints.length ? sprints[sprints.length - 1] : null;
                return lastMS ? project.sprints.get(lastMS).endDate() : null;
            },
            burndownDays: function() {
                var burndownDays = [];
                document.querySelectorAll("#weekDiv .weekday #workday")
                    .forEach(w => {
                        burndownDays.push(+w.closest(".weekday").getAttribute("data-value"));
                    });
                return burndownDays;
            },
            weeklyHolidays: function() {
                var weeklyHolidays = [];
                document.querySelectorAll("#weekDiv .weekday #holiday")
                    .forEach(w => {
                        weeklyHolidays.push(+w.closest(".weekday").getAttribute("data-value"));
                    });
                return weeklyHolidays;
            },
            blackouts: function() {
                return [...document.querySelectorAll("#settingsScreen .holidayWeek")]
                    .map(week => {
                        var data = getJSONData(week);
                        data.id = week.id;
                        if (data && data.holidayStart) {
                            var w = parseInt(data.holidayStart.split("W")[1]);
                            var y = parseInt(data.holidayStart.split("-")[0]);
                            var d = (7 - (new Date(y, 0, 1)).getDay()) + 2 + (w - 1) * 7;
                            data.holidayStart = new Date(y, 0, d);
                        }
                        return data;
                    });
            },
            blackoutWeeks: function() {
                return [...document.querySelectorAll("#settingsScreen .holidayWeek")]
                    .map(d => getJSONData(d))
                    .filter(d => d.holidayStart)
                    .map(d => {
                        var w = parseInt(d.holidayStart.split("W")[1]);
                        var y = parseInt(d.holidayStart.split("-")[0]);
                        var d = (7 - (new Date(y, 0, 1)).getDay()) + 2 + (w - 1) * 7;
                        return new Date(y, 0, d);
                    });
            },
            trackingDates: function() {
                var date = new Date(this.start());
                var endDate = this.end();
                var burndownDays = project.dates.burndownDays();
                var trackingDates = [];
                while (date < endDate) {
                    burndownDays.forEach(d => {
                        var dt = new Date(date); 
                        dt.setDate(dt.getDate() + d - 1);
                        trackingDates.push(new Date(dt));
                    });
                    date = new Date(date.setDate(date.getDate() + 7));
                }
                return trackingDates;
            },
            isHoliday: function(date) {
                var blackoutWeeks = this.blackoutWeeks();
                if (blackoutWeeks.filter(d => d.getDate() == date.getDate()).length > 0) return true;
                var dow = date.getDay();
                return project.dates.weeklyHolidays().filter(d => d == dow).length > 0;
            }
        },
        ui: {
            addMoveListeners: function(target, tipString) {
                target.addEventListener("mouseover", event => {
                    project.ui.tip.style.opacity = 0.9;
                    project.ui.tip.innerHTML = tipString;
                    project.ui.tip.style.left = (event.pageX + 10) + "px";
                    project.ui.tip.style.top =  (event.pageY - 20) + "px";
                });
                target.addEventListener("mouseout", event => {
                    project.ui.tip.style.opacity = 0;
                });
                target.addEventListener("mousemove", (event) => {
                    project.ui.tip.style.left = (event.pageX + 10) + "px";
                    project.ui.tip.style.top = (event.pageY - 20) + "px";
                });
            },
            backlog: {
                list: {
                    show: function () {
                        document.querySelector("#scheduleScreen #backlogsummary").style.display = "none";
                        document.querySelector("#scheduleScreen #backlog").style.display = "";
                    },
                    hide: function() {
                        document.querySelector("#scheduleScreen #backlogsummary").style.display = "";
                        document.querySelector("#scheduleScreen #backlog").style.display = "none";
                        project.ui.backlog.hideOptions();
                    }
                },
                applyFilter: function() {
                    this.hideOptions();
                    const options = document.querySelector("#backlog #filters");
                    const schedule = [...options.querySelectorAll("input[name='scheduled'")]
                        .filter(o => o.checked)[0].id;
                    // Set filter button background to yellow
                    [...document.querySelectorAll("#scheduleScreen #backlog #filterButton")]
                        .forEach(n => n.classList.add("filtered"));
                    var scheduled = [];
                    if (schedule == "unscheduled")
                        scheduled = project.backlog.scheduled();
                    scheduled.forEach(r => {
                            [...document.querySelectorAll("#scheduleScreen #" + r.id)]
                                .forEach(n => n.classList.add("hidden"));
                    });
                    const priorities = [...options.querySelectorAll("input[type='checkbox']")]
                        .filter(c => c.checked).map(i => i.id);
                    [...project.backlog.getAll()].filter(b => {
                        var data = project.backlog.get(b.id).data();
                        return priorities.filter(p => data[p] == true).length == 0;
                    }).forEach(n => {
                        document.querySelector(`#list #${n.id}`).classList.add("hidden");
                    });
                },
                showAll: function() {
                    [...document.querySelectorAll("#scheduleScreen .filtered")]
                        .forEach(n => n.classList.remove("filtered"));
                    [...document.querySelectorAll("#scheduleScreen .hidden")]
                        .forEach(n => n.classList.remove("hidden"));
                },
                toggle: function() {
                    var filtered = document.querySelector("#backlog #filterButton.filtered");
                    if (filtered) {
                        this.showAll();
                        filtered.classList.remove("filtered");
                    }
                    else {
                        var visibility = document.querySelector("#backlogDiv #filters").style.visibility;
                        if (visibility == "visible") {
                            visibility = "hidden";
                            this.hideOptions();
                        }
                        else {
                            visibility = "visible";
                            this.options();
                        }
                    }
                },
                options: function() {
                    document.querySelector("#backlogDiv #filters").style.visibility = "visible";
                },
                hideOptions: function() {
                    document.querySelector("#backlogDiv #filters").style.visibility = "hidden";
                },
                changeBacklog: function(item, list, deleteEnum) {
                    list.closest(".dropzone").appendChild(item);
                    var data = getJSONData(item);
                    delete data[deleteEnum().filter(p => data[p])[0]];
                    data[list.id] = true;
                    document.querySelectorAll("#" + item.id).forEach(backlogItem =>
                        backlogItem.querySelector("#data").innerText = JSON.stringify(data));
                },
                changePriority: function(item, list) { this.changeBacklog(item, list, project.ui.priorities) },
                changeEstimate: function(item, list) { this.changeBacklog(item, list, project.ui.sizes) },
            },
            clear: function() {
                document.querySelectorAll("#projectInfo input").forEach(f => f.value = "");
                document.querySelector("#backlogScreen #requirements").innerHTML = "";
                document.querySelectorAll(".droplist:not(.weekdays)").forEach(d => d.innerHTML = "");
                document.querySelectorAll(".weeksetup #week .item").forEach(w => w.parentNode.removeChild(w));
                document.querySelector("#mslist #sprints").innerHTML = "";
                document.querySelector("#backlog #list").innerHTML = "";
                document.querySelectorAll("#dordodScreen input").forEach(i => i.type == "checkbox" ? i.checked = false : i.value = "");
            },
            defaultSizes: function() { form.edit({ target: document.querySelector("#sizeSettings")})},
            sizes: function() {
                return [...document.querySelector("#estimateTemplate")
                    .content.querySelectorAll("input")].map(s => s.id);
            },
            priorities: function() {
                return [...document.querySelector("#priorityTemplate")
                    .content.querySelectorAll("input")].map(s => s.id);

            },
            sprint: {
                clear: function() {
                    var mseditor = document.querySelector("#sprintEditor");
                    mseditor.querySelector("tbody#developer").innerHTML = '';
                    mseditor.querySelector("tbody#tester").innerHTML = '';
                    mseditor.querySelector("#msbacklog tbody").innerHTML = '';
                    mseditor.querySelector("#qabacklog tbody").innerHTML = '';
                },
                hide: function(target) {
                    target.closest("td").querySelectorAll("div:not(.minholder)").forEach(div => div.style.display = "none");
                    var minholder = target.closest(".minholder");
                    minholder.querySelector(".description").innerText =
                        target.closest("td").querySelector(".itemName").innerText;
                    minholder.querySelector(".displayed").style.display = "";
                    minholder.querySelector(".hidden").style.display = "none";
                    target.closest("tr").querySelectorAll("td:nth-child(n+2)").forEach(c => c.style.display = "none");
                },
                show: function(target) {
                    target.closest("td").querySelectorAll("div:not(.minholder):not(#data)")
                        .forEach(div => div.style.display = "");
                    var minholder = target.closest(".minholder");
                    minholder.querySelector(".description").innerText = "";
                    minholder.querySelector(".hidden").style.display = "";
                    minholder.querySelector(".displayed").style.display = "none";
                    target.closest("tr").querySelectorAll("td:not(.msicon)").forEach(c => c.style.display = "");
                },
                refresh: function() {
                    if (document.querySelector("#sprintEditor").style.display == "none") return;
                    var msid = document.querySelector("#sprintEditor .sprint").id;
                    var selector = "#scheduleEditor #" + msid + " .sprint";
                    var sprint = document.querySelector(selector);
                    this.clear();
                    // Set up start and end dates in header
                    var ms = project.sprints.get(sprint);
                    var dateRange = ms.startDate() == null ? "Start date not set" :
                        ms.startDate().toDateString() + " - " + ms.endDate().toDateString();
                    document.querySelector("#sprintEditor #header").innerText = dateRange;
                    this.showTeam();
                    // List tasks at end: for all columns in sprint row
                    var msrequirements = sprint.closest("tr").cloneNode(true);
                    var qarequirements = sprint.closest("tr").cloneNode(true);
                    msrequirements.id = "unassigned";
                    // Clear contents of first cell with MS icon
                    msrequirements.querySelectorAll(".help").forEach(h => h.parentNode.removeChild(h));
                    msrequirements.querySelector("td:nth-child(1)").style.removeProperty("border");
                    msrequirements.querySelector("td").innerText = "";
                    qarequirements.querySelector("td:nth-child(1)").style.removeProperty("border");
                    qarequirements.querySelector("td").innerText = "";
                    document.querySelector("#msbacklog tbody").appendChild(msrequirements);
                    document.querySelector("#qabacklog tbody").appendChild(qarequirements);
                    // Copy cell widths
                    var columns = document.querySelectorAll("#devtasklist tr th");
                    var ncolumns = columns.length;
                    for (var i = 0; i < ncolumns; i++) {
                        var column = msrequirements.querySelector("tr td:nth-child(" + (i + 1) + ")");
                        // column.classList.remove("status");
                        if (columns[i].style.width) {
                            column.style.width = columns[i].style.width;
                        }
                        var column = qarequirements.querySelector("tr td:nth-child(" + (i + 1) + ")");
                        if (columns[i].style.width) {
                            column.style.width = columns[i].style.width;
                        }
                    }
                    // For each task status, move tasks to developer row
                    document.querySelectorAll("#msbacklog td.status:not(.msicon)").forEach(status => {
                        // Get the column status to search for the right column in the table above
                        var columnStatus = statuses.map(s => s.value).filter(s => status.classList.contains(s))[0];
                        // For each task in status column
                        status.querySelectorAll(".taskbrief").forEach(task => {
                            task.querySelector(".burndown").onclick = project.burndown.edit;
                            task.querySelector(".edit").onclick = form.edit;
                            task.querySelector(".delete").onclick = deleteItem;
                            var data = getJSONData(task);
                            var developer = data.developer;
                            if (developer && developer != '') {
                                var devRow = document.querySelector("#devtasklist #" + developer);
                                if (devRow) {
                                    devRow = devRow.closest("tr");
                                    devRow.querySelector("." + columnStatus).appendChild(task);
                                }
                            }
                        });
                    });

                    var node = document.querySelector("#devtasklist tbody tr:nth-child(1) td");
                    var helptext = "Collapse";
                    var help = document.createElement("div");
                    help.classList.add("help");
                    help.style.float = "right";
                    help.appendChild(document.createTextNode(helptext));
                    node.insertBefore(help, node.firstChild);
                    
                    node = document.querySelector("#devtasklist tbody tr:nth-child(1) #task.task");
                    helptext = "Drag tasks for this developer here";
                    help = document.createElement("div");
                    help.classList.add("help");
                    help.appendChild(document.createTextNode(helptext));
                    if (node.childElementCount == 0) node.appendChild(help);
                    else node.insertBefore(help, node.firstChild);
                    
                    node = document.querySelector("#devtasklist tbody tr:nth-child(1) #task.inprogress");
                    helptext = "Drag tasks for this developer to work on immediately";
                    help = document.createElement("div");
                    help.classList.add("help");
                    help.appendChild(document.createTextNode(helptext));
                    if (node.childElementCount == 0) node.appendChild(help);
                    else node.insertBefore(help, node.firstChild);

                    node = document.querySelector("#devtasklist tbody tr:nth-child(1) #task.totest");
                    helptext = "Drag tasks ready for testing here";
                    help = document.createElement("div");
                    help.classList.add("help");
                    help.appendChild(document.createTextNode(helptext));
                    if (node.childElementCount == 0) node.appendChild(help);
                    else node.insertBefore(help, node.firstChild);

                    node = document.querySelector("#devtasklist tbody tr:nth-child(1) #task.done");
                    helptext = "Drag completed tasks here";
                    help = document.createElement("div");
                    help.classList.add("help");
                    help.appendChild(document.createTextNode(helptext));
                    if (node.childElementCount == 0) node.appendChild(help);
                    else node.insertBefore(help, node.firstChild);

                    node = document.querySelector("#msbacklog td:nth-child(2)");
                    helptext = "Unassigned unstarted backlog tasks here";
                    help = document.createElement("div");
                    help.classList.add("help");
                    help.appendChild(document.createTextNode(helptext));
                    if (node.childElementCount == 0) node.appendChild(help);
                    else node.insertBefore(help, node.firstChild);

                    node = document.querySelector("#msbacklog td:nth-child(3)");
                    helptext = "Unassigned started backlog tasks here";
                    help = document.createElement("div");
                    help.classList.add("help");
                    help.appendChild(document.createTextNode(helptext));
                    if (node.childElementCount == 0) node.appendChild(help);
                    else node.insertBefore(help, node.firstChild);

                    node = document.querySelector("#msbacklog td:nth-child(4)");
                    helptext = "Unassigned test ready backlog tasks here";
                    help = document.createElement("div");
                    help.classList.add("help");
                    help.appendChild(document.createTextNode(helptext));
                    if (node.childElementCount == 0) node.appendChild(help);
                    else node.insertBefore(help, node.firstChild);

                    node = document.querySelector("#msbacklog td:nth-child(5)");
                    helptext = "Unassigned complete backlog tasks here";
                    help = document.createElement("div");
                    help.classList.add("help");
                    help.appendChild(document.createTextNode(helptext));
                    if (node.childElementCount == 0) node.appendChild(help);
                    else node.insertBefore(help, node.firstChild);


                    document.querySelectorAll("#qabacklog td:not(.msicon)").forEach(status => {
                        // Get the column status to search for the right column in the table above
                        var columnStatus = statuses.map(s => s.value).filter(s => status.classList.contains(s))[0];
                        // For each task in status column
                        status.querySelectorAll(".taskbrief").forEach(task => {
                            task.querySelector(".burndown").onclick = project.burndown.edit;
                            task.querySelector(".edit").onclick = form.edit;
                            task.querySelector(".delete").onclick = deleteItem;
                            var data = getJSONData(task);
                            var tester = data.tester;
                            if (tester && tester != '') {
                                var devRow = document.querySelector("#devtasklist #" + tester)
                                    .closest("tr");
                                devRow.querySelector("." + columnStatus).appendChild(task);
                            }
                        });
                    });
                },
                showTeam: function() {
                    document.querySelectorAll('#teamDiv #team .teamMember').forEach(dev => {
                        var msrow = document.querySelector("#msTemplate").content.cloneNode(true);
                        msrow.querySelector(".msicon").innerHTML = "";
                        var devwidget = dev.closest(".teamMember").cloneNode(true);
                        devwidget.classList.add("undraggable");
                        var controls = devwidget.querySelector(".controls");
                        controls.parentElement.removeChild(controls);
                        controls = devwidget.querySelector(".hand");
                        controls.parentElement.removeChild(controls);
                        msrow.querySelector(".msicon").appendChild(devwidget);
                        var role = dev.classList.contains("tester") ? "tester" : "developer";
                        document.querySelector("#sprintEditor tbody#" + role).appendChild(msrow);
                    });
                },
                syncTabs: function() {
                    console.log("Syncing tabs");
                    var devMSList = project.sprints.getDev();
                    var scheduledSprints = document.querySelectorAll("#scheduleEditor #sprints > tr");
                    if (devMSList.length != scheduledSprints.length) console.log("Sprints in project setup and progress tabs out of sync");
                    for (i = 0; i < devMSList.length; i++) {
                        if (devMSList[i].id != scheduledSprints[i].id) {
                            var correctRow = Array.from(scheduledSprints).filter(r => r.id == devMSList[i].id);
                            console.log("Mismatch in row", i, "expected", getJSONData(devMSList[i]).name, "found", getJSONData(scheduledSprints[i]).name);
                            scheduledSprints[i].parentNode.insertBefore(correctRow[0], scheduledSprints[i]);
                            scheduledSprints = document.querySelectorAll("#scheduleEditor #sprints tr");
                        }
                        var sprint = project.sprints.get(devMSList[i]);
                        var startDate = sprint.startDate();
                        var endDate = sprint.endDate();
                        var dateRange = startDate.toLocaleDateString(undefined, { month: "short", day: "numeric" })
                            + " - " + endDate.toLocaleDateString(undefined, { month: "short", day: "numeric" });
                        scheduledSprints[i].querySelector("#schedule").innerText = dateRange;
                    }
                },
                edit: function(sprint) {
                    // Hide the Project scedule editor (table of sprints)
                    document.querySelector("#scheduleEditor").style.display = "none";
                    document.querySelector("#sprintEditor").style.display = "";
                    document.querySelector("#msicon").innerHTML = '';
                    // Put header icon on top
                    document.querySelector("#msicon").appendChild(sprint.closest(".sprint").cloneNode(true));
                    document.querySelector("#sprintEditor #development").removeAttribute("title");
                    this.refresh();
                }
            },
            task: function(taskId) {
                return {
                    id: taskId,
                    set status(s) {
                        [...document.querySelectorAll("#scheduleScreen #" + this.id)].forEach(task => {
                            var row = task.closest("tr");
                            var dest = row.querySelector("." + s);
                            if (!dest.contains(task)) dest.appendChild(task);
                        })
                    }
                }
            },
            refresh: function() {
                this.sprint.refresh();
                this.schedule.refresh();
            },
            schedule: {
                highlight: function(reqt) {
                    var hlcolor = "lightgray";
                    reqt.classList.add("highlight");
                    [...document.querySelectorAll("#sprints .taskbrief")].forEach(r => {
                        var data = getJSONData(r);
                        if(data.reference == reqt.id) r.classList.add("highlight");
                    });
                    [...document.querySelectorAll("#scheduleEditor .highlight")]
                        .forEach(r => {
                            if (r.style.backgroundColor != hlcolor) {
                                const data = project.backlog.get(r.id).data();
                                r.dataset.oldBackgroundColor = data.noteColor;
                                r.dataset.oldColor = data.textColor;
                                r.style.color = "black";
                                r.style.backgroundColor = hlcolor;
                            }
                        });
                },
                lowlight: function(reqt) {
                    [...document.querySelectorAll("#scheduleEditor .highlight")].forEach(r => {
                        var data = project.backlog.get(r.id).data();
                        if (r.id.startsWith("task"))
                            data = project.backlog.get(getJSONData(r).reference).data();
                        r.style.backgroundColor = data.noteColor;
                        r.style.color = data.textColor;
                        r.classList.remove("highlight");
                    });
                },
                edit: function() {
                    document.querySelector("#scheduleEditor").style.display = "flex";
                    document.querySelector("#sprintEditor").style.display = "none";
                },
                refresh: function() {
                    var devSprints = project.sprints.getDev();
                    var today = new Date();
                    var sprintRows = [...document.querySelectorAll("#scheduleEditor #mslist #sprints > tr")];
                    devSprints.forEach(sprint => {
                        var ms = project.sprints.get(sprint);
                        var sprintRow = sprintRows.filter(s => s.id == sprint.id)[0];
                        var dateRange = sprintRow.querySelector("td:nth-child(1) #schedule");
                        dateRange.innerText = ms.startDate().toLocaleString("default", { month: "short", day: "numeric"})
                            + " - " + ms.endDate().toLocaleString("default", { month: "short", day: "numeric"});
                        if (ms.startDate() <= today && ms.endDate() >= today) {
                            sprintRow.classList.add("current");
                        }
                        else {
                            sprintRow.classList.remove("current");
                        }
                    });
                }
            },
            developerView: function() {
                document.querySelector("#sprintEditor #tester").classList.remove("selected");
                document.querySelector("#sprintEditor #developer").classList.add("selected");
                document.querySelector("#sprintEditor tbody#developer").style.display = "";
                document.querySelector("#sprintEditor tbody#tester").style.display = "none";
                document.querySelector("#sprintEditor #msbacklog").style.display = "";
                document.querySelector("#sprintEditor #qabacklog").style.display = "none";
            },
            testerView: function() {
                document.querySelector("#sprintEditor #developer").classList.remove("selected");
                document.querySelector("#sprintEditor #tester").classList.add("selected");
                document.querySelector("#sprintEditor tbody#developer").style.display = "none";
                document.querySelector("#sprintEditor tbody#tester").style.display = "";
                document.querySelector("#sprintEditor #msbacklog").style.display = "none";
                document.querySelector("#sprintEditor #qabacklog").style.display = "";
            },
            get tip() { return document.querySelector("#tooltip") }
        },
        file: {
            open: function() {
                var form = document.querySelector("#loadfileForm");
                form.style.display = "";
                form.querySelector("#yes").addEventListener("click", function() {
                    form.style.display = "none";
                });
                form.querySelector("#no").addEventListener("click", function() {
                    form.style.display = "none";
                });
            },
            loadTrackingData: function(burndown) {
                var table = document.querySelector("#mslist");
                burndown.forEach(sprint => {
                    var tr = table.querySelector("tr#" + sprint.id);
                    statuses.map(s => s.value).forEach(status => {
                        sprint[status].forEach(task => {
                            var data = task.data;
                            dragdrop.dragged = document.querySelector("#mslist #development");
                            var newTask = dragdrop.add("newTask", tr.querySelector("." + status));
                            newTask.id = task.id;
                            newTask.querySelector(".itemName").innerText = data.name;
                            newTask.querySelector("#data").innerText = JSON.stringify(data);
                            var reference = data.reference;
                            if (reference) {
                                var s = "#requirements #" + data.reference;
                                newTask.style.backgroundColor = document.querySelector(s).style.backgroundColor;
                            }
                        });
                    })
                })
            },
            save: function() {
                var form = document.querySelector("#savefileForm");
                form.style.display = "";
                var dt = (new Date()).toISOString().split(".")[0];
                var projectName = project.name;
                if (projectName == "") projectName = "Project";
                form.querySelector("#filename").value = projectName + "." + dt;
                form.querySelector("#yes").addEventListener("click", function() {
                    form.style.display = "none";
                });
                form.querySelector("#no").addEventListener("click", function() {
                    form.style.display = "none";
                });
            },
            toJSON: function() {
                var json = {
                    projectInfo: {},
                    defaults: { sizes: {} },
                    team: [],
                    sprints: [],
                    holidayWeeks: [],
                    requirements: [],
                    burndown: [],
                    checklists: []
                };
                document.querySelectorAll("#projectInfo input").forEach (v => {
                    json.projectInfo[v.id] = v.value;
                });
                json.projectInfo.burndownDays = project.dates.burndownDays();
                json.projectInfo.weeklyHolidays = project.dates.weeklyHolidays();
                document.querySelectorAll("#defaults input").forEach (v => {
                    if (v.type == 'checkbox')
                        json.defaults[v.id] = v.checked;
                    if (v.type == 'text')
                        json.defaults[v.id] = v.value;
                });
                document.querySelectorAll("#defaults select").forEach (v => {
                    json.defaults[v.id] = v.querySelector("option:checked").value;
                });
                document.querySelectorAll("#sizeSettings").forEach(i => {
                    json.defaults.sizes = getJSONData(i);
                });
                document.querySelectorAll("#team .teamMember").forEach(t => {
                    json.team.push({ id: t.id, data: getJSONData(t) });
                });
                document.querySelectorAll("#scheduleDiv #sprints .sprint").forEach(t => {
                    json.sprints.push({ id: t.id, data: getJSONData(t) });
                });
                document.querySelectorAll("#holidayWeeks .holidayWeek").forEach(t => {
                    json.holidayWeeks.push({ id: t.id, data: getJSONData(t) });
                });
                document.querySelectorAll("#requirements .taskbrief").forEach(t => {
                    var taskData = getJSONData(t);
                    taskData.left = t.style.left;
                    taskData.top = t.style.top;
                    json.requirements.push({ id: t.id, data: taskData });
                });
                document.querySelectorAll("#mslist tbody tr.msrequirements").forEach(ms => {
                    var last = json.burndown.push({ id: ms.id }) - 1;
                    var sprint = json.burndown[last];
                    statuses.map(s => s.value).forEach(status => {
                        sprint[status] = [];
                        ms.querySelectorAll("." + status + " .taskbrief").forEach(task => {
                            sprint[status].push({ id: task.id, data: getJSONData(task)});
                        })
                    });
                });
                json.checklists = project.checklists.toJSON();
                return json;
            }
        }
    };
    var graph = {
        project: {
            developerPriority: function(tasks) {
                const priorities = project.ui.priorities();
                return project.team.developers.map(d => {
                    var record = { developer: project.team.member(d).data().name };
                    priorities.forEach(p =>
                        record[p] = tasks.filter(t =>
                            t.priority == p && t.developer == d).length);
                    return record;
                });
            },
            developerSize: function(tasks) {
                const sizes = project.ui.sizes();
                return project.team.developers.map(d => {
                    var record = { developer: project.team.member(d).data().name };
                    sizes.forEach(p =>
                        record[p] = tasks.filter(t =>
                            t.size == p && t.developer == d).length);
                    return record;
                });
            },
            testerPriority: function(tasks) {
                const priorities = project.ui.priorities();
                return project.team.QAs.map(d => {
                    var record = { tester: project.team.member(d).data().name };
                    priorities.forEach(p =>
                        record[p] = tasks.filter(t =>
                            t.priority == p && t.tester == d).length);
                    return record;
                });
            },
            testerSize: function(tasks) {
                const sizes = project.ui.sizes();
                return project.team.QAs.map(d => {
                    var record = { tester: project.team.member(d).data().name };
                    sizes.forEach(p =>
                        record[p] = tasks.filter(t =>
                            t.size == p && t.tester == d).length);
                    return record;
                });
            },
            taskPriorityData: function() {
                const priorities = project.ui.priorities();
                return [...project.sprints.getDev()].map(s => {
                    var sprint = project.sprints.get(s);
                    var tasks = sprint.tasks().map(t => project.tasks.get(t.id));
                    var record = { sprint: sprint.data().name };
                    priorities.forEach(p => record[p] = tasks.filter(t => t.priority() == p).length);
                    return record;
                });
            },
            taskSizeData: function() {
                const sizes = project.ui.sizes();
                return [...project.sprints.getDev()].map(s => {
                    var sprint = project.sprints.get(s);
                    var tasks = sprint.tasks().map(t => project.tasks.get(t.id));
                    var record = { sprint: sprint.data().name };
                    sizes.forEach(p => record[p] = tasks.filter(t => t.size() == p).length);
                    return record;
                });
            },
            priorityDistribution: function(sprint, tasks) {
                const priorities = project.ui.priorities();
                const developers = project.team.developers;
                developers.push(undefined);
                return developers.map(d => {
                    var record = { name: project.team.member(d).data().name };
                    priorities.forEach(p =>
                        record[p] = tasks.filter(t =>
                            t.priority == p && t.developer == d).length);
                    return record;
                }).map(d => { if (!d.name) d.name = "unassigned"; return d; });
            },
            sprintData: function(sprint) {
                return sprint.tasks().map(t => {
                    return {
                        id: t.id,
                        priority: project.tasks.get(t.id).priority(),
                        size: project.tasks.get(t.id).size(),
                        storyPoints: +defaults.sizes.filter(s => s.id == project.tasks.get(t.id).size())[0].value,
                        developer: project.tasks.get(t.id).data().developer,
                        tester: project.tasks.get(t.id).data().tester
                    };
                });
            },
            sizeDistribution: function(sprint, tasks) {
                const sizes = project.ui.sizes();
                const developers = project.team.developers;
                developers.push(undefined);
                return developers.map(d => { // For each developer
                    var assigned = tasks.filter(t => t.developer == d);
                    var record = { name: project.team.member(d).data().name };
                    sizes.forEach(s => {
                        record[s] = assigned.filter(t => t.size == s).length *
                            defaults.sizes.filter(sz => sz.id == s)[0].value;
                    });
                    return record;
                }).map(d => { if (!d.name) d.name = "unassigned"; return d; });
            },
            stackedTooltips: function(data, rects) { // Setting tooltips for stacked bar charts
                subgroups = Object.keys(data[0]).slice(1);
                stackedData = d3.stack().keys(subgroups)(data);
                rects.forEach(rect => {
                    var row = rect.parentNode;
                    var x = [...row.querySelectorAll("rect")].indexOf(rect);
                    var y = [...row.parentNode.querySelectorAll("g")].indexOf(row);
                    var key = stackedData[y].key;
                    var value = stackedData[y][x][1] - stackedData[y][x][0];
                    message = `${key}: ${value}`;
                    project.ui.addMoveListeners(rect, message);
                });
            },
            schedule: function() {
                var sprintTypes = [
                    { // Development sprints
                        sprints: project.sprints.getDev().map(s => {
                            return {
                                id: s.id,
                                start: +project.sprints.get(s).startDate(),
                                end: +project.sprints.get(s).endDate()
                            }
                        })
                    },
                    { // Testing sprints
                        sprints: project.sprints.getTest().map(s => {
                            return {
                                id: s.id,
                                start: +project.sprints.get(s).startDate(),
                                end: +project.sprints.get(s).endDate()
                            }
                        })
                    },
                    { // Blackout weeks
                        sprints: project.dates.blackouts()
                            .filter(d => d.holidayStart >= project.dates.start() && d.holidayStart < project.dates.end())
                            .map(s => {
                                var e = new Date(s.holidayStart);
                                e.setDate(e.getDate() + 6);
                                return {
                                    id: s.id,
                                    start: +s.holidayStart,
                                    end: +e
                                }
                            })
                    }
                ];
                const rowLabels = ["Development", "Testing", "Blackout"];
                var graph = document.getElementById("checklistGraph")
                    .content.cloneNode(true);

                const svg = d3.select(graph).select("#plotArea");
                const xScale = d3.scaleTime()
                    .domain([project.dates.start(), project.dates.end()])
                    .range([ 75, 675 ]);
                svg.select("#xAxis")
                    .call(d3.axisBottom(xScale)
                        .ticks(14)
                        .tickFormat(d3.timeFormat("%d-%b")));
                const y = d3.scaleBand()
                    .domain(rowLabels)
                    .range([0, 75])
                    .padding(0.25);
                svg.select("#yAxis")
                    .call(d3.axisLeft(y))
                    .call(g => {
                        [...g.node().querySelectorAll("text")].forEach(d => {
                            var img = "img/";
                            switch(d.innerHTML) {
                                case "Development": img += "devsprint.svg"; break;
                                case "Testing": img += "qasprint.svg"; break;
                                case "Blackout": img += "blackout.svg"; break;
                                default: console.log(`Unknown type ${d.innerHTML}`);
                            };
                            var image = document.createElement("image");
                            image.setAttribute("href", img);
                            d.parentElement.appendChild(image);
                        });
                        g.selectAll("text").remove();
                        g.selectAll("line").remove();
                        g.select(".domain").remove();
                    });
                var x = d3.scaleTime()
                    .domain(d3.extent([project.dates.start(), project.dates.end()]))
                    .range([0, 600]);
                sprintTypes.forEach(function(type, i) {
                    svg.select("#plot")
                        .append("g")
                        .attr("data-type", rowLabels[i])
                        .attr("transform", "translate(0, " + (y(rowLabels[i])) + ")")
                        .selectAll("g")
                        .data(type.sprints)
                        .enter()
                        .append("rect")
                            .attr("x", d => x(d.start))
                            .attr("y", 0)
                            .attr("width", d => x(d.end) - x(d.start))
                            .attr("height", y.bandwidth()/1.5)
                            .attr("data-id", d => d.id)
                            .attr("data-start", d => d.start)
                            .attr("data-end", d => d.end);
                })
                return graph.querySelector("#graphDiv").outerHTML;
            },
            bargraph: function(params, data) {
                var height = params.height || 100, width = params.width || 250;
                var title = params.title;
                const labels = data.map(d => d.type);
                var graph = document.createElement("div");
                graph.style.float = "left";
                const svg = d3.select(graph).append("svg")
                    .attr("width", width + 40)
                    .attr("height", height + 125)
                    .append("g")
                    .attr("transform", "translate(20, 10)");
                svg.append("g")
                    .append("text")
                    .attr("x", 50)
                    .attr("y", 10)
                    .text(title);
                var g = svg.append("g")
                    .classed("plot", true);
                var x = d3.scaleBand()
                    .range([0, width])
                    .domain(labels)
                    .padding(0.5);
                g.append("g")
                    .classed("xaxis", true)
                    .attr("transform", "translate(0," + height + ")")
                    .call(d3.axisBottom(x));

                const maxCount = d3.max(data.map(d => d.count));
                var y = d3.scaleLinear()
                    .range([height, 0])
                    .domain([0, maxCount]);
                g.append("g")
                    .call(d3.axisLeft(y)
                        .tickFormat(d3.format("d"))
                        .ticks(maxCount > 4 ? 4 : maxCount));

               g.selectAll("bar")
                    .data(data)
                    .enter()
                        .append("rect")
                        .attr("x", d => x(d.type))
                        .attr("y", d => y(d.count))
                        .attr("width", x.bandwidth())
                        .attr("height", d => height - y(d.count))
                        .attr("data-type", d => d.type)
                        .attr("data-count", d => d.count);
                return graph.outerHTML;
            },
            stackbar: function(params, data) {
                var height = params.height || 100, width = params.width || 250;
                var title = params.title;
                const subgroups = Object.keys(data[0]).slice(1);
                const groups = data.map(d => d[Object.keys(data[0])[0]]);
                const stackedData = d3.stack()
                    .keys(subgroups)(data)
                var graph = document.createElement("div");
                graph.style.float = "left";
                const svg = d3.select(graph).append("svg")
                    .attr("width", width + 40)
                    .attr("height", height + 125)
                    .append("g")
                    .attr("transform", "translate(20, 10)");
                svg.append("g")
                    .append("text")
                    .attr("x", 50)
                    .attr("y", 10)
                    .text(title);
                var g = svg.append("g")
                    .classed("plot", true);
                const x = d3.scaleBand()
                    .domain(groups)
                    .range([0, width])
                    .padding([0.2])
                g.append("g")
                    .classed("xaxis", true)
                    .attr("transform", `translate(0, ${height})`)
                    .call(d3.axisBottom(x).tickSizeOuter(0));
                const ymax = Math.ceil(d3.max(data.map(d =>
                    subgroups.map(a => d[a]).reduce((a, b) => a + b))) / 2) * 2;
                const y = d3.scaleLinear()
                    .domain([0, ymax])
                    .range([ height, 0 ]);
                g.append("g")
                    .call(d3.axisLeft(y)
                        .tickFormat(d3.format("d"))
                        .ticks(4));
                const color = d3.scaleOrdinal()
                    .domain(subgroups)
                    .range(d3.schemeTableau10);
                g.append("g")
                    .classed("data", true)
                    .selectAll("g")
                    .data(stackedData)
                    .join("g")
                        .attr("fill", d => color(d.key))
                        .selectAll("rect")
                        .data(d =>
                         d)
                        .join("rect")
                        .attr("x", d => x(d.data[Object.keys(d.data)[0]]))
                        .attr("y", d => y(d[1]))
                        .attr("height", d => y(d[0]) - y(d[1]))
                        .attr("width",x.bandwidth())
                        .attr("data-count", d =>
                            d[1] - d[0])
                        .attr("data-type", d =>
                            d.data.key)

                return graph.outerHTML;
            }
        },
        init: function() {
            document.querySelector("#graphsScreen #sprint").addEventListener("click", this.sprintInitgraph);
            document.querySelector("#graphsScreen #project").addEventListener("click", this.projectInitgraph);
            document.querySelector("#graphsScreen #details").addEventListener("click", this.detailsInitgraph);
            document.querySelector("#graphs").setAttribute("data-Init", "graph.refresh");
        },
        refresh: () => document.querySelector("#graphsScreen .graphType-selected").click(),
        selectGraph: function(selected) {
            var previous = document.querySelector("#graphsScreen .graphType-selected");
            previous.classList.remove("graphType-selected");
            document.querySelector("#graphsScreen " + selected).classList.add("graphType-selected");
        },
        selectedMS: function() {
            var sprints = project.sprints.getDev();
            if (sprints.length == 0) return;
            var ms = sprints[0];
            if (document.querySelector("#selectMS").selectedOptions.length) {
                var selectedMS = document.querySelector("#selectMS").selectedOptions[0].value;
                ms = [...sprints].filter(m => m.id == selectedMS)[0];
            }
            var msSelect = document.querySelector("#selectMS");
            document.querySelector("#selectMS").innerHTML = "";
            sprints.forEach(m => {
                var data = project.sprints.get(m).data();
                var option = document.createElement("option");
                option.value = m.id;
                option.innerText = data.name;
                if (m.id == ms.id) m.selected = "true";
                msSelect.appendChild(option);
            });
            document.querySelector("#msChoice").style.display = "";
            return ms;
        },
        sprintInitgraph: function() {
            graph.selectGraph("#sprint");
            var ms = graph.selectedMS();
            if (!ms) return;
            var margin = {top: 20, right: 20, bottom: 30, left: 40};
            
            // Set up left and right screen halves
            var board = d3.select("#graph")
                .html("")
                .append("div");

            // Select MS dropdown
            board.select("#selectMS")
                .selectAll("sprints")
                .data(project.sprints.getDev())
                .enter()
                .append("option")
                .text(d => project.sprints.get(d).data().name)
                .attr("value", d => project.sprints.get(d).id);
            d3.select('#selectMS').property('value', ms.id);
            var leftGraph = board.append("div")
                .attr("id", "leftGraph");
            leftGraph
                .append("div")
                .attr("class", "help")
                .text("Sprint burndown");

            var rightGraph = board.append("div")
                .attr("id", "rightGraph");
            rightGraph
                .append("div")
                .attr("class", "help")
                .text("Sprint burndown");

            d3.select("#selectMS").on("change", function(d) {
                var ms = d3.select(this).property("value");
                document.getElementById("leftGraph").textContent = '';
                document.getElementById("rightGraph").textContent = '';
                drawGraphs();
            });

            function drawGraphs() {
                var msid = d3.select("#selectMS").property("value");
                var ms = document.querySelector("#" + msid);
                if (!ms.classList.contains("development")) return;
                var capacity = project.sprints.get(ms).capacity();
                var tasks =  project.sprints.get(ms).tasks();
                var total = project.sprints.get(ms).burndown();
                var target = project.sprints.get(ms).targetBurndown();
                var width = (screen.width / 2) - 50;
                var height = screen.height - 450;

                // Sum of effort in all reqts on day 1
                var burndown = [
                    {"week":"Start","total":36,"target":39.6},
                    {"week":"Jan 16","total":36,"target":39.6},
                    {"week":"Jan 18","total":24,"target":30.800000000000004},
                    {"week":"Jan 20","total":12,"target":22},
                    {"week":"Jan 23","total":5,"target":17.599999999999998},
                    {"week":"Jan 25","total":1,"target":8.799999999999999},
                    {"week":"Jan 27","total":0,"target":0}
                ];

                var maxremainder = burndown.length == 0 ? 0
                    : burndown.map(b => b.total).reduce((a, b) => a > b ? a : b);
                var ymax = Math.max(capacity, maxremainder);

                var xScale = d3.scaleBand()
                    .rangeRound([0, width])
                    .padding(0.2)
                    .domain(burndown.map(b => b.week));
                var yScale = d3.scaleLinear()
                    .rangeRound([height, 0])
                    .domain([0, ymax + 10]);

                var svg = leftGraph.append("svg");
                // Tooltip
                var div = leftGraph.append("div")
                    .attr("class", "tooltip")
                    .style("opacity", 0);
                // Chart title
                svg.append("g")
                    .append("text")
                    .attr("x", (width / 2))
                    .attr("y", margin.top)
                    .text("Sprint Burndown");
                var g = svg.append("g");
                // height of axis-x from bottom of graph
                g.append("g")
                    .attr("class", "axis axis--x")
                    .call(d3.axisBottom(xScale));
                // axis-y
                g.append("g")
                    .attr("class", "axis axis--y")
                    .call(d3.axisLeft(yScale));
                var bar = g.selectAll("rect")
                    .data(burndown)
                    .enter()
                    .append("g")
                    .attr("class", "plot");

                // Bars
                bar.append("rect")
                    .attr("x", d => xScale(d.week))
                    .attr("y", d => yScale(d.total))
                    .attr("width", xScale.bandwidth())
                    .attr("height", d => height - yScale(d.total))
                    .attr("class", "plainbar bar1")
                    .on("click", function(event, d) {
                        document.querySelector("#schedule").click();
                        msId = document.querySelector("#selectMS").value;
                        project.ui.sprint.edit(document.querySelector("#scheduleEditor div#" + msId + ".sprint"));
                    });
                // labels on the bar chart
                bar.append("text")
                    .attr("dy", "1.3em")
                    .attr("x", d => xScale(d.week) + xScale.bandwidth() / 2)
                    .attr("y", d => yScale(d.total) - 20)
                    .text(d => d.total > 0 ? d.total : '');
                // line charts
                var stretch = burndown.length == 0 ? 0
                    : 0.1 * burndown[0].target;
                var greenline = d3.line()
                    .x((d, i) => xScale(d.week) + xScale.bandwidth() / 2)
                    .y(d => yScale(d.target));
                bar.append("path")
                    .attr("class", "greenline")
                    .attr("d", greenline(burndown));
                bar.append("circle")
                    .attr("class", "greendot")
                    .attr("cx", (d, i) => xScale(d.week) + xScale.bandwidth() / 2)
                    .attr("cy", d => yScale(d.target))
                    .attr("r", 3)
                    .on("mouseover", function(event, d) {
                        div.transition().duration(200).style("opacity", .9);
                        div.html("Week: " + d.week + "<br/>Capacity: " + Math.floor(d.target))
                            .style("left", (event.pageX + 10) + "px")
                            .style("top", (event.pageY - 10) + "px");
                    })
                    .on("mouseout", function(d) {
                        div.transition().duration(500).style("opacity", 0);
                    });
                bar.append("text")
                    .attr("dx", "1.3em")
                    .attr("dy", "-0.3em")
                    .attr("x", (d, i) => xScale(d.week) + xScale.bandwidth() / 2)
                    .attr("y", d => yScale(d.target))
                    .text(d => d.target > 0 ? d.target.toFixed(2) : '');

                var redline = d3.line()
                    .x((d, i) => xScale(d.week) + xScale.bandwidth() / 2)
                    .y(d => yScale(d.target + stretch));
                bar.append("path")
                    .attr("class", "redline")
                    .attr("d", redline(burndown));
                bar.append("circle")
                    .attr("class", "reddot")
                    .attr("cx", (d, i) => xScale(d.week) + xScale.bandwidth() / 2)
                    .attr("cy", d => yScale(d.target + stretch))
                    .attr("r", 3)
                    .on("mouseover", function(event, d) {
                        div.transition().duration(200).style("opacity", .9);
                        div.html("Week: " + d.week + "<br/>Stretch: " + Math.floor(d.target + stretch))
                            .style("left", (event.pageX) + "px")
                            .style("top", (event.pageY - 28) + "px");
                    })
                    .on("mouseout", function(d) {
                        div.transition().duration(500).style("opacity", 0);
                    });
                bar.append("text")
                    .attr("dx", "1.3em")
                    .attr("dy", "-0.3em")
                    .attr("x", (d, i) => xScale(d.week) + xScale.bandwidth() / 2)
                    .attr("y", d => yScale(d.target + stretch))
                    .text(d => (d.target + stretch).toFixed(2));

        //--------------------------------------------------------------------------------------------
                var sprint = project.sprints.get(ms);
                var capacity = sprint.capacityConfig();
                var workingDays = sprint.workingDays().length;
                var scope = project.sprints.get(ms).tasks();
                var today = new Date();
                var data = [
                    {"id":"team_1680024023532","Developer":"Amar","Planned availability":"3.00","Assigned work":"8.00","Remaining days":"2.60","Remaining work":"8.00"},
                    {"id":"team_1680024023539","Developer":"Asha","Planned availability":"7.00","Assigned work":"8.00","Remaining days":"6.20","Remaining work":"8.00"},
                    {"id":"team_1680024023541","Developer":"Biren","Planned availability":"7.00","Assigned work":"3.00","Remaining days":"6.20","Remaining work":"3.00"},
                    {"id":"team_1680024023544","Developer":"Charles","Planned availability":"7.00","Assigned work":"3.00","Remaining days":"6.20","Remaining work":"3.00"},
                    {"id":"team_1680024023546","Developer":"Dinesh","Planned availability":"7.00","Assigned work":"3.00","Remaining days":"6.20","Remaining work":"3.00"},
                    {"id":"team_1680024023548","Developer":"Eshan","Planned availability":"7.00","Assigned work":"5.00","Remaining days":"6.20","Remaining work":"5.00"}
                ];
                data.columns = data.length == 0 ? [ "Not set" ]
                    : Object.keys(data[0]);
                data.y = "Days";

                keys = data.columns.slice(2);
                groupKey = data.columns[0];

                xAxis = g => g
                    .attr("transform", `translate(0,${height})`)
                    .attr("id", "developerid")
                    .call(d3.axisBottom(x0).tickSizeOuter(0));
                yAxis = g => g
                    .attr("transform", `translate(${margin.left},0)`)
                    .call(d3.axisLeft(y).ticks(null, "s"))
                    .call(g => g.select(".tick:last-of-type text").clone()
                        .attr("x", 3)
                        .attr("text-anchor", "start")
                        .attr("font-weight", "bold")
                        .text(data.y));

                color = d3.scaleOrdinal()
                    .range(["#6b486b", "#a05d56", "#d0743c", "#ff8c00", "#98abc5", "#8a89a6", "#7b6888"]);

                x0 = d3.scaleBand()
                    .domain(data.map(d => d[groupKey]))
                    .rangeRound([margin.left, width - margin.right])
                    .paddingInner(0.1);

                x1 = d3.scaleBand()
                    .domain(keys)
                    .rangeRound([0, x0.bandwidth()])
                    .padding(0.05);

                y = d3.scaleLinear()
                    .rangeRound([height, 0])
                    .domain([0, d3.max(data, d => d3.max(keys, key => parseInt(d[key]))) + 2])
                    .nice();

                legend = svg => {
                    const g = svg
                        .selectAll("g")
                        .data(color.domain().slice().reverse())
                        .join("g")
                        .attr("transform", (d, i) => `translate(0, ${i * 20})`);

                    g.append("rect")
                        .attr("x", -19)
                        .attr("width", 19)
                        .attr("height", 19)
                        .attr("fill", color);

                    g.append("text")
                        .attr("x", -24)
                        .attr("y", 9.5)
                        .attr("dy", "0.35em")
                        .text(d => d);
                }

                svg = rightGraph.append("svg");
                div = rightGraph.append("div")
                    .attr("class", "tooltip devburndown")
                    .style("opacity", 0);
                // Chart title
                svg.append("g")
                    .append("text")
                    .attr("x", (width / 2))
                    .attr("y", margin.top)
                    .text("Developer Load");
                g = svg.append("g"); // Plot area boundary

                bar = g.selectAll("rect")
                    .data(data)
                    .enter()
                    .append("g")
                    .attr("class", "plot")
                    .attr("transform", d => `translate(${x0(d[groupKey])},0)`)

                // Add bars
                bar.selectAll("rect")
                    .data(d => keys.map(key => ({
                        key,
                        value: d[key]
                    })))
                    .enter()
                    .append("rect")
                    .attr("x", d => x1(d.key))
                    .attr("y", d => y(d.value))
                    .attr("width", x1.bandwidth())
                    .attr("height", d => y(0) - y(d.value))
                    .attr("fill", d => color(d.key))
                    .on("mouseover", function(event, d) {
                        div.transition().duration(200).style("opacity", .9);
                        div.html(d.key + ": " + d.value + " days")
                            .style("left", (event.pageX) + "px")
                            .style("top", (event.pageY - 32) + "px");
                    })
                    .on("mousemove", function(event, d) {
                        div.style("left", (event.pageX) + "px");
                        div.style("top", (event.pageY - 32) + "px");
                    })
                    .on("mouseout", function(d) {
                        div.transition().duration(500).style("opacity", 0);
                    })
                    .on("click", function(event, d) {
                        document.querySelector("#schedule").click();
                        msId = document.querySelector("#selectMS").value;
                        project.ui.sprint.edit(document.querySelector("#scheduleEditor div#" + msId + ".sprint"));
                    })

                bar.selectAll("text")
                    .data(d => keys.map(key => ({
                        key,
                        value: d[key]
                    })))
                    .enter()
                    .append("text")
                    .attr("dx", "1.4em")
                    .attr("dy", "-0.3em")
                    .attr("x", d => x1(d.key))
                    .attr("y", d => y(d.value))
                    .text(d => d.value);

                g.append("g")
                    .call(xAxis);

                document.querySelectorAll("#developerid text").forEach(developer => {
                    developer.innerHTML = project.team.member(developer.innerHTML).data().name;
                });

                g.append("g")
                    .call(yAxis);

                g.append("g")
                    .attr("class", "legend")
                    .call(legend);
            }
            drawGraphs();
        },
        projectInitgraph: function() {
            document.querySelector("#msChoice").style.display = "none";
            graph.selectGraph("#project");
            var ms = project.sprints.getAll()[0];
            if (!ms) return;

            var margin = {top: 20, right: 20, bottom: 50, left: 40},
                width = screen.width - 50,
                height = screen.height - 400;
            
            var board = d3.select("#graph")
                .html("")
                .append("div")
                .attr("id", "project")
                .attr("class", "schedule");
            board.append("div")
                .attr("class", "help")
                .text("Burndown across project")


            var svg = board.append("svg");

            // Chart title
            svg.append("g")
                .append("text")
                .attr("x", "50%")
                .attr("y", margin.top)
                .text("Project Burndown");

            var targetBurndown = [
                {"date":"dt_20230116","effort":277.2}, {"date":"dt_20230118","effort":268.4}, {"date":"dt_20230120","effort":259.6},
                {"date":"dt_20230123","effort":255.2}, {"date":"dt_20230125","effort":246.4}, {"date":"dt_20230127","effort":237.6},
                {"date":"dt_20230130","effort":237.6}, {"date":"dt_20230201","effort":228.8}, {"date":"dt_20230203","effort":220},
                {"date":"dt_20230206","effort":215.6}, {"date":"dt_20230208","effort":206.8}, {"date":"dt_20230210","effort":198},
                {"date":"dt_20230213","effort":198}, {"date":"dt_20230215","effort":189.20000000000002}, {"date":"dt_20230217","effort":180.4},
                {"date":"dt_20230220","effort":176}, {"date":"dt_20230222","effort":167.20000000000002}, {"date":"dt_20230224","effort":158.4},
                {"date":"dt_20230227","effort":158.4}, {"date":"dt_20230301","effort":149.60000000000002}, {"date":"dt_20230303","effort":140.8},
                {"date":"dt_20230306","effort":136.4}, {"date":"dt_20230308","effort":127.60000000000001}, {"date":"dt_20230310","effort":118.80000000000001},
                {"date":"dt_20230313","effort":118.80000000000001}, {"date":"dt_20230315","effort":110}, {"date":"dt_20230317","effort":101.2},
                {"date":"dt_20230320","effort":96.8}, {"date":"dt_20230322","effort":88}, {"date":"dt_20230324","effort":79.2},
                {"date":"dt_20230327","effort":79.2}, {"date":"dt_20230329","effort":70.4}, {"date":"dt_20230331","effort":61.6},
                {"date":"dt_20230403","effort":57.2}, {"date":"dt_20230405","effort":48.4}, {"date":"dt_20230407","effort":39.6},
                {"date":"dt_20230410","effort":39.6}, {"date":"dt_20230412","effort":30.800000000000004}, {"date":"dt_20230414","effort":22},
                {"date":"dt_20230417","effort":17.599999999999998}, {"date":"dt_20230419","effort":8.799999999999999}, {"date":"dt_20230421","effort":0}
            ];
            var today = (new Date()).toISOString().slice(0, 10).replace(/-/g, "");
            var trackingDates = [
                '2023-01-16', '2023-01-18', '2023-01-20', '2023-01-23', '2023-01-25', '2023-01-27', '2023-01-30',
                '2023-02-01', '2023-02-03', '2023-02-06', '2023-02-08', '2023-02-10', '2023-02-13', '2023-02-15',
                '2023-02-17', '2023-02-20', '2023-02-22', '2023-02-24', '2023-02-27', '2023-03-01', '2023-03-03',
                '2023-03-06', '2023-03-08', '2023-03-10', '2023-03-13', '2023-03-15', '2023-03-17', '2023-03-20',
                '2023-03-22', '2023-03-24', '2023-03-27', '2023-03-29', '2023-03-31', '2023-04-03', '2023-04-05',
                '2023-04-07', '2023-04-10', '2023-04-12', '2023-04-14', '2023-04-17', '2023-04-19', '2023-04-21'
            ];
            var burndown = [
                {"date":"Start","effort":234,"target":277.2},
                {"date":"Jan 16","effort":231,"target":277.2},
                {"date":"Jan 18","effort":219,"target":268.4},
                {"date":"Jan 20","effort":207,"target":259.6},
                {"date":"Jan 23","effort":200,"target":255.2},
                {"date":"Jan 25","effort":196,"target":246.4},
                {"date":"Jan 27","effort":195,"target":237.6},
                {"date":"Jan 30","effort":202,"target":237.6},
                {"date":"Feb 01","effort":190,"target":228.8},
                {"date":"Feb 03","effort":177,"target":220},
                {"date":"Feb 06","effort":170,"target":215.6},
                {"date":"Feb 08","effort":161,"target":206.8},
                {"date":"Feb 10","effort":158,"target":198},
                {"date":"Feb 13","effort":159,"target":198},
                {"date":"Feb 15","effort":146,"target":189.20000000000002},
                {"date":"Feb 17","effort":134,"target":180.4},
                {"date":"Feb 20","effort":128,"target":176},
                {"date":"Feb 22","effort":125,"target":167.20000000000002},
                {"date":"Feb 24","effort":123,"target":158.4},
                {"date":"Feb 27","effort":117,"target":158.4},
                {"date":"Mar 01","effort":105,"target":149.60000000000002},
                {"date":"Mar 03","effort":95,"target":140.8},
                {"date":"Mar 06","effort":92,"target":136.4},
                {"date":"Mar 08","effort":88,"target":127.60000000000001},
                {"date":"Mar 10","effort":86,"target":118.80000000000001},
                {"date":"Mar 13","effort":86,"target":118.80000000000001},
                {"date":"Mar 15","effort":83,"target":110},
                {"date":"Mar 17","effort":80,"target":101.2},
                {"date":"Mar 20","effort":76,"target":96.8},
                {"date":"Mar 22","effort":70,"target":88},
                {"date":"Mar 24","effort":67,"target":79.2},
                {"date":"Mar 27","effort":66,"target":79.2},
                {"date":"Mar 29","effort":0,"target":70.4},
                {"date":"Mar 31","effort":0,"target":61.6},
                {"date":"Apr 03","effort":0,"target":57.2},
                {"date":"Apr 05","effort":0,"target":48.4},
                {"date":"Apr 07","effort":0,"target":39.6},
                {"date":"Apr 10","effort":0,"target":39.6},
                {"date":"Apr 12","effort":0,"target":30.800000000000004},
                {"date":"Apr 14","effort":0,"target":22},
                {"date":"Apr 17","effort":0,"target":17.599999999999998},
                {"date":"Apr 19","effort":0,"target":8.799999999999999},
                {"date":"Apr 21","effort":0,"target":0}
            ];
            
            var ymax = burndown.length == 0 ? { effort: 0, target: 0 } :
                burndown.reduce((a,b) => Math.max(a.effort, a.target) > Math.max(b.effort, b.target) ? a : b);
            ymax = ymax.effort > ymax.target ? ymax.effort : ymax.target;
            
            var xScale = d3.scaleBand()
                .rangeRound([0, width - 50])
                .padding(0.2)
                .domain(burndown.map(b => b.date));
            var yScale = d3.scaleLinear()
                .rangeRound([height, 0])
                .domain([0, ymax + 10]);
            
            // Tooltip
            var div = board.append("div")
                .attr("class", "tooltip")
                .style("opacity", 0);
            
            var g = svg.append("g");
            // height of axis-x from bottom of graph
            g.append("g")
                .attr("class", "axis axis--x")
                .call(d3.axisBottom(xScale))
                .selectAll("text")
                .attr("dx", "-1.0em")
                .attr("dy", "-.5em");
            // axis-y
            g.append("g")
                .attr("class", "axis axis--y")
                .call(d3.axisLeft(yScale));
            
            var bar = g.selectAll("rect")
                .data(burndown)
                .enter().append("g");

            // Bars
            bar.append("rect")
                .attr("x", function(d) { return xScale(d.date); })
                .attr("y", function(d) { return yScale(d.effort); })
                .attr("width", xScale.bandwidth())
                .attr("height", function(d) { return height - yScale(d.effort); })
                .attr("class", "plainbar bar1")
                .on("mouseover", function(event,d) {
                    div.transition().duration(200).style("opacity", .9);
                    div.html("Week: " + d.date + "<br/>Capacity: " + Math.floor(d.target))
                        .style("left", (event.pageX) + "px")
                        .style("top", (event.pageY - 50) + "px");
                })
                .on("mousemove", function(d) {
                    div.style("left", (event.pageX) + "px");
                    div.style("top", (event.pageY - 50) + "px");
                })
                .on("mouseout", function(d) {
                    div.transition().duration(500).style("opacity", 0);
                })
                .on("click", function (event) {
                    document.querySelector("#schedule").click();
                    msId = document.querySelector("#selectMS").value;
                    project.ui.schedule.edit();
                });
            // labels on top of the bar
            bar.append("text")
                .attr("dy", "1.3em")
                .attr("x", function(d) { return xScale(d.date) + xScale.bandwidth() / 2; })
                .attr("y", function(d) { return yScale(d.effort) - 17; })
                .attr("text-anchor", "middle")
                .attr("font-family", "sans-serif")
                .attr("font-size", "11px")
                .attr("fill", "black")
                .text(function(d) { return d.effort > 0 ? d.effort : ''; });
            
            // Ideal burndown line
            var greenline = d3.line()
                .x(function(d, i) { return xScale(d.date) + xScale.bandwidth() / 2; })
                .y(function(d) { return yScale(d.target); });
            bar.append("path")
                .attr("class", "greenline")
                .attr("d", greenline(burndown));
            bar.append("circle")
                .attr("class", "greendot")
                .attr("cx", function(d, i) { return xScale(d.date) + xScale.bandwidth() / 2; })
                .attr("cy", function(d) { return yScale(d.target); })
                .attr("r", 3);
            bar.append("text")
                .attr("dx", "1.3em")
                .attr("dy", "-0.4em")
                .attr("x", function(d, i) { return xScale(d.date) + xScale.bandwidth() / 2; })
                .attr("y", function(d) { return yScale(d.target); })
                .attr("text-anchor", "middle")
                .attr("font-family", "sans-serif")
                .attr("font-size", "11px")
                .attr("fill", "black")
                .text(function(d) { return d.target > 0 ? Math.floor(d.target) : ''; });
        },
        detailsInitgraph: function() {
            graph.selectGraph("#details");
            var ms = graph.selectedMS();
            if (!ms) return;
            var margin = {top: 20, right: 20, bottom: 30, left: 40},
                width = (screen.width / 2) - 50,
                height = screen.height - 450;
            
            // Set up left and right screen halves
            var board = d3.select("#graph")
                .html("")
                .append("div");

            d3.select('#selectMS').property('value', ms.id);
            var leftGraph = board.append("div")
                .attr("id", "leftGraph");
            var rightGraph = board.append("div")
                .attr("id", "rightGraph");
            d3.select("#selectMS").on("change", function(d) {
                var ms = d3.select(this).property("value");
                document.getElementById("leftGraph").textContent = '';
                document.getElementById("rightGraph").textContent = '';
                drawGraphs(project, ms);
            });
            
            var xScale, yScale, svg, div, g;
            
            function drawGraphs() {
                var sprints = project.sprints.getDev();
                if (sprints.length == 0) return;
                var today = (new Date()).toISOString().slice(0, 10).replace(/-/g, "");
                var ms = document.querySelector("#selectMS") ?
                    document.querySelector("#selectMS").selectedOptions[0].value
                    : sprints[0].id;
                var sprint = [...sprints].filter(m => m.id == ms)[0];
                var taskData = project.sprints.get(sprint).tasks().map(t => {
                    return {
                        name: t.id,
                        burndown: project.tasks.get(t.id).msBurndown(sprint),
                        estimate: project.tasks.get(t.id).estimate()
                    }
                });
                var trackingDates = project.sprints.get(sprint).trackingDates();
                var fdata = [
                    {"group":"Start","task_1680020909604":13,"task_1680020909633":3,"task_1680020909660":3,"task_1680020909687":8,"task_1680020909716":3,"task_1680020909743":3,"task_1680020909777":3,"task_1680020909814":3},
                    {"group":"Jan 16","task_1680020909604":5,"task_1680020909633":5,"task_1680020909660":6,"task_1680020909687":5,"task_1680020909716":4,"task_1680020909743":3,"task_1680020909777":3,"task_1680020909814":5},
                    {"group":"Jan 18","task_1680020909604":3,"task_1680020909633":3,"task_1680020909660":4,"task_1680020909687":3,"task_1680020909716":2,"task_1680020909743":3,"task_1680020909777":3,"task_1680020909814":3},
                    {"group":"Jan 20","task_1680020909604":1,"task_1680020909633":1,"task_1680020909660":2,"task_1680020909687":1,"task_1680020909716":0,"task_1680020909743":3,"task_1680020909777":3,"task_1680020909814":1},
                    {"group":"Jan 23","task_1680020909604":0,"task_1680020909633":0,"task_1680020909660":1,"task_1680020909687":0,"task_1680020909716":0,"task_1680020909743":1,"task_1680020909777":3,"task_1680020909814":0},
                    {"group":"Jan 25","task_1680020909604":0,"task_1680020909633":0,"task_1680020909660":0,"task_1680020909687":0,"task_1680020909716":0,"task_1680020909743":0,"task_1680020909777":1,"task_1680020909814":0},
                    {"group":"Jan 27","task_1680020909604":0,"task_1680020909633":0,"task_1680020909660":0,"task_1680020909687":0,"task_1680020909716":0,"task_1680020909743":0,"task_1680020909777":0,"task_1680020909814":0}
                ];
                drawPaper(project, sprint, leftGraph, "Feature Burndown", fdata, project.tasks.get);

                var trackingDates = project.sprints.get(sprint).trackingDates();
                var startDate = project.sprints.get(sprint).startDate();
                if (startDate) trackingDates.unshift(startDate);
                var msBurndown = project.team.developers.map(d => {
                    var taskData = project.team.member(d).getTasksForMS(sprint.id)
                        .map(t => project.tasks.get(t.id).msBurndown(sprint));
                    var developerBurndown = trackingDates.map(d => {
                        var dt = "dt_" + (d.toISOString().slice(0,10).replace(/-/g,""));
                        var taskList = taskData.map(r => r.filter(s => s.date == dt)[0].effort);
                        var effort = taskList.length > 0 ? taskList.reduce((a, b) => a + b) : 0;
                        return { date: dt, effort: effort }
                    });
                    return {
                        developer: d,
                        assigned: developerBurndown
                    }
                });
                taskData = project.sprints.get(sprint).unassignedDeveloper()
                    .map(t => project.tasks.get(t.id).msBurndown(sprint));
                taskBurndown = trackingDates.map(d => {
                    var dt = "dt_" + (d.toISOString().slice(0,10).replace(/-/g,""));
                    var taskList = taskData.map(r => r.filter(s => s.date == dt)[0].effort);
                    var effort = taskList.length > 0 ? taskList.reduce((a, b) => a + b) : 0;
                    return { date: dt, effort: effort }
                });
                msBurndown.push({ developer: "Unassigned", assigned: taskBurndown });
                var udata = [
                    {"group":"Jan 16","team_1680020909417":10,"team_1680020909420":5,"team_1680020909421":6,"team_1680020909424":5,"team_1680020909425":4,"team_1680020909426":3,"Unassigned":0},
                    {"group":"Jan 16","team_1680020909417":10,"team_1680020909420":5,"team_1680020909421":6,"team_1680020909424":5,"team_1680020909425":4,"team_1680020909426":3,"Unassigned":0},
                    {"group":"Jan 18","team_1680020909417":6,"team_1680020909420":3,"team_1680020909421":4,"team_1680020909424":3,"team_1680020909425":2,"team_1680020909426":3,"Unassigned":0},
                    {"group":"Jan 20","team_1680020909417":2,"team_1680020909420":1,"team_1680020909421":2,"team_1680020909424":1,"team_1680020909425":0,"team_1680020909426":3,"Unassigned":0},
                    {"group":"Jan 23","team_1680020909417":0,"team_1680020909420":0,"team_1680020909421":1,"team_1680020909424":0,"team_1680020909425":0,"team_1680020909426":1,"Unassigned":0},
                    {"group":"Jan 25","team_1680020909417":0,"team_1680020909420":0,"team_1680020909421":0,"team_1680020909424":0,"team_1680020909425":0,"team_1680020909426":0,"Unassigned":0},
                    {"group":"Jan 27","team_1680020909417":0,"team_1680020909420":0,"team_1680020909421":0,"team_1680020909424":0,"team_1680020909425":0,"team_1680020909426":0,"Unassigned":0}
                ];;
                drawPaper(project, sprint, rightGraph, "Developer Burndown", udata, project.team.member);
            }
            
            function drawPaper(project, ms, paper, title, data, labelFn) {
                var capacity = project.sprints.get(ms).capacity();
                var ymax = project.sprints.get(ms).burndown().map(b => b.effort)
                    .concat(capacity).reduce((a, b) => a > b ?  a : b);
                var workingweeks = project.sprints.get(ms).trackingDates();
                
                var groups = data.map(d => d.group);
                var subgroups = data.length == 0 ? [] :
                    Object.keys(data[0]).filter(k => k != "group");

                var color = d3.scaleOrdinal()
                    .domain(subgroups)
                    .range(['#e41a1c','#377eb8','#4daf4a']);

                xScale = d3.scaleBand()
                    .rangeRound([0, width])
                    .padding(0.2)
                    .domain(groups);
                yScale = d3.scaleLinear()
                    .rangeRound([height, 0])
                    .domain([0, ymax * 1.2]);

                paper
                    .append("div")
                    .attr("class", "help")
                    .text("Detailed burndown: " + title);

                svg = paper.append("svg");
                // Tooltip
                tooltip = paper.append("div")
                    .attr("class", "tooltip")
                    .style("opacity", 0);
                // Chart title
                svg.append("g")
                    .append("text")
                    .attr("x", (width / 2))
                    .attr("y", margin.top)
                    .text(title);
                g = svg.append("g");
                // height of axis-x from bottom of graph
                g.append("g")
                    .attr("class", "axis axis--x")
                    .call(d3.axisBottom(xScale));
                // axis-y
                g.append("g")
                    .attr("class", "axis axis--y")
                    .call(d3.axisLeft(yScale));
                // Legend
                var legend = g.append("g")
                    .attr("class", "legend")
                    .selectAll("g")
                    .data(color.domain().slice())
                    .join("g")
                    .attr("transform", (d, i) => {
                        return `translate(0,${i * 20})`;
                    });
                    
                legend.append("rect")
                    .attr("x", -19)
                    .attr("width", 19)
                    .attr("height", 19)
                    .attr("fill", color);

                legend.append("text")
                    .attr("x", -24)
                    .attr("y", 9.5)
                    .attr("dy", "0.35em")
                    .text(d => labelFn(d).data().name ?
                        labelFn(d).data().name.length > 20 ?
                            labelFn(d).data().name.slice(0, 20) + "..."
                            : labelFn(d).data().name
                        : "unassigned");
                
                var stackedData = d3.stack()
                    .keys(subgroups)
                    (data)

                // Show the bars
                var bar = g.append("g")
                    .selectAll("g")
                    // Enter in the stack data = loop key per key = group per group
                    .data(stackedData)
                    .enter()
                        .append("g")
                        .attr("fill", d => color(d.key))
                    
                var bar_enter = bar.selectAll("rect")
                    .data(d => d)
                    .enter()
                        .append("rect")
                        .attr("x", d => xScale(d.data.group))
                        .attr("y", d => yScale(d[1]))
                        .attr("height", d => yScale(d[0]) - yScale(d[1]))
                        .attr("width",xScale.bandwidth())
                        .on("mouseover", function(event, d) {
                            var key = d3.select(this.parentNode).datum().key;
                            var label = "Unassigned";
                            if (labelFn(key).data().name) label = labelFn(key).data().name;
                            var remaining = d.data[key];
                            tooltip.transition().duration(200).style("opacity", .9);
                            var tip = "<b>" + title.split(" ")[0] + ":</b> "  + label + "<br><b>Remaining:</b> " + remaining + " days";
                            tooltip.html(tip)
                            .style("left", (event.pageX) + "px")
                            .style("top", (event.pageY - 8) + "px");
                        })
                        .on("mousemove", function(d) {
                            tooltip.style("left", (event.pageX) + "px");
                            tooltip.style("top", (event.pageY - 50) + "px");
                        })
                        .on("mouseout", function(d) {
                            tooltip.transition().duration(500).style("opacity", 0);
                        })
                        .on("click", function(d) {
                            document.querySelector("#schedule").click();
                            msId = document.querySelector("#selectMS").value;
                            project.ui.sprint.edit(document.querySelector("#scheduleEditor div#" + msId + ".sprint"));
                        })
            }
            drawGraphs(project, ms);
        }
    };
    var form = {
        edit: function (event) {
            var item = event.target.closest(".item");
            var id = item.id;
            var data = item.querySelector("#data");
            var itemClass = id.split('_')[0];
            this["ui"] = document.querySelector("#" + itemClass + "Form");
            callFunction("initForm_" + itemClass, [this.ui, id]);
            var data = getJSONData(item);
            Object.keys(data).filter(d => d != "").forEach(feildname => {
                var input = this.ui.querySelector("input#" + feildname);
                if (!input) {
                    console.log("Warning: node input#" + feildname, "not found");
                    return;
                }
                if (["text", "textarea", "date", "week"].filter(t => t == input.type).length)
                    input.value = data[feildname];
                if (input.type == "color")
                    input.value = rgbCallToHex(data[feildname]);
                if (input.type == "radio")
                    if (data[feildname])
                        input.checked = true;
                    else
                        input.checked = false;
            });
            this.ui.style.display = 'block';
            this.ui.querySelector("input").focus();
            var burnEditor = this.ui.querySelector("#editBurndown");
            if (burnEditor) burnEditor.onclick = function (e) {
                this.closest(".container").querySelector("#yes").click();
                project.burndown.edit(event);
            }
            this.ui.querySelector('#yes').onclick = function (event) {
                ui = this.closest(".modal");
                document.querySelectorAll("#" + id).forEach(i => {
                    form.saveData(i, ui);
                    callFunction("onedit_" + itemClass, i);
                });
                form.clearData(ui);
            };
            this.ui.querySelector('#no').onclick = function (event) {
                this.closest(".modal").style.display = 'none';
            };
        },
        clearData: function (ui) {
            ui.querySelectorAll("input").forEach(f => {
                if (f.type == "text" || f.type == "date" || f.type == "week")
                    f.value = '';
            });
            ui.querySelectorAll("textarea").forEach(t => t.value = '');
        },
        saveData: function (item, form) {
            returnData = {};
            var data = getJSONData(item);
            Object.keys(data).forEach(f => returnData[f] = data[f]);
            form.querySelectorAll("input").forEach(f => {
                var value;
                if (f.type == "radio") {
                    if (f.checked) returnData[f.id] = true; else delete returnData[f.id];
                }
                if ([ "text", "date", "week", "color" ].filter(t => f.type == t).length)  {
                    returnData[f.id] = f.value;
                }
            });
            form.querySelectorAll("textarea").forEach(t => returnData[t.id] = t.value);
            if (data = item.querySelector("#data")) data.innerText = JSON.stringify(returnData);
            if (returnData.name && returnData.name.length && item.querySelector(".itemName"))
                item.querySelector(".itemName").innerText = returnData.name;
            form.style.display = 'none';
        },
        initData: function(formSelector, params) {
            var data = params.querySelector("#data");
            var form = document.querySelector(formSelector);
            var returnData = {};
            form.querySelectorAll("input").forEach(f => {
                returnData[f.id] = "";
                if (f.type != "color") f.value = "";
            });
            returnData["name"] = params.querySelector(".itemName").innerText;
            returnData[defaults.priority] = true;
            returnData[defaults.size] = true;
            data.innerText = JSON.stringify(returnData);
            params.querySelector(".itemName").innerText = returnData.name;
        }
    }

    document.querySelector("body").onload = function() {
        document.querySelector(".topmenu").classList.add("topmenu-selected");
        document.querySelectorAll(".topmenu").forEach(screen => {
            screen.addEventListener("click", e => {
                var selected = document.querySelector(".topmenu-selected");
                selected.classList.remove("topmenu-selected");
                document.querySelector("#" + selected.id + "Screen").style.display = "none";
                var target = e.target.closest(".topmenu");
                target.classList.add("topmenu-selected");
                document.querySelector("#" + target.id + "Screen").style.display = "";
                var initFunction = target.getAttribute("data-init");
                if (!initFunction) initFunction = target.id + "Init";
                callFunction(initFunction);
            })
        });
        document.querySelector("#loadfile").addEventListener("click", project.file.open);
        document.querySelector("#savefile").addEventListener("click", project.file.save);
        graph.init();
        // Defaults
        d = new Date();
        d.setDate(d.getDate() + ((7 - d.getDay()) % 7 + 1) % 7); // Day of week as Monday
        document.querySelectorAll("#backlogScreen #views img").forEach(img => {
            img.addEventListener("click", (event) => {
                event.target.parentNode.querySelectorAll("img")
                    .forEach(i => i.classList.remove("selected"));
                event.target.classList.add("selected");
                event.target.closest("#backlogDiv").querySelectorAll(".backlog")
                    .forEach(i => i.classList.remove("selected"));
                const tab = event.target.dataset.tab;
                event.target.closest("#backlogDiv").querySelector(`#${tab}`).classList.add("selected");
                document.querySelectorAll("[data-dropzone]").forEach(d => d.style.display = d.dataset.dropzone == tab ? "" : "none");
            });
        });
        document.querySelector("#startDate").value = d.toISOString().split('T')[0];
        document.querySelectorAll("input.default").forEach(d => {
            d.value = eval(d.getAttribute("data-path"));
        });
        document.querySelector("#sizeSettingsForm #yes").click();
        document.querySelectorAll("div#estimate").forEach(d => {
            var estimate = document.getElementById("estimateTemplate");
            d.appendChild(estimate.content.cloneNode(true));
        });
        document.querySelectorAll(".modal div#priorities").forEach(d => {
            var priorities = document.getElementById("priorityTemplate");
            d.appendChild(priorities.content.cloneNode(true));
        });
        document.querySelectorAll("#requirementsForm #priorities").forEach(n => {
            const priorities = document.querySelector("#backlog #priorities");
            n.querySelectorAll("input").forEach(d => {
                var priority = document.createElement("input");
                priority.id = d.id;
                priority.type = "checkbox";
                priority.checked = true;
                priorities.appendChild(priority);
                var label = d.parentNode.querySelector("label#" + d.id);
                priorities.appendChild(document.createTextNode(label.innerText));
                priorities.appendChild(document.createElement("br"));
            });
        });
        document.querySelectorAll("div#roles input").forEach(d => {
            var label = d.parentNode.querySelector("label#" + d.id);
            var role = document.createElement("option");
            role.id = d.id;
            role.innerText = label.innerText;
            role.selected = d.checked;
            document.querySelector("select#role").appendChild(role);
        });
        document.querySelectorAll("#week .weekday").forEach(d => {
            var value = +d.getAttribute("data-value");
            if (defaults.burndownDays.includes(value) || defaults.weeklyHolidays.includes(value)) {
                var daytype = defaults.burndownDays.includes(value) ? "workday" : "holiday";
                dragdrop.dragged = document.querySelector("div." + daytype);
                dragdrop.add('dayOfWeek', d);
            }
        })
        document.querySelector("#estimateTemplate").content.querySelectorAll("label").forEach(label => {
            var size = label.parentNode.querySelector("input#" + label.id);
            var row = document.createElement("tr");
            var column = document.createElement("td");
            column.appendChild(label.cloneNode(true));
            row.appendChild(column);
            column = document.createElement("td");
            var input = document.createElement("input");
            input.id = size.id;
            input.value = size.value;
            column.appendChild(input);
            row.appendChild(column);
            document.querySelector("#sizeSettingsForm #sizes").appendChild(row);
        });
        document.querySelector("#estimateTemplate").content.querySelectorAll("input").forEach(d => {
            var label = d.parentNode.querySelector("label#" + d.id);
            var estimate = document.createElement("option");
            estimate.id = d.id;
            estimate.innerText = label.innerText;
            document.querySelector("select#size").appendChild(estimate);
            estimate = document.createElement("div");
            estimate.id = d.id;
            estimate.classList.add("dropzone");
            estimate.classList.add("estimate");
            estimate.innerHTML = `<div class="label">${label.innerText}<div>`;
            document.querySelector("#backlogScreen #sizes").appendChild(estimate);
        });
        document.querySelector("#defaultsDiv select#size option#" + defaults._size).selected = true;
        document.querySelector("#priorityTemplate").content.querySelectorAll("input").forEach(d => {
            var label = d.parentNode.querySelector("label#" + d.id);
            var priority = document.createElement("option");
            priority.id = d.id;
            priority.innerText = label.innerText;
            document.querySelector("select#priority").appendChild(priority);
            priority = document.createElement("div");
            priority.id = d.id;
            priority.classList.add("dropzone");
            priority.classList.add("priority");
            priority.innerHTML = `<div class="label">${label.innerText}</div>`;
            document.querySelector("#backlogScreen #priorities").appendChild(priority);
        });
        document.querySelector("#defaultsDiv select#priority option#" + defaults._priority).selected = true;
        dordodInit();
        // Drag and drop handlers
        document.addEventListener("dragstart", (event) => dragdrop.dragstart(event), false);
        document.addEventListener("dragover", (event) => event.preventDefault(), false);
        document.addEventListener("drop", function(event) {
            event.preventDefault();
            dragdrop.drop(event);
            dragdrop.dragged = '';
        }, false);
    }
    function callFunction(functionName, params) {
        if (functionName.split(".").length == 1) {
            var argType = typeof window[functionName];
            if (argType === "function") window[functionName](params);
        }
        else {
            params = window;
            var args = Array.prototype.slice.call(arguments, 2);
            var namespaces = functionName.split(".");
            var func = namespaces.pop();
            for(var i = 0; i < namespaces.length; i++) {
                params = params[namespaces[i]];
            }
            return params[func].apply(params, args);
        }
    }
    function rgbCallToHex(rgbFuncCall) {
        if (!rgbFuncCall.match(/^rgb/)) return rgbFuncCall;
        return "#" + rgbFuncCall.split("(")[1].split(")")[0].split(",")
            .map(i => (+i).toString(16).padStart(2, "0")).join("");
    }
    function dordodInit() {
        var today = new Date();
        var dordodScreen = document.querySelector("#dordodScreen");
        var list = dordodScreen.querySelector("#checklist");

        dordodScreen.querySelector("#sprints").innerText = "";
        project.sprints.getDev().forEach(s => {
            var sprint = project.sprints.get(s);
            var sprintName = sprint.data().name;
            var clSelector = document.querySelector("template#sprintCell").content.cloneNode(true);
            clSelector.querySelector(".clSelector").id = sprint.id;
            clSelector.querySelector("img").title = "Checklist for " + sprintName;
            clSelector.querySelector(".name").innerText = sprintName;
            dordodScreen.querySelector("#sprints").appendChild(clSelector);
            dordodScreen.querySelector("#" + sprint.id).addEventListener('click', () => {
                var checklist = [];
                var sprintFrame = project.checklists.make("Sprint: " + sprintName, checklist, sprint);
                var holder = sprintFrame.querySelector(".holder");
                holder.id = sprint.id;
                checklist = project.checklists.sprint.entry;
                sprintFrame.querySelector(".items")
                    .appendChild(project.checklists.make("Sprint Entry", checklist, sprint));
                checklist = project.checklists.sprint.exit;
                sprintFrame.querySelector(".items")
                    .appendChild(project.checklists.make("Sprint Exit", checklist, sprint));
                dordodScreen.querySelector("#checklist").innerText = "";
                dordodScreen.querySelector("#checklist").appendChild(sprintFrame);
                project.checklists.scheck.refreshGraphs(sprint);
            })
        });
        var currentChecklist = "#startDD";
        const projectEnd = project.dates.end();
        if (projectEnd && projectEnd < today) currentChecklist = "#stopDD";
        else {
            const sprint = project.sprints.getCurrent();
            if (sprint) currentChecklist = (`#sprints #${sprint.id}`);
        }
        project.checklists.show(currentChecklist);
    }
    function scheduleInit() {
        var today = new Date();
        document.querySelectorAll("#mslist tbody tr").forEach(r => {
            var ms = project.sprints.get(r);
            var age = ms.endDate() < today ? r.style.backgroundColor = "#eeeeee" :
                ms.startDate() > today ? r.style.backgroundColor = "#eeeeff" :
                r.style.backgroundColor = "#ffffff";
        });
    }
    function deleteItem(event) {
        var id = event.target.closest(".item").id;
        var selector = '#' + id;
        var element = document.querySelector(selector);
        var parent = element.parentElement;
        var confirm = document.querySelector("#confirmDelete");
        var clone = element.cloneNode(true);
        clone.style.removeProperty("position");
        var deleted = confirm.querySelector('#message').appendChild(clone);
        confirm.style.display = 'block';
        confirm.querySelector('#yes').onclick = function (event) {
            document.querySelectorAll(selector).forEach(n => n.remove());
            confirm.style.display = 'none';
        };
        confirm.querySelector('#no').onclick = function (event) {
            confirm.querySelector('#message').removeChild(deleted);
            confirm.style.display = 'none';
        };
    }
    function getJSONData(node) {
        var data = {};
        try {
            data = JSON.parse(node.querySelector("#data").innerText);
        }
        catch (c) {
            console.log("Warning: could not parse JSON inside #data of", node);
        }
        return data;
    }
    function onadd_backlogitem(params) {
        var hlcolor = "lightgray";
        var id = dragdrop.dragged.id;
        var data = getJSONData(params);
        var backlogItem = project.backlog.get(id);
        params.querySelector(".itemName").innerText = backlogItem.data().name ?
            backlogItem.data().name.trim() : "[Not Set]";
        params.classList.remove("backlogitem");
        params.classList.add("newTask");
        params.querySelector(".burndown").onclick = project.burndown.edit;
        params.style.color = dragdrop.dragged.dataset.oldColor;
        var oldBackgroundColor = dragdrop.dragged.dataset.oldBackgroundColor;
        if (!oldBackgroundColor) oldBackgroundColor = dragdrop.dragged.style.backgroundColor;
        var oldColor = dragdrop.dragged.dataset.oldColor;
        if (!oldColor) oldColor = dragdrop.dragged.style.color;
        params.style.color = oldColor;
        params.style.backgroundColor = oldBackgroundColor;
        form.initData("#requirementsForm", params);
        project.ui.sizes().forEach(s => delete data[s]);
        project.ui.priorities().forEach(s => delete data[s]);
        data.name = backlogItem.data().name;
        data[backlogItem.size()] = true;
        data[backlogItem.priority()] = true;
        if (id != "development") data.reference = id;
        params.addEventListener('mouseover', (event) => {
            [...document.querySelectorAll("#scheduleEditor #backlog #list .reqt")]
                .filter(r => r.id == id)
                .forEach(r => r.classList.add("highlight"));
            const sprints = event.target.closest("#sprints");
            if (sprints) {
                [...sprints.querySelectorAll(".taskbrief")]
                    .filter(r => getJSONData(r).reference == id)
                    .forEach(r => r.classList.add("highlight"));
            }
            [...document.querySelectorAll("#scheduleEditor .highlight")]
                .filter(r => r.style.backgroundColor != hlcolor)
                .forEach(r => {
                    const data = project.backlog.get(r.id).data();
                    r.dataset.oldBackgroundColor = data.noteColor;
                    r.dataset.oldColor = data.textColor;
                    r.style.backgroundColor = hlcolor;
                });
        });
        params.addEventListener('mouseout', (event) => {
            [...document.querySelectorAll("#scheduleEditor .highlight")]
                .forEach(r => {
                    var data = project.backlog.get(r.id).data();
                    if (r.id.startsWith("task"))
                        data = project.backlog.get(getJSONData(r).reference).data();
                    r.style.backgroundColor = data.noteColor;
                    r.style.color = data.textColor;
                    r.classList.remove("highlight")
                });
        });
        params.querySelector("#data").innerText = JSON.stringify(data);
        if (project.ui.backlog.filtered) {
            [...document.querySelectorAll("#scheduleEditor #backlog #list #" + data.reference)]
                .forEach(r => r.classList.add("hidden"));
        }
    }
    function onadd_dayOfWeek(params) {
        var nodes = [...params.closest("td").querySelectorAll(".dropzone")];
        if (nodes.length > 1) {
            params.parentNode.removeChild(params);
            return;
        }
        var dropzone = params.closest(".weekday");
        dropzone.querySelector(".dayOfWeek").style.display = "inline-block";
        dropzone.querySelector(".dayOfWeek").style.removeProperty("width");
        var edit = dropzone.querySelector(".edit");
        edit.parentNode.removeChild(edit);
        edit = dropzone.querySelector(".itemName");
        edit.parentNode.removeChild(edit);
    }
    function onadd_newTask(params) {
        var role = params.closest("tbody").id;
        var data = getJSONData(params);
        data[defaults.priority] = true;
        data[defaults.size] = true;
        params.querySelector(".burndown").onclick = project.burndown.edit;
        params.querySelector("#data").innerText = JSON.stringify(data);
        var dropTable = params.closest("table");
        if (dropTable.id == "devtasklist" || dropTable.id == "msbacklog" || dropTable.id == "qabacklog") {
            var sprint = params.closest("#sprintEditor").querySelector(".sprint");
            var spRow = document.querySelector("#scheduleScreen #" + sprint.id);
            var status = [...params.closest("td").classList].filter(f => statuses.map(s => s.value).filter(s => s == f).length)[0];
            if (role != '') data = project.tasks.assign(params, params.closest("td"), role);
            params.querySelector("#data").innerText = JSON.stringify(data);
            var taskCopy = params.cloneNode(true);
            taskCopy.querySelector(".burndown").onclick = project.burndown.edit;
            taskCopy.querySelector(".edit").onclick = form.edit;
            taskCopy.querySelector(".delete").onclick = deleteItem;
            spRow.querySelector("." + status).appendChild(taskCopy);
            project.ui.sprint.edit(sprint);
        }
    }
    function onadd_sprint(params) {
        var mstype = params.querySelector("#development") ? "development" : "testing";
        params.classList.add(mstype);
        var data = getJSONData(params);
        data.type = mstype;
        data.weeks = defaults.sprintLenth;
        params.querySelector("#data").innerText = JSON.stringify(data);
        if (mstype != 'development') return;
        project.team.developers.forEach(dev => {
            var role = project.team.member(dev).data().role;
            data[dev] = defaults.capacity[role];
            data["vac_" + dev] = defaults.capacity.vacation;
        });
        params.querySelector("#data").innerText = JSON.stringify(data);
        // Add development MS to tracking tab
        var msnode = params.cloneNode(true);
        msnode.draggable = false;
        msnode.classList.remove("dragable");
        msnode.querySelector("#development").addEventListener("click", function(event) {
            project.ui.sprint.edit(event.target.closest(".sprint"));
        });
        msnode.querySelector("#development").setAttribute("title", "Click to edit this sprint");
        var hand = msnode.querySelector(".hand");
        hand.parentElement.removeChild(hand);
        msnode.querySelectorAll(".controls").forEach(r => r.parentElement.removeChild(r));
        var msdiv = document.querySelector("#msTemplate").content.cloneNode(true);
        var currentMS = project.sprints.getCurrent();
        if (currentMS && params.id == currentMS.id) {
            msdiv.querySelector("tr").classList.add("current");
        }
        var dateRange = "[Not set]";
        if (start = project.sprints.get(params).startDate()) {
            var end = project.sprints.get(params).endDate();
            dateRange = start.toLocaleDateString(undefined, { month: "short", day: "numeric" })
                + " - " + end.toLocaleDateString(undefined, { month: "short", day: "numeric" });
            var schedule = msdiv.querySelector("#schedule");
            schedule.innerText = dateRange;
        }
        msdiv.querySelector(".msrequirements").id = params.id;
        msdiv.querySelector(".msicon").appendChild(msnode);
        var devSprints = document.querySelector("#mslist #sprints");
        devSprints.appendChild(msdiv);
    }
    function onadd_teamMember(params) {
        var role = params.querySelector(".item").id;
        params.classList.add(role);
        var data = getJSONData(params);
        data.role = role;
        if (role == "developer" || role == "lead") {
            project.sprints.getDev().forEach(msdiv => {
                var msdata = getJSONData(msdiv);
                msdata[params.id] = defaults.capacity[role];
                msdata["vac_" + params.id] = defaults.capacity.vacation;
                msdiv.querySelector("#data").innerText = JSON.stringify(msdata);
            })
        }
        params.querySelector("#data").innerText = JSON.stringify(data);
    }
    function onadd_workItem(params) {
        var requirements = document.querySelector("#scheduleScreen #backlog #list");
        var description = params.querySelector(".itemName").innerText;
        var node = document.querySelector("#backlogShort").content.cloneNode(true);
        var reqt = node.querySelector(".reqt");
        var dataDiv = reqt.querySelector("#data");
        var level = [...dragdrop.dragged.parentElement.classList].filter(c => c.match(/level/))[0];
        reqt.id = params.id;
        reqt.style.color = params.style.color;
        reqt.style.backgroundColor = params.style.backgroundColor;
        reqt.querySelector(".summary").innerText = description;
        var data = getJSONData(params);
        data[defaults.priority] = true;
        data[defaults.size] = true;
        data.level = level;
        data.left = params.style.left;
        data.top = params.style.top;
        data.noteColor = params.style.backgroundColor;
        data.textColor = "black";
        params.querySelector("#data").innerText = JSON.stringify(data);
        dataDiv.innerText = JSON.stringify(data);
        requirements.appendChild(reqt);
        var n = document.querySelector("#backlogScreen #sizes #" + defaults.size);
        n && n.appendChild(reqt.cloneNode(true));
        n = document.querySelector("#backlogScreen #priorities #" + defaults.priority)
        n && n.appendChild(reqt.cloneNode(true));
    }
    function onedit_requirements(params) {
        var data = getJSONData(params);
        if (!data.name) return;
        document.querySelectorAll("#" + params.id).forEach(requirement => {
            var title = requirement.querySelector(".itemName");
            if (title == null) title = requirement.querySelector(".summary");
            title.innerText = data.name;
            title.style.color = data.textColor;
            var summary = requirement.querySelector(".summary");
            if (summary != null) summary.innerText = data.name;
            requirement.style.backgroundColor = data.noteColor;
            requirement.style.color = data.textColor;
        });
        [...document.querySelectorAll("#scheduleEditor #sprints .taskbrief")].forEach(t => {
            var tdata = getJSONData(t);
            if (tdata.reference == params.id) {
                t.style.backgroundColor = data.noteColor;
                t.style.color = data.textColor;
            }
        });
        var requirement = document.querySelector("#backlogScreen #priorities #" + params.id);
        var priority = requirement.closest(".dropzone").id;
        if (!data[priority]) { // Priority was changed
            var newPriority = project.backlog.get(params.id).priority();
            document.querySelector("#backlogScreen #priorities #" + newPriority).appendChild(requirement);
        }
        requirement = document.querySelector("#backlogScreen #sizes #" + params.id);
        var size = requirement.closest(".dropzone").id;
        if (!data[size]) { // Size was changed
            var newSize = project.backlog.get(params.id).size();
            document.querySelector("#backlogScreen #sizes #" + newSize).appendChild(requirement);
        }
    }
    function oninsert_task(params) { onadd_backlogitem(params); }
    function oninsert_team(params) { onadd_teamMember(params); }
    function oninsert_sprints(params) {
        onadd_sprint(params);
        project.ui.sprint.syncTabs();
    }
    function onmovetoend_development(params) { project.ui.sprint.syncTabs(); }
    function onmovetoend_sprint(params) {
        var sprintNo = 0;
        document.querySelectorAll("#scheduleDiv #itemImage #development").forEach(img => {
            var msid1 = img.closest(".sprint").id;
            var tr1 = document.querySelectorAll("#scheduleScreen .mslayout tr.msrequirements")[sprintNo];
            var msid2 = tr1.querySelector(".sprint").id;
            if (msid2 != msid1) {
                tr1 = document.querySelectorAll("#scheduleScreen #" + msid1)[0].closest("tr");
                tr2 = document.querySelectorAll("#scheduleScreen #" + msid2)[0].closest("tr");
                console.log("Exchange", tr1.querySelector(".itemName").innerText, "-", tr2.querySelector(".itemName").innerText)
                var parent = tr1.parentNode;
                parent.insertBefore(tr1, tr2);
            }
            sprintNo++;
        });
    }
    function onmovetoend_testing(params) { project.ui.sprint.syncTabs(); }
    function initForm_requirements(params) {
        params[0].querySelector(".container").style.width = "500px";
    }
    function initForm_sprints(params) {
        var capacityTable = params[0].querySelector("#capacitytable tbody");
        capacityTable.closest(".container").querySelector("#weeks").value = defaults.sprintLenth;
        capacityTable.closest(".container").style.width = "700px";
        var sprint = project.sprints.get({ id: params[1] });
        var dates = document.querySelector("#sprintsForm #msdates");
        var staff, sprintType;
        if ([...project.sprints.getAll()].filter(s => s.id == params[1])[0].classList.contains("development")) {
            sprintType = "development";
            staff = project.team.developers;
        }
        else {
            sprintType = "testing";
            staff = project.team.QAs;
        }
        var startDate = project.sprints.get(sprint).startDate();
        if (startDate == null) {
            dates.innerText = "Project start date not set";
        }
        else {
            var endDate = project.sprints.get(sprint).endDate();
            dates.innerText = startDate.toLocaleDateString() + " - " + endDate.toLocaleDateString();
        }

        capacityTable.innerText = "";
        var capacityRow = document.querySelector("template#capacityrow").content;
        var ncolomns = capacityRow.querySelectorAll(".data").length;
        var nrows = Math.ceil(staff.length / ncolomns);
        for(var row = 1; row <= nrows; row++) { // for every group, add rows
            var capacity = capacityRow.cloneNode(true);
            capacity.querySelectorAll("tr:not(#names)").forEach(r => {
                for (var i = 0; i < ncolomns; i++) {
                    var data = document.createElement("td");
                    data.classList.add("data");
                    r.appendChild(data);
                }
            })
            capacityTable.appendChild(capacity);
        }
        var index = 0;
        var nameCells = capacityTable.querySelectorAll("tr#names .data div");
        var capacityCells = capacityTable.querySelectorAll("tr#capacity .data");
        var vacationCells = capacityTable.querySelectorAll("tr#vacation .data");
        var capacityConfig = sprint.capacityConfig();
        staff.forEach(s => {
            var data = project.team.member(s).data();
            var vkey = "vac_" + s;
            var capacity = capacityConfig ? capacityConfig.filter(c => c.id == s)
                : [{ vacation: data[vkey] ? data[vkey] : defaults.capacity.vacation }];
            [...nameCells][index].innerText = data.name;
            if (sprintType == "development") {
                var capacityInput = document.createElement("input");
                capacityInput.id = s;
                capacityInput.value = capacity[0].availability;
                [...capacityCells][index].appendChild(capacityInput);
                [...capacityCells][index].appendChild(document.createTextNode("%"));
            }
            var vacation = document.createElement("input");
            vacation.id = vkey;
            vacation.value = capacity[0].vacation;
            [...vacationCells][index].appendChild(vacation);
            [...vacationCells][index].appendChild(document.createTextNode("days"));
            index++;
        });
        capacity = capacityTable.querySelectorAll("#capacity");
        capacity.forEach(c => c.style.display = sprintType == "testing" ? "none" : "");
    }
    function initForm_team(params) {
        var id = params.filter(t => typeof(t) == 'string' && t.match(/^team/))[0];
        var role = project.team.member(id).data().role;
        document.querySelector(".formDescription").innerText = "Role: " + role;
    }

</script>
